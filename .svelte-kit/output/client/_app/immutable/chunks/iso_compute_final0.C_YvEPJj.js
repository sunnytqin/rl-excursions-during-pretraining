var os=Object.defineProperty;var ls=(a,e,t)=>e in a?os(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ee=(a,e,t)=>(ls(a,typeof e!="symbol"?e+"":e,t),t),us=(a,e,t)=>{if(!e.has(a))throw TypeError("Cannot "+t)};var aa=(a,e,t)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,t)};var Mr=(a,e,t)=>(us(a,e,"access private method"),t);import{s as tr,n as Ne,o as z0,a as cs,E as A0,b as or,r as _0,l as wn}from"./scheduler.CHFMnfDQ.js";import{S as rr,i as ar,e as oe,F as hs,d as le,g as H,h as P,k as ne,r as mr,f as fe,C as ms,u as dr,j as _e,s as Ue,H as ut,b as Xe,G as ct,v as Ia,w as Ht,p as Ot,t as Le,l as Re,o as Ve,B as B0,I as jt,c as mt,a as dt,m as pt,n as ft,J as Tr,K as ds}from"./index.CVT-IMcY.js";import{e as xt,u as qa,o as Fa}from"./each.CeinbROj.js";const ps=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function fs(a){let e,t,r,n,i;return document.title=e=a[0],{c(){t=oe("meta"),r=oe("meta"),i=oe("meta"),this.h()},l(s){const l=hs("svelte-1u7ey3",document.head);t=le(l,"META",{name:!0,content:!0}),r=le(l,"META",{property:!0,content:!0}),i=le(l,"META",{property:!0,content:!0}),l.forEach(H),this.h()},h(){P(t,"name","description"),P(t,"content",a[2]),P(r,"property","og:title"),P(r,"content",n=a[1]??a[0]),P(i,"property","og:description"),P(i,"content",a[2])},m(s,l){ne(document.head,t),ne(document.head,r),ne(document.head,i)},p(s,[l]){l&1&&e!==(e=s[0])&&(document.title=e),l&4&&P(t,"content",s[2]),l&3&&n!==(n=s[1]??s[0])&&P(r,"content",n),l&4&&P(i,"content",s[2])},i:Ne,o:Ne,d(s){H(t),H(r),H(i)}}}function gs(a,e,t){let{title:r}=e,{ogTitle:n=null}=e,{description:i}=e;return a.$$set=s=>{"title"in s&&t(0,r=s.title),"ogTitle"in s&&t(1,n=s.ogTitle),"description"in s&&t(2,i=s.description)},[r,n,i]}class tc extends rr{constructor(e){super(),ar(this,e,gs,fs,tr,{title:0,ogTitle:1,description:2})}}class tt{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new tt(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class st{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new st(t,tt.range(this,e))}}class B{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,n,i,s=t&&t.loc;if(s&&s.start<=s.end){var l=s.lexer.input;n=s.start,i=s.end,n===l.length?r+=" at end of input: ":r+=" at position "+(n+1)+": ";var u=l.slice(n,i).replace(/[^]/g,"$&̲"),m;n>15?m="…"+l.slice(n-15,n):m=l.slice(0,n);var h;i+15<l.length?h=l.slice(i,i+15)+"…":h=l.slice(i),r+=m+u+h}var p=new Error(r);return p.name="ParseError",p.__proto__=B.prototype,p.position=n,n!=null&&i!=null&&(p.length=i-n),p.rawMessage=e,p}}B.prototype.__proto__=Error.prototype;var vs=function(e,t){return e.indexOf(t)!==-1},bs=function(e,t){return e===void 0?t:e},ys=/([A-Z])/g,ws=function(e){return e.replace(ys,"-$1").toLowerCase()},xs={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ks=/[&><"']/g;function $s(a){return String(a).replace(ks,e=>xs[e])}var C0=function a(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?a(e.body[0]):e:e.type==="font"?a(e.body):e},Ss=function(e){var t=C0(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},Ms=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},Ts=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},Z={contains:vs,deflt:bs,escape:$s,hyphenate:ws,getBaseElem:C0,isCharacterBox:Ss,protocolFromUrl:Ts},Fr={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,e)=>(e.push(a),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function zs(a){if(a.default)return a.default;var e=a.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Na{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Fr)if(Fr.hasOwnProperty(t)){var r=Fr[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:zs(r)}}reportNonstrict(e,t,r){var n=this.strict;if(typeof n=="function"&&(n=n(e,t,r)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new B("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var n=this.strict;if(typeof n=="function")try{n=n(e,t,r)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Z.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Rt{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return gt[As[this.id]]}sub(){return gt[_s[this.id]]}fracNum(){return gt[Bs[this.id]]}fracDen(){return gt[Cs[this.id]]}cramp(){return gt[Es[this.id]]}text(){return gt[Ls[this.id]]}isTight(){return this.size>=2}}var Ha=0,Hr=1,Jt=2,zt=3,pr=4,it=5,er=6,je=7,gt=[new Rt(Ha,0,!1),new Rt(Hr,0,!0),new Rt(Jt,1,!1),new Rt(zt,1,!0),new Rt(pr,2,!1),new Rt(it,2,!0),new Rt(er,3,!1),new Rt(je,3,!0)],As=[pr,it,pr,it,er,je,er,je],_s=[it,it,it,it,je,je,je,je],Bs=[Jt,zt,pr,it,er,je,er,je],Cs=[zt,zt,it,it,je,je,je,je],Es=[Hr,Hr,zt,zt,it,it,je,je],Ls=[Ha,Hr,Jt,zt,Jt,zt,Jt,zt],J={DISPLAY:gt[Ha],TEXT:gt[Jt],SCRIPT:gt[pr],SCRIPTSCRIPT:gt[er]},Ma=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Rs(a){for(var e=0;e<Ma.length;e++)for(var t=Ma[e],r=0;r<t.blocks.length;r++){var n=t.blocks[r];if(a>=n[0]&&a<=n[1])return t.name}return null}var Nr=[];Ma.forEach(a=>a.blocks.forEach(e=>Nr.push(...e)));function E0(a){for(var e=0;e<Nr.length;e+=2)if(a>=Nr[e]&&a<=Nr[e+1])return!0;return!1}var Qt=80,Ds=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Is=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},qs=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Fs=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},Ns=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},Hs=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},Os=function(e,t,r){var n=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},Ps=function(e,t,r){t=1e3*t;var n="";switch(e){case"sqrtMain":n=Ds(t,Qt);break;case"sqrtSize1":n=Is(t,Qt);break;case"sqrtSize2":n=qs(t,Qt);break;case"sqrtSize3":n=Fs(t,Qt);break;case"sqrtSize4":n=Ns(t,Qt);break;case"sqrtTall":n=Os(t,Qt,r)}return n},Ws=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},xn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Vs=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class br{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Z.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var vt={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},zr={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},kn={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Gs(a,e){vt[a]=e}function Oa(a,e,t){if(!vt[e])throw new Error("Font metrics not found for font: "+e+".");var r=a.charCodeAt(0),n=vt[e][r];if(!n&&a[0]in kn&&(r=kn[a[0]].charCodeAt(0),n=vt[e][r]),!n&&t==="text"&&E0(r)&&(n=vt[e][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}var na={};function Ys(a){var e;if(a>=5?e=0:a>=3?e=1:e=2,!na[e]){var t=na[e]={cssEmPerMu:zr.quad[e]/18};for(var r in zr)zr.hasOwnProperty(r)&&(t[r]=zr[r][e])}return na[e]}var js=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],$n=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Sn=function(e,t){return t.size<2?e:js[e-1][t.size-1]};class Tt{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Tt.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=$n[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new Tt(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Sn(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:$n[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=Sn(Tt.BASESIZE,e);return this.size===t&&this.textSize===Tt.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Tt.BASESIZE?["sizing","reset-size"+this.size,"size"+Tt.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Ys(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Tt.BASESIZE=6;var Ta={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Us={ex:!0,em:!0,mu:!0},L0=function(e){return typeof e!="string"&&(e=e.unit),e in Ta||e in Us||e==="ex"},qe=function(e,t){var r;if(e.unit in Ta)r=Ta[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var n;if(t.style.isTight()?n=t.havingStyle(t.style.text()):n=t,e.unit==="ex")r=n.fontMetrics().xHeight;else if(e.unit==="em")r=n.fontMetrics().quad;else throw new B("Invalid unit: '"+e.unit+"'");n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},E=function(e){return+e.toFixed(4)+"em"},qt=function(e){return e.filter(t=>t).join(" ")},R0=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},D0=function(e){var t=document.createElement(e);t.className=qt(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},Xs=/[\s"'>/=\x00-\x1f]/,I0=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Z.escape(qt(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Z.hyphenate(n)+":"+this.style[n]+";");r&&(t+=' style="'+Z.escape(r)+'"');for(var i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(Xs.test(i))throw new B("Invalid attribute name '"+i+"'");t+=" "+i+'="'+Z.escape(this.attributes[i])+'"'}t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">",t};class yr{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,R0.call(this,e,r,n),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Z.contains(this.classes,e)}toNode(){return D0.call(this,"span")}toMarkup(){return I0.call(this,"span")}}class Pa{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,R0.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Z.contains(this.classes,e)}toNode(){return D0.call(this,"a")}toMarkup(){return I0.call(this,"a")}}class Ks{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Z.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Z.escape(this.src)+'"'+(' alt="'+Z.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=Z.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+Z.escape(t)+'"'),e+="'/>",e}}var Zs={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ot{constructor(e,t,r,n,i,s,l,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=s||0,this.classes=l||[],this.style=u||{},this.maxFontSize=0;var m=Rs(this.text.charCodeAt(0));m&&this.classes.push(m+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Zs[this.text])}hasClass(e){return Z.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=E(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=qt(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Z.escape(qt(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Z.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+Z.escape(r)+'"');var i=Z.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}}class _t{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Z.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Ft{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",xn[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Z.escape(this.alternate)+'"/>':'<path d="'+Z.escape(xn[this.pathName])+'"/>'}}class za{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Z.escape(this.attributes[t])+'"');return e+="/>",e}}function Mn(a){if(a instanceof ot)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function Qs(a){if(a instanceof yr)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}var Js={bin:1,close:1,inner:1,open:1,punct:1,rel:1},eo={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Be={math:{},text:{}};function o(a,e,t,r,n,i){Be[a][n]={font:e,group:t,replace:r},i&&r&&(Be[a][r]=Be[a][n])}var c="math",T="text",d="main",v="ams",De="accent-token",W="bin",Ke="close",nr="inner",Q="mathord",Pe="op-token",nt="open",Xr="punct",b="rel",Et="spacing",w="textord";o(c,d,b,"≡","\\equiv",!0);o(c,d,b,"≺","\\prec",!0);o(c,d,b,"≻","\\succ",!0);o(c,d,b,"∼","\\sim",!0);o(c,d,b,"⊥","\\perp");o(c,d,b,"⪯","\\preceq",!0);o(c,d,b,"⪰","\\succeq",!0);o(c,d,b,"≃","\\simeq",!0);o(c,d,b,"∣","\\mid",!0);o(c,d,b,"≪","\\ll",!0);o(c,d,b,"≫","\\gg",!0);o(c,d,b,"≍","\\asymp",!0);o(c,d,b,"∥","\\parallel");o(c,d,b,"⋈","\\bowtie",!0);o(c,d,b,"⌣","\\smile",!0);o(c,d,b,"⊑","\\sqsubseteq",!0);o(c,d,b,"⊒","\\sqsupseteq",!0);o(c,d,b,"≐","\\doteq",!0);o(c,d,b,"⌢","\\frown",!0);o(c,d,b,"∋","\\ni",!0);o(c,d,b,"∝","\\propto",!0);o(c,d,b,"⊢","\\vdash",!0);o(c,d,b,"⊣","\\dashv",!0);o(c,d,b,"∋","\\owns");o(c,d,Xr,".","\\ldotp");o(c,d,Xr,"⋅","\\cdotp");o(c,d,w,"#","\\#");o(T,d,w,"#","\\#");o(c,d,w,"&","\\&");o(T,d,w,"&","\\&");o(c,d,w,"ℵ","\\aleph",!0);o(c,d,w,"∀","\\forall",!0);o(c,d,w,"ℏ","\\hbar",!0);o(c,d,w,"∃","\\exists",!0);o(c,d,w,"∇","\\nabla",!0);o(c,d,w,"♭","\\flat",!0);o(c,d,w,"ℓ","\\ell",!0);o(c,d,w,"♮","\\natural",!0);o(c,d,w,"♣","\\clubsuit",!0);o(c,d,w,"℘","\\wp",!0);o(c,d,w,"♯","\\sharp",!0);o(c,d,w,"♢","\\diamondsuit",!0);o(c,d,w,"ℜ","\\Re",!0);o(c,d,w,"♡","\\heartsuit",!0);o(c,d,w,"ℑ","\\Im",!0);o(c,d,w,"♠","\\spadesuit",!0);o(c,d,w,"§","\\S",!0);o(T,d,w,"§","\\S");o(c,d,w,"¶","\\P",!0);o(T,d,w,"¶","\\P");o(c,d,w,"†","\\dag");o(T,d,w,"†","\\dag");o(T,d,w,"†","\\textdagger");o(c,d,w,"‡","\\ddag");o(T,d,w,"‡","\\ddag");o(T,d,w,"‡","\\textdaggerdbl");o(c,d,Ke,"⎱","\\rmoustache",!0);o(c,d,nt,"⎰","\\lmoustache",!0);o(c,d,Ke,"⟯","\\rgroup",!0);o(c,d,nt,"⟮","\\lgroup",!0);o(c,d,W,"∓","\\mp",!0);o(c,d,W,"⊖","\\ominus",!0);o(c,d,W,"⊎","\\uplus",!0);o(c,d,W,"⊓","\\sqcap",!0);o(c,d,W,"∗","\\ast");o(c,d,W,"⊔","\\sqcup",!0);o(c,d,W,"◯","\\bigcirc",!0);o(c,d,W,"∙","\\bullet",!0);o(c,d,W,"‡","\\ddagger");o(c,d,W,"≀","\\wr",!0);o(c,d,W,"⨿","\\amalg");o(c,d,W,"&","\\And");o(c,d,b,"⟵","\\longleftarrow",!0);o(c,d,b,"⇐","\\Leftarrow",!0);o(c,d,b,"⟸","\\Longleftarrow",!0);o(c,d,b,"⟶","\\longrightarrow",!0);o(c,d,b,"⇒","\\Rightarrow",!0);o(c,d,b,"⟹","\\Longrightarrow",!0);o(c,d,b,"↔","\\leftrightarrow",!0);o(c,d,b,"⟷","\\longleftrightarrow",!0);o(c,d,b,"⇔","\\Leftrightarrow",!0);o(c,d,b,"⟺","\\Longleftrightarrow",!0);o(c,d,b,"↦","\\mapsto",!0);o(c,d,b,"⟼","\\longmapsto",!0);o(c,d,b,"↗","\\nearrow",!0);o(c,d,b,"↩","\\hookleftarrow",!0);o(c,d,b,"↪","\\hookrightarrow",!0);o(c,d,b,"↘","\\searrow",!0);o(c,d,b,"↼","\\leftharpoonup",!0);o(c,d,b,"⇀","\\rightharpoonup",!0);o(c,d,b,"↙","\\swarrow",!0);o(c,d,b,"↽","\\leftharpoondown",!0);o(c,d,b,"⇁","\\rightharpoondown",!0);o(c,d,b,"↖","\\nwarrow",!0);o(c,d,b,"⇌","\\rightleftharpoons",!0);o(c,v,b,"≮","\\nless",!0);o(c,v,b,"","\\@nleqslant");o(c,v,b,"","\\@nleqq");o(c,v,b,"⪇","\\lneq",!0);o(c,v,b,"≨","\\lneqq",!0);o(c,v,b,"","\\@lvertneqq");o(c,v,b,"⋦","\\lnsim",!0);o(c,v,b,"⪉","\\lnapprox",!0);o(c,v,b,"⊀","\\nprec",!0);o(c,v,b,"⋠","\\npreceq",!0);o(c,v,b,"⋨","\\precnsim",!0);o(c,v,b,"⪹","\\precnapprox",!0);o(c,v,b,"≁","\\nsim",!0);o(c,v,b,"","\\@nshortmid");o(c,v,b,"∤","\\nmid",!0);o(c,v,b,"⊬","\\nvdash",!0);o(c,v,b,"⊭","\\nvDash",!0);o(c,v,b,"⋪","\\ntriangleleft");o(c,v,b,"⋬","\\ntrianglelefteq",!0);o(c,v,b,"⊊","\\subsetneq",!0);o(c,v,b,"","\\@varsubsetneq");o(c,v,b,"⫋","\\subsetneqq",!0);o(c,v,b,"","\\@varsubsetneqq");o(c,v,b,"≯","\\ngtr",!0);o(c,v,b,"","\\@ngeqslant");o(c,v,b,"","\\@ngeqq");o(c,v,b,"⪈","\\gneq",!0);o(c,v,b,"≩","\\gneqq",!0);o(c,v,b,"","\\@gvertneqq");o(c,v,b,"⋧","\\gnsim",!0);o(c,v,b,"⪊","\\gnapprox",!0);o(c,v,b,"⊁","\\nsucc",!0);o(c,v,b,"⋡","\\nsucceq",!0);o(c,v,b,"⋩","\\succnsim",!0);o(c,v,b,"⪺","\\succnapprox",!0);o(c,v,b,"≆","\\ncong",!0);o(c,v,b,"","\\@nshortparallel");o(c,v,b,"∦","\\nparallel",!0);o(c,v,b,"⊯","\\nVDash",!0);o(c,v,b,"⋫","\\ntriangleright");o(c,v,b,"⋭","\\ntrianglerighteq",!0);o(c,v,b,"","\\@nsupseteqq");o(c,v,b,"⊋","\\supsetneq",!0);o(c,v,b,"","\\@varsupsetneq");o(c,v,b,"⫌","\\supsetneqq",!0);o(c,v,b,"","\\@varsupsetneqq");o(c,v,b,"⊮","\\nVdash",!0);o(c,v,b,"⪵","\\precneqq",!0);o(c,v,b,"⪶","\\succneqq",!0);o(c,v,b,"","\\@nsubseteqq");o(c,v,W,"⊴","\\unlhd");o(c,v,W,"⊵","\\unrhd");o(c,v,b,"↚","\\nleftarrow",!0);o(c,v,b,"↛","\\nrightarrow",!0);o(c,v,b,"⇍","\\nLeftarrow",!0);o(c,v,b,"⇏","\\nRightarrow",!0);o(c,v,b,"↮","\\nleftrightarrow",!0);o(c,v,b,"⇎","\\nLeftrightarrow",!0);o(c,v,b,"△","\\vartriangle");o(c,v,w,"ℏ","\\hslash");o(c,v,w,"▽","\\triangledown");o(c,v,w,"◊","\\lozenge");o(c,v,w,"Ⓢ","\\circledS");o(c,v,w,"®","\\circledR");o(T,v,w,"®","\\circledR");o(c,v,w,"∡","\\measuredangle",!0);o(c,v,w,"∄","\\nexists");o(c,v,w,"℧","\\mho");o(c,v,w,"Ⅎ","\\Finv",!0);o(c,v,w,"⅁","\\Game",!0);o(c,v,w,"‵","\\backprime");o(c,v,w,"▲","\\blacktriangle");o(c,v,w,"▼","\\blacktriangledown");o(c,v,w,"■","\\blacksquare");o(c,v,w,"⧫","\\blacklozenge");o(c,v,w,"★","\\bigstar");o(c,v,w,"∢","\\sphericalangle",!0);o(c,v,w,"∁","\\complement",!0);o(c,v,w,"ð","\\eth",!0);o(T,d,w,"ð","ð");o(c,v,w,"╱","\\diagup");o(c,v,w,"╲","\\diagdown");o(c,v,w,"□","\\square");o(c,v,w,"□","\\Box");o(c,v,w,"◊","\\Diamond");o(c,v,w,"¥","\\yen",!0);o(T,v,w,"¥","\\yen",!0);o(c,v,w,"✓","\\checkmark",!0);o(T,v,w,"✓","\\checkmark");o(c,v,w,"ℶ","\\beth",!0);o(c,v,w,"ℸ","\\daleth",!0);o(c,v,w,"ℷ","\\gimel",!0);o(c,v,w,"ϝ","\\digamma",!0);o(c,v,w,"ϰ","\\varkappa");o(c,v,nt,"┌","\\@ulcorner",!0);o(c,v,Ke,"┐","\\@urcorner",!0);o(c,v,nt,"└","\\@llcorner",!0);o(c,v,Ke,"┘","\\@lrcorner",!0);o(c,v,b,"≦","\\leqq",!0);o(c,v,b,"⩽","\\leqslant",!0);o(c,v,b,"⪕","\\eqslantless",!0);o(c,v,b,"≲","\\lesssim",!0);o(c,v,b,"⪅","\\lessapprox",!0);o(c,v,b,"≊","\\approxeq",!0);o(c,v,W,"⋖","\\lessdot");o(c,v,b,"⋘","\\lll",!0);o(c,v,b,"≶","\\lessgtr",!0);o(c,v,b,"⋚","\\lesseqgtr",!0);o(c,v,b,"⪋","\\lesseqqgtr",!0);o(c,v,b,"≑","\\doteqdot");o(c,v,b,"≓","\\risingdotseq",!0);o(c,v,b,"≒","\\fallingdotseq",!0);o(c,v,b,"∽","\\backsim",!0);o(c,v,b,"⋍","\\backsimeq",!0);o(c,v,b,"⫅","\\subseteqq",!0);o(c,v,b,"⋐","\\Subset",!0);o(c,v,b,"⊏","\\sqsubset",!0);o(c,v,b,"≼","\\preccurlyeq",!0);o(c,v,b,"⋞","\\curlyeqprec",!0);o(c,v,b,"≾","\\precsim",!0);o(c,v,b,"⪷","\\precapprox",!0);o(c,v,b,"⊲","\\vartriangleleft");o(c,v,b,"⊴","\\trianglelefteq");o(c,v,b,"⊨","\\vDash",!0);o(c,v,b,"⊪","\\Vvdash",!0);o(c,v,b,"⌣","\\smallsmile");o(c,v,b,"⌢","\\smallfrown");o(c,v,b,"≏","\\bumpeq",!0);o(c,v,b,"≎","\\Bumpeq",!0);o(c,v,b,"≧","\\geqq",!0);o(c,v,b,"⩾","\\geqslant",!0);o(c,v,b,"⪖","\\eqslantgtr",!0);o(c,v,b,"≳","\\gtrsim",!0);o(c,v,b,"⪆","\\gtrapprox",!0);o(c,v,W,"⋗","\\gtrdot");o(c,v,b,"⋙","\\ggg",!0);o(c,v,b,"≷","\\gtrless",!0);o(c,v,b,"⋛","\\gtreqless",!0);o(c,v,b,"⪌","\\gtreqqless",!0);o(c,v,b,"≖","\\eqcirc",!0);o(c,v,b,"≗","\\circeq",!0);o(c,v,b,"≜","\\triangleq",!0);o(c,v,b,"∼","\\thicksim");o(c,v,b,"≈","\\thickapprox");o(c,v,b,"⫆","\\supseteqq",!0);o(c,v,b,"⋑","\\Supset",!0);o(c,v,b,"⊐","\\sqsupset",!0);o(c,v,b,"≽","\\succcurlyeq",!0);o(c,v,b,"⋟","\\curlyeqsucc",!0);o(c,v,b,"≿","\\succsim",!0);o(c,v,b,"⪸","\\succapprox",!0);o(c,v,b,"⊳","\\vartriangleright");o(c,v,b,"⊵","\\trianglerighteq");o(c,v,b,"⊩","\\Vdash",!0);o(c,v,b,"∣","\\shortmid");o(c,v,b,"∥","\\shortparallel");o(c,v,b,"≬","\\between",!0);o(c,v,b,"⋔","\\pitchfork",!0);o(c,v,b,"∝","\\varpropto");o(c,v,b,"◀","\\blacktriangleleft");o(c,v,b,"∴","\\therefore",!0);o(c,v,b,"∍","\\backepsilon");o(c,v,b,"▶","\\blacktriangleright");o(c,v,b,"∵","\\because",!0);o(c,v,b,"⋘","\\llless");o(c,v,b,"⋙","\\gggtr");o(c,v,W,"⊲","\\lhd");o(c,v,W,"⊳","\\rhd");o(c,v,b,"≂","\\eqsim",!0);o(c,d,b,"⋈","\\Join");o(c,v,b,"≑","\\Doteq",!0);o(c,v,W,"∔","\\dotplus",!0);o(c,v,W,"∖","\\smallsetminus");o(c,v,W,"⋒","\\Cap",!0);o(c,v,W,"⋓","\\Cup",!0);o(c,v,W,"⩞","\\doublebarwedge",!0);o(c,v,W,"⊟","\\boxminus",!0);o(c,v,W,"⊞","\\boxplus",!0);o(c,v,W,"⋇","\\divideontimes",!0);o(c,v,W,"⋉","\\ltimes",!0);o(c,v,W,"⋊","\\rtimes",!0);o(c,v,W,"⋋","\\leftthreetimes",!0);o(c,v,W,"⋌","\\rightthreetimes",!0);o(c,v,W,"⋏","\\curlywedge",!0);o(c,v,W,"⋎","\\curlyvee",!0);o(c,v,W,"⊝","\\circleddash",!0);o(c,v,W,"⊛","\\circledast",!0);o(c,v,W,"⋅","\\centerdot");o(c,v,W,"⊺","\\intercal",!0);o(c,v,W,"⋒","\\doublecap");o(c,v,W,"⋓","\\doublecup");o(c,v,W,"⊠","\\boxtimes",!0);o(c,v,b,"⇢","\\dashrightarrow",!0);o(c,v,b,"⇠","\\dashleftarrow",!0);o(c,v,b,"⇇","\\leftleftarrows",!0);o(c,v,b,"⇆","\\leftrightarrows",!0);o(c,v,b,"⇚","\\Lleftarrow",!0);o(c,v,b,"↞","\\twoheadleftarrow",!0);o(c,v,b,"↢","\\leftarrowtail",!0);o(c,v,b,"↫","\\looparrowleft",!0);o(c,v,b,"⇋","\\leftrightharpoons",!0);o(c,v,b,"↶","\\curvearrowleft",!0);o(c,v,b,"↺","\\circlearrowleft",!0);o(c,v,b,"↰","\\Lsh",!0);o(c,v,b,"⇈","\\upuparrows",!0);o(c,v,b,"↿","\\upharpoonleft",!0);o(c,v,b,"⇃","\\downharpoonleft",!0);o(c,d,b,"⊶","\\origof",!0);o(c,d,b,"⊷","\\imageof",!0);o(c,v,b,"⊸","\\multimap",!0);o(c,v,b,"↭","\\leftrightsquigarrow",!0);o(c,v,b,"⇉","\\rightrightarrows",!0);o(c,v,b,"⇄","\\rightleftarrows",!0);o(c,v,b,"↠","\\twoheadrightarrow",!0);o(c,v,b,"↣","\\rightarrowtail",!0);o(c,v,b,"↬","\\looparrowright",!0);o(c,v,b,"↷","\\curvearrowright",!0);o(c,v,b,"↻","\\circlearrowright",!0);o(c,v,b,"↱","\\Rsh",!0);o(c,v,b,"⇊","\\downdownarrows",!0);o(c,v,b,"↾","\\upharpoonright",!0);o(c,v,b,"⇂","\\downharpoonright",!0);o(c,v,b,"⇝","\\rightsquigarrow",!0);o(c,v,b,"⇝","\\leadsto");o(c,v,b,"⇛","\\Rrightarrow",!0);o(c,v,b,"↾","\\restriction");o(c,d,w,"‘","`");o(c,d,w,"$","\\$");o(T,d,w,"$","\\$");o(T,d,w,"$","\\textdollar");o(c,d,w,"%","\\%");o(T,d,w,"%","\\%");o(c,d,w,"_","\\_");o(T,d,w,"_","\\_");o(T,d,w,"_","\\textunderscore");o(c,d,w,"∠","\\angle",!0);o(c,d,w,"∞","\\infty",!0);o(c,d,w,"′","\\prime");o(c,d,w,"△","\\triangle");o(c,d,w,"Γ","\\Gamma",!0);o(c,d,w,"Δ","\\Delta",!0);o(c,d,w,"Θ","\\Theta",!0);o(c,d,w,"Λ","\\Lambda",!0);o(c,d,w,"Ξ","\\Xi",!0);o(c,d,w,"Π","\\Pi",!0);o(c,d,w,"Σ","\\Sigma",!0);o(c,d,w,"Υ","\\Upsilon",!0);o(c,d,w,"Φ","\\Phi",!0);o(c,d,w,"Ψ","\\Psi",!0);o(c,d,w,"Ω","\\Omega",!0);o(c,d,w,"A","Α");o(c,d,w,"B","Β");o(c,d,w,"E","Ε");o(c,d,w,"Z","Ζ");o(c,d,w,"H","Η");o(c,d,w,"I","Ι");o(c,d,w,"K","Κ");o(c,d,w,"M","Μ");o(c,d,w,"N","Ν");o(c,d,w,"O","Ο");o(c,d,w,"P","Ρ");o(c,d,w,"T","Τ");o(c,d,w,"X","Χ");o(c,d,w,"¬","\\neg",!0);o(c,d,w,"¬","\\lnot");o(c,d,w,"⊤","\\top");o(c,d,w,"⊥","\\bot");o(c,d,w,"∅","\\emptyset");o(c,v,w,"∅","\\varnothing");o(c,d,Q,"α","\\alpha",!0);o(c,d,Q,"β","\\beta",!0);o(c,d,Q,"γ","\\gamma",!0);o(c,d,Q,"δ","\\delta",!0);o(c,d,Q,"ϵ","\\epsilon",!0);o(c,d,Q,"ζ","\\zeta",!0);o(c,d,Q,"η","\\eta",!0);o(c,d,Q,"θ","\\theta",!0);o(c,d,Q,"ι","\\iota",!0);o(c,d,Q,"κ","\\kappa",!0);o(c,d,Q,"λ","\\lambda",!0);o(c,d,Q,"μ","\\mu",!0);o(c,d,Q,"ν","\\nu",!0);o(c,d,Q,"ξ","\\xi",!0);o(c,d,Q,"ο","\\omicron",!0);o(c,d,Q,"π","\\pi",!0);o(c,d,Q,"ρ","\\rho",!0);o(c,d,Q,"σ","\\sigma",!0);o(c,d,Q,"τ","\\tau",!0);o(c,d,Q,"υ","\\upsilon",!0);o(c,d,Q,"ϕ","\\phi",!0);o(c,d,Q,"χ","\\chi",!0);o(c,d,Q,"ψ","\\psi",!0);o(c,d,Q,"ω","\\omega",!0);o(c,d,Q,"ε","\\varepsilon",!0);o(c,d,Q,"ϑ","\\vartheta",!0);o(c,d,Q,"ϖ","\\varpi",!0);o(c,d,Q,"ϱ","\\varrho",!0);o(c,d,Q,"ς","\\varsigma",!0);o(c,d,Q,"φ","\\varphi",!0);o(c,d,W,"∗","*",!0);o(c,d,W,"+","+");o(c,d,W,"−","-",!0);o(c,d,W,"⋅","\\cdot",!0);o(c,d,W,"∘","\\circ",!0);o(c,d,W,"÷","\\div",!0);o(c,d,W,"±","\\pm",!0);o(c,d,W,"×","\\times",!0);o(c,d,W,"∩","\\cap",!0);o(c,d,W,"∪","\\cup",!0);o(c,d,W,"∖","\\setminus",!0);o(c,d,W,"∧","\\land");o(c,d,W,"∨","\\lor");o(c,d,W,"∧","\\wedge",!0);o(c,d,W,"∨","\\vee",!0);o(c,d,w,"√","\\surd");o(c,d,nt,"⟨","\\langle",!0);o(c,d,nt,"∣","\\lvert");o(c,d,nt,"∥","\\lVert");o(c,d,Ke,"?","?");o(c,d,Ke,"!","!");o(c,d,Ke,"⟩","\\rangle",!0);o(c,d,Ke,"∣","\\rvert");o(c,d,Ke,"∥","\\rVert");o(c,d,b,"=","=");o(c,d,b,":",":");o(c,d,b,"≈","\\approx",!0);o(c,d,b,"≅","\\cong",!0);o(c,d,b,"≥","\\ge");o(c,d,b,"≥","\\geq",!0);o(c,d,b,"←","\\gets");o(c,d,b,">","\\gt",!0);o(c,d,b,"∈","\\in",!0);o(c,d,b,"","\\@not");o(c,d,b,"⊂","\\subset",!0);o(c,d,b,"⊃","\\supset",!0);o(c,d,b,"⊆","\\subseteq",!0);o(c,d,b,"⊇","\\supseteq",!0);o(c,v,b,"⊈","\\nsubseteq",!0);o(c,v,b,"⊉","\\nsupseteq",!0);o(c,d,b,"⊨","\\models");o(c,d,b,"←","\\leftarrow",!0);o(c,d,b,"≤","\\le");o(c,d,b,"≤","\\leq",!0);o(c,d,b,"<","\\lt",!0);o(c,d,b,"→","\\rightarrow",!0);o(c,d,b,"→","\\to");o(c,v,b,"≱","\\ngeq",!0);o(c,v,b,"≰","\\nleq",!0);o(c,d,Et," ","\\ ");o(c,d,Et," ","\\space");o(c,d,Et," ","\\nobreakspace");o(T,d,Et," ","\\ ");o(T,d,Et," "," ");o(T,d,Et," ","\\space");o(T,d,Et," ","\\nobreakspace");o(c,d,Et,null,"\\nobreak");o(c,d,Et,null,"\\allowbreak");o(c,d,Xr,",",",");o(c,d,Xr,";",";");o(c,v,W,"⊼","\\barwedge",!0);o(c,v,W,"⊻","\\veebar",!0);o(c,d,W,"⊙","\\odot",!0);o(c,d,W,"⊕","\\oplus",!0);o(c,d,W,"⊗","\\otimes",!0);o(c,d,w,"∂","\\partial",!0);o(c,d,W,"⊘","\\oslash",!0);o(c,v,W,"⊚","\\circledcirc",!0);o(c,v,W,"⊡","\\boxdot",!0);o(c,d,W,"△","\\bigtriangleup");o(c,d,W,"▽","\\bigtriangledown");o(c,d,W,"†","\\dagger");o(c,d,W,"⋄","\\diamond");o(c,d,W,"⋆","\\star");o(c,d,W,"◃","\\triangleleft");o(c,d,W,"▹","\\triangleright");o(c,d,nt,"{","\\{");o(T,d,w,"{","\\{");o(T,d,w,"{","\\textbraceleft");o(c,d,Ke,"}","\\}");o(T,d,w,"}","\\}");o(T,d,w,"}","\\textbraceright");o(c,d,nt,"{","\\lbrace");o(c,d,Ke,"}","\\rbrace");o(c,d,nt,"[","\\lbrack",!0);o(T,d,w,"[","\\lbrack",!0);o(c,d,Ke,"]","\\rbrack",!0);o(T,d,w,"]","\\rbrack",!0);o(c,d,nt,"(","\\lparen",!0);o(c,d,Ke,")","\\rparen",!0);o(T,d,w,"<","\\textless",!0);o(T,d,w,">","\\textgreater",!0);o(c,d,nt,"⌊","\\lfloor",!0);o(c,d,Ke,"⌋","\\rfloor",!0);o(c,d,nt,"⌈","\\lceil",!0);o(c,d,Ke,"⌉","\\rceil",!0);o(c,d,w,"\\","\\backslash");o(c,d,w,"∣","|");o(c,d,w,"∣","\\vert");o(T,d,w,"|","\\textbar",!0);o(c,d,w,"∥","\\|");o(c,d,w,"∥","\\Vert");o(T,d,w,"∥","\\textbardbl");o(T,d,w,"~","\\textasciitilde");o(T,d,w,"\\","\\textbackslash");o(T,d,w,"^","\\textasciicircum");o(c,d,b,"↑","\\uparrow",!0);o(c,d,b,"⇑","\\Uparrow",!0);o(c,d,b,"↓","\\downarrow",!0);o(c,d,b,"⇓","\\Downarrow",!0);o(c,d,b,"↕","\\updownarrow",!0);o(c,d,b,"⇕","\\Updownarrow",!0);o(c,d,Pe,"∐","\\coprod");o(c,d,Pe,"⋁","\\bigvee");o(c,d,Pe,"⋀","\\bigwedge");o(c,d,Pe,"⨄","\\biguplus");o(c,d,Pe,"⋂","\\bigcap");o(c,d,Pe,"⋃","\\bigcup");o(c,d,Pe,"∫","\\int");o(c,d,Pe,"∫","\\intop");o(c,d,Pe,"∬","\\iint");o(c,d,Pe,"∭","\\iiint");o(c,d,Pe,"∏","\\prod");o(c,d,Pe,"∑","\\sum");o(c,d,Pe,"⨂","\\bigotimes");o(c,d,Pe,"⨁","\\bigoplus");o(c,d,Pe,"⨀","\\bigodot");o(c,d,Pe,"∮","\\oint");o(c,d,Pe,"∯","\\oiint");o(c,d,Pe,"∰","\\oiiint");o(c,d,Pe,"⨆","\\bigsqcup");o(c,d,Pe,"∫","\\smallint");o(T,d,nr,"…","\\textellipsis");o(c,d,nr,"…","\\mathellipsis");o(T,d,nr,"…","\\ldots",!0);o(c,d,nr,"…","\\ldots",!0);o(c,d,nr,"⋯","\\@cdots",!0);o(c,d,nr,"⋱","\\ddots",!0);o(c,d,w,"⋮","\\varvdots");o(T,d,w,"⋮","\\varvdots");o(c,d,De,"ˊ","\\acute");o(c,d,De,"ˋ","\\grave");o(c,d,De,"¨","\\ddot");o(c,d,De,"~","\\tilde");o(c,d,De,"ˉ","\\bar");o(c,d,De,"˘","\\breve");o(c,d,De,"ˇ","\\check");o(c,d,De,"^","\\hat");o(c,d,De,"⃗","\\vec");o(c,d,De,"˙","\\dot");o(c,d,De,"˚","\\mathring");o(c,d,Q,"","\\@imath");o(c,d,Q,"","\\@jmath");o(c,d,w,"ı","ı");o(c,d,w,"ȷ","ȷ");o(T,d,w,"ı","\\i",!0);o(T,d,w,"ȷ","\\j",!0);o(T,d,w,"ß","\\ss",!0);o(T,d,w,"æ","\\ae",!0);o(T,d,w,"œ","\\oe",!0);o(T,d,w,"ø","\\o",!0);o(T,d,w,"Æ","\\AE",!0);o(T,d,w,"Œ","\\OE",!0);o(T,d,w,"Ø","\\O",!0);o(T,d,De,"ˊ","\\'");o(T,d,De,"ˋ","\\`");o(T,d,De,"ˆ","\\^");o(T,d,De,"˜","\\~");o(T,d,De,"ˉ","\\=");o(T,d,De,"˘","\\u");o(T,d,De,"˙","\\.");o(T,d,De,"¸","\\c");o(T,d,De,"˚","\\r");o(T,d,De,"ˇ","\\v");o(T,d,De,"¨",'\\"');o(T,d,De,"˝","\\H");o(T,d,De,"◯","\\textcircled");var q0={"--":!0,"---":!0,"``":!0,"''":!0};o(T,d,w,"–","--",!0);o(T,d,w,"–","\\textendash");o(T,d,w,"—","---",!0);o(T,d,w,"—","\\textemdash");o(T,d,w,"‘","`",!0);o(T,d,w,"‘","\\textquoteleft");o(T,d,w,"’","'",!0);o(T,d,w,"’","\\textquoteright");o(T,d,w,"“","``",!0);o(T,d,w,"“","\\textquotedblleft");o(T,d,w,"”","''",!0);o(T,d,w,"”","\\textquotedblright");o(c,d,w,"°","\\degree",!0);o(T,d,w,"°","\\degree");o(T,d,w,"°","\\textdegree",!0);o(c,d,w,"£","\\pounds");o(c,d,w,"£","\\mathsterling",!0);o(T,d,w,"£","\\pounds");o(T,d,w,"£","\\textsterling",!0);o(c,v,w,"✠","\\maltese");o(T,v,w,"✠","\\maltese");var Tn='0123456789/@."';for(var ia=0;ia<Tn.length;ia++){var zn=Tn.charAt(ia);o(c,d,w,zn,zn)}var An='0123456789!@*()-=+";:?/.,';for(var sa=0;sa<An.length;sa++){var _n=An.charAt(sa);o(T,d,w,_n,_n)}var Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var oa=0;oa<Or.length;oa++){var Ar=Or.charAt(oa);o(c,d,Q,Ar,Ar),o(T,d,w,Ar,Ar)}o(c,v,w,"C","ℂ");o(T,v,w,"C","ℂ");o(c,v,w,"H","ℍ");o(T,v,w,"H","ℍ");o(c,v,w,"N","ℕ");o(T,v,w,"N","ℕ");o(c,v,w,"P","ℙ");o(T,v,w,"P","ℙ");o(c,v,w,"Q","ℚ");o(T,v,w,"Q","ℚ");o(c,v,w,"R","ℝ");o(T,v,w,"R","ℝ");o(c,v,w,"Z","ℤ");o(T,v,w,"Z","ℤ");o(c,d,Q,"h","ℎ");o(T,d,Q,"h","ℎ");var te="";for(var Ye=0;Ye<Or.length;Ye++){var Fe=Or.charAt(Ye);te=String.fromCharCode(55349,56320+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56372+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56424+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56580+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56684+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56736+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56788+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56840+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56944+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),Ye<26&&(te=String.fromCharCode(55349,56632+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te),te=String.fromCharCode(55349,56476+Ye),o(c,d,Q,Fe,te),o(T,d,w,Fe,te))}te="𝕜";o(c,d,Q,"k",te);o(T,d,w,"k",te);for(var Gt=0;Gt<10;Gt++){var Dt=Gt.toString();te=String.fromCharCode(55349,57294+Gt),o(c,d,Q,Dt,te),o(T,d,w,Dt,te),te=String.fromCharCode(55349,57314+Gt),o(c,d,Q,Dt,te),o(T,d,w,Dt,te),te=String.fromCharCode(55349,57324+Gt),o(c,d,Q,Dt,te),o(T,d,w,Dt,te),te=String.fromCharCode(55349,57334+Gt),o(c,d,Q,Dt,te),o(T,d,w,Dt,te)}var Aa="ÐÞþ";for(var la=0;la<Aa.length;la++){var _r=Aa.charAt(la);o(c,d,Q,_r,_r),o(T,d,w,_r,_r)}var Br=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Bn=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],to=function(e,t){var r=e.charCodeAt(0),n=e.charCodeAt(1),i=(r-55296)*1024+(n-56320)+65536,s=t==="math"?0:1;if(119808<=i&&i<120484){var l=Math.floor((i-119808)/26);return[Br[l][2],Br[l][s]]}else if(120782<=i&&i<=120831){var u=Math.floor((i-120782)/10);return[Bn[u][2],Bn[u][s]]}else{if(i===120485||i===120486)return[Br[0][2],Br[0][s]];if(120486<i&&i<120782)return["",""];throw new B("Unsupported character: "+e)}},Kr=function(e,t,r){return Be[r][e]&&Be[r][e].replace&&(e=Be[r][e].replace),{value:e,metrics:Oa(e,t,r)}},ht=function(e,t,r,n,i){var s=Kr(e,t,r),l=s.metrics;e=s.value;var u;if(l){var m=l.italic;(r==="text"||n&&n.font==="mathit")&&(m=0),u=new ot(e,l.height,l.depth,m,l.skew,l.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),u=new ot(e,0,0,0,0,0,i);if(n){u.maxFontSize=n.sizeMultiplier,n.style.isTight()&&u.classes.push("mtight");var h=n.getColor();h&&(u.style.color=h)}return u},ro=function(e,t,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&Kr(e,"Main-Bold",t).metrics?ht(e,"Main-Bold",t,r,n.concat(["mathbf"])):e==="\\"||Be[t][e].font==="main"?ht(e,"Main-Regular",t,r,n):ht(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},ao=function(e,t,r,n,i){return i!=="textord"&&Kr(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},no=function(e,t,r){var n=e.mode,i=e.text,s=["mord"],l=n==="math"||n==="text"&&t.font,u=l?t.font:t.fontFamily,m="",h="";if(i.charCodeAt(0)===55349&&([m,h]=to(i,n)),m.length>0)return ht(i,m,n,t,s.concat(h));if(u){var p,g;if(u==="boldsymbol"){var y=ao(i,n,t,s,r);p=y.fontName,g=[y.fontClass]}else l?(p=H0[u].fontName,g=[u]):(p=Cr(u,t.fontWeight,t.fontShape),g=[u,t.fontWeight,t.fontShape]);if(Kr(i,p,n).metrics)return ht(i,p,n,t,s.concat(g));if(q0.hasOwnProperty(i)&&p.slice(0,10)==="Typewriter"){for(var $=[],k=0;k<i.length;k++)$.push(ht(i[k],p,n,t,s.concat(g)));return N0($)}}if(r==="mathord")return ht(i,"Math-Italic",n,t,s.concat(["mathnormal"]));if(r==="textord"){var S=Be[n][i]&&Be[n][i].font;if(S==="ams"){var z=Cr("amsrm",t.fontWeight,t.fontShape);return ht(i,z,n,t,s.concat("amsrm",t.fontWeight,t.fontShape))}else if(S==="main"||!S){var C=Cr("textrm",t.fontWeight,t.fontShape);return ht(i,C,n,t,s.concat(t.fontWeight,t.fontShape))}else{var M=Cr(S,t.fontWeight,t.fontShape);return ht(i,M,n,t,s.concat(M,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},io=(a,e)=>{if(qt(a.classes)!==qt(e.classes)||a.skew!==e.skew||a.maxFontSize!==e.maxFontSize)return!1;if(a.classes.length===1){var t=a.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in a.style)if(a.style.hasOwnProperty(r)&&a.style[r]!==e.style[r])return!1;for(var n in e.style)if(e.style.hasOwnProperty(n)&&a.style[n]!==e.style[n])return!1;return!0},so=a=>{for(var e=0;e<a.length-1;e++){var t=a[e],r=a[e+1];t instanceof ot&&r instanceof ot&&io(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,a.splice(e+1,1),e--)}return a},Wa=function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var s=e.children[i];s.height>t&&(t=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>n&&(n=s.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},Qe=function(e,t,r,n){var i=new yr(e,t,r,n);return Wa(i),i},F0=(a,e,t,r)=>new yr(a,e,t,r),oo=function(e,t,r){var n=Qe([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=E(n.height),n.maxFontSize=1,n},lo=function(e,t,r,n){var i=new Pa(e,t,r,n);return Wa(i),i},N0=function(e){var t=new br(e);return Wa(t),t},uo=function(e,t){return e instanceof br?Qe([],[e],t):e},co=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,s=1;s<t.length;s++){var l=-t[s].shift-i-t[s].elem.depth,u=l-(t[s-1].elem.height+t[s-1].elem.depth);i=i+l,r.push({type:"kern",size:u}),r.push(t[s])}return{children:r,depth:n}}var m;if(e.positionType==="top"){for(var h=e.positionData,p=0;p<e.children.length;p++){var g=e.children[p];h-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}m=h}else if(e.positionType==="bottom")m=-e.positionData;else{var y=e.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")m=-y.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")m=-y.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:m}},ho=function(e,t){for(var{children:r,depth:n}=co(e),i=0,s=0;s<r.length;s++){var l=r[s];if(l.type==="elem"){var u=l.elem;i=Math.max(i,u.maxFontSize,u.height)}}i+=2;var m=Qe(["pstrut"],[]);m.style.height=E(i);for(var h=[],p=n,g=n,y=n,$=0;$<r.length;$++){var k=r[$];if(k.type==="kern")y+=k.size;else{var S=k.elem,z=k.wrapperClasses||[],C=k.wrapperStyle||{},M=Qe(z,[m,S],void 0,C);M.style.top=E(-i-y-S.depth),k.marginLeft&&(M.style.marginLeft=k.marginLeft),k.marginRight&&(M.style.marginRight=k.marginRight),h.push(M),y+=S.height+S.depth}p=Math.min(p,y),g=Math.max(g,y)}var A=Qe(["vlist"],h);A.style.height=E(g);var D;if(p<0){var X=Qe([],[]),re=Qe(["vlist"],[X]);re.style.height=E(-p);var ae=Qe(["vlist-s"],[new ot("​")]);D=[Qe(["vlist-r"],[A,ae]),Qe(["vlist-r"],[re])]}else D=[Qe(["vlist-r"],[A])];var de=Qe(["vlist-t"],D);return D.length===2&&de.classes.push("vlist-t2"),de.height=g,de.depth=-p,de},mo=(a,e)=>{var t=Qe(["mspace"],[],e),r=qe(a,e);return t.style.marginRight=E(r),t},Cr=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var i;return t==="textbf"&&r==="textit"?i="BoldItalic":t==="textbf"?i="Bold":t==="textit"?i="Italic":i="Regular",n+"-"+i},H0={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},O0={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},po=function(e,t){var[r,n,i]=O0[e],s=new Ft(r),l=new _t([s],{width:E(n),height:E(i),style:"width:"+E(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),u=F0(["overlay"],[l],t);return u.height=i,u.style.height=E(i),u.style.width=E(n),u},x={fontMap:H0,makeSymbol:ht,mathsym:ro,makeSpan:Qe,makeSvgSpan:F0,makeLineSpan:oo,makeAnchor:lo,makeFragment:N0,wrapFragment:uo,makeVList:ho,makeOrd:no,makeGlue:mo,staticSvg:po,svgData:O0,tryCombineChars:so},Ie={number:3,unit:"mu"},Yt={number:4,unit:"mu"},Mt={number:5,unit:"mu"},fo={mord:{mop:Ie,mbin:Yt,mrel:Mt,minner:Ie},mop:{mord:Ie,mop:Ie,mrel:Mt,minner:Ie},mbin:{mord:Yt,mop:Yt,mopen:Yt,minner:Yt},mrel:{mord:Mt,mop:Mt,mopen:Mt,minner:Mt},mopen:{},mclose:{mop:Ie,mbin:Yt,mrel:Mt,minner:Ie},mpunct:{mord:Ie,mop:Ie,mrel:Mt,mopen:Ie,mclose:Ie,mpunct:Ie,minner:Ie},minner:{mord:Ie,mop:Ie,mbin:Yt,mrel:Mt,mopen:Ie,mpunct:Ie,minner:Ie}},go={mord:{mop:Ie},mop:{mord:Ie,mop:Ie},mbin:{},mrel:{},mopen:{},mclose:{mop:Ie},mpunct:{},minner:{mop:Ie}},P0={},Pr={},Wr={};function F(a){for(var{type:e,names:t,props:r,handler:n,htmlBuilder:i,mathmlBuilder:s}=a,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:n},u=0;u<t.length;++u)P0[t[u]]=l;e&&(i&&(Pr[e]=i),s&&(Wr[e]=s))}function Xt(a){var{type:e,htmlBuilder:t,mathmlBuilder:r}=a;F({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var Vr=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Oe=function(e){return e.type==="ordgroup"?e.body:[e]},Bt=x.makeSpan,vo=["leftmost","mbin","mopen","mrel","mop","mpunct"],bo=["rightmost","mrel","mclose","mpunct"],yo={display:J.DISPLAY,text:J.TEXT,script:J.SCRIPT,scriptscript:J.SCRIPTSCRIPT},wo={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},We=function(e,t,r,n){n===void 0&&(n=[null,null]);for(var i=[],s=0;s<e.length;s++){var l=ke(e[s],t);if(l instanceof br){var u=l.children;i.push(...u)}else i.push(l)}if(x.tryCombineChars(i),!r)return i;var m=t;if(e.length===1){var h=e[0];h.type==="sizing"?m=t.havingSize(h.size):h.type==="styling"&&(m=t.havingStyle(yo[h.style]))}var p=Bt([n[0]||"leftmost"],[],t),g=Bt([n[1]||"rightmost"],[],t),y=r==="root";return Cn(i,($,k)=>{var S=k.classes[0],z=$.classes[0];S==="mbin"&&Z.contains(bo,z)?k.classes[0]="mord":z==="mbin"&&Z.contains(vo,S)&&($.classes[0]="mord")},{node:p},g,y),Cn(i,($,k)=>{var S=_a(k),z=_a($),C=S&&z?$.hasClass("mtight")?go[S][z]:fo[S][z]:null;if(C)return x.makeGlue(C,m)},{node:p},g,y),i},Cn=function a(e,t,r,n,i){n&&e.push(n);for(var s=0;s<e.length;s++){var l=e[s],u=W0(l);if(u){a(u.children,t,r,null,i);continue}var m=!l.hasClass("mspace");if(m){var h=t(l,r.node);h&&(r.insertAfter?r.insertAfter(h):(e.unshift(h),s++))}m?r.node=l:i&&l.hasClass("newline")&&(r.node=Bt(["leftmost"])),r.insertAfter=(p=>g=>{e.splice(p+1,0,g),s++})(s)}n&&e.pop()},W0=function(e){return e instanceof br||e instanceof Pa||e instanceof yr&&e.hasClass("enclosing")?e:null},xo=function a(e,t){var r=W0(e);if(r){var n=r.children;if(n.length){if(t==="right")return a(n[n.length-1],"right");if(t==="left")return a(n[0],"left")}}return e},_a=function(e,t){return e?(t&&(e=xo(e,t)),wo[e.classes[0]]||null):null},fr=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Bt(t.concat(r))},ke=function(e,t,r){if(!e)return Bt();if(Pr[e.type]){var n=Pr[e.type](e,t);if(r&&t.size!==r.size){n=Bt(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}else throw new B("Got group of unknown type: '"+e.type+"'")};function Er(a,e){var t=Bt(["base"],a,e),r=Bt(["strut"]);return r.style.height=E(t.height+t.depth),t.depth&&(r.style.verticalAlign=E(-t.depth)),t.children.unshift(r),t}function Ba(a,e){var t=null;a.length===1&&a[0].type==="tag"&&(t=a[0].tag,a=a[0].body);var r=We(a,e,"root"),n;r.length===2&&r[1].hasClass("tag")&&(n=r.pop());for(var i=[],s=[],l=0;l<r.length;l++)if(s.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var u=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,s.push(r[l]),r[l].hasClass("nobreak")&&(u=!0);u||(i.push(Er(s,e)),s=[])}else r[l].hasClass("newline")&&(s.pop(),s.length>0&&(i.push(Er(s,e)),s=[]),i.push(r[l]));s.length>0&&i.push(Er(s,e));var m;t?(m=Er(We(t,e,!0)),m.classes=["tag"],i.push(m)):n&&i.push(n);var h=Bt(["katex-html"],i);if(h.setAttribute("aria-hidden","true"),m){var p=m.children[0];p.style.height=E(h.height+h.depth),h.depth&&(p.style.verticalAlign=E(-h.depth))}return h}function V0(a){return new br(a)}class at{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=qt(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof bt&&this.children[r+1]instanceof bt){for(var n=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof bt;)n+=this.children[++r].toText();e.appendChild(new bt(n).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Z.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Z.escape(qt(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class bt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Z.escape(this.toText())}toText(){return this.text}}class ko{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",E(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+E(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var _={MathNode:at,TextNode:bt,SpaceNode:ko,newDocumentFragment:V0},lt=function(e,t,r){return Be[t][e]&&Be[t][e].replace&&e.charCodeAt(0)!==55349&&!(q0.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Be[t][e].replace),new _.TextNode(e)},Va=function(e){return e.length===1?e[0]:new _.MathNode("mrow",e)},Ga=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var n=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=e.text;if(Z.contains(["\\imath","\\jmath"],i))return null;Be[n][i]&&Be[n][i].replace&&(i=Be[n][i].replace);var s=x.fontMap[r].fontName;return Oa(i,s,n)?x.fontMap[r].variant:null};function ua(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){var e=a.children[0];return e instanceof bt&&e.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){var t=a.children[0];return t instanceof bt&&t.text===","}else return!1}var Je=function(e,t,r){if(e.length===1){var n=Ae(e[0],t);return r&&n instanceof at&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i=[],s,l=0;l<e.length;l++){var u=Ae(e[l],t);if(u instanceof at&&s instanceof at){if(u.type==="mtext"&&s.type==="mtext"&&u.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...u.children);continue}else if(u.type==="mn"&&s.type==="mn"){s.children.push(...u.children);continue}else if(ua(u)&&s.type==="mn"){s.children.push(...u.children);continue}else if(u.type==="mn"&&ua(s))u.children=[...s.children,...u.children],i.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(s.type==="mn"||ua(s))){var m=u.children[0];m instanceof at&&m.type==="mn"&&(m.children=[...s.children,...m.children],i.pop())}else if(s.type==="mi"&&s.children.length===1){var h=s.children[0];if(h instanceof bt&&h.text==="̸"&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var p=u.children[0];p instanceof bt&&p.text.length>0&&(p.text=p.text.slice(0,1)+"̸"+p.text.slice(1),i.pop())}}}i.push(u),s=u}return i},Nt=function(e,t,r){return Va(Je(e,t,r))},Ae=function(e,t){if(!e)return new _.MathNode("mrow");if(Wr[e.type]){var r=Wr[e.type](e,t);return r}else throw new B("Got group of unknown type: '"+e.type+"'")};function En(a,e,t,r,n){var i=Je(a,t),s;i.length===1&&i[0]instanceof at&&Z.contains(["mrow","mtable"],i[0].type)?s=i[0]:s=new _.MathNode("mrow",i);var l=new _.MathNode("annotation",[new _.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var u=new _.MathNode("semantics",[s,l]),m=new _.MathNode("math",[u]);m.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&m.setAttribute("display","block");var h=n?"katex":"katex-mathml";return x.makeSpan([h],[m])}var G0=function(e){return new Tt({style:e.displayMode?J.DISPLAY:J.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Y0=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=x.makeSpan(r,[e])}return e},$o=function(e,t,r){var n=G0(r),i;if(r.output==="mathml")return En(e,t,n,r.displayMode,!0);if(r.output==="html"){var s=Ba(e,n);i=x.makeSpan(["katex"],[s])}else{var l=En(e,t,n,r.displayMode,!1),u=Ba(e,n);i=x.makeSpan(["katex"],[l,u])}return Y0(i,r)},So=function(e,t,r){var n=G0(r),i=Ba(e,n),s=x.makeSpan(["katex"],[i]);return Y0(s,r)},Mo={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},To=function(e){var t=new _.MathNode("mo",[new _.TextNode(Mo[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},zo={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Ao=function(e){return e.type==="ordgroup"?e.body.length:1},_o=function(e,t){function r(){var l=4e5,u=e.label.slice(1);if(Z.contains(["widehat","widecheck","widetilde","utilde"],u)){var m=e,h=Ao(m.base),p,g,y;if(h>5)u==="widehat"||u==="widecheck"?(p=420,l=2364,y=.42,g=u+"4"):(p=312,l=2340,y=.34,g="tilde4");else{var $=[1,1,2,2,3,3][h];u==="widehat"||u==="widecheck"?(l=[0,1062,2364,2364,2364][$],p=[0,239,300,360,420][$],y=[0,.24,.3,.3,.36,.42][$],g=u+$):(l=[0,600,1033,2339,2340][$],p=[0,260,286,306,312][$],y=[0,.26,.286,.3,.306,.34][$],g="tilde"+$)}var k=new Ft(g),S=new _t([k],{width:"100%",height:E(y),viewBox:"0 0 "+l+" "+p,preserveAspectRatio:"none"});return{span:x.makeSvgSpan([],[S],t),minWidth:0,height:y}}else{var z=[],C=zo[u],[M,A,D]=C,X=D/1e3,re=M.length,ae,de;if(re===1){var $e=C[3];ae=["hide-tail"],de=[$e]}else if(re===2)ae=["halfarrow-left","halfarrow-right"],de=["xMinYMin","xMaxYMin"];else if(re===3)ae=["brace-left","brace-center","brace-right"],de=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+re+" children.");for(var I=0;I<re;I++){var Y=new Ft(M[I]),Me=new _t([Y],{width:"400em",height:E(X),viewBox:"0 0 "+l+" "+D,preserveAspectRatio:de[I]+" slice"}),q=x.makeSvgSpan([ae[I]],[Me],t);if(re===1)return{span:q,minWidth:A,height:X};q.style.height=E(X),z.push(q)}return{span:x.makeSpan(["stretchy"],z,t),minWidth:A,height:X}}}var{span:n,minWidth:i,height:s}=r();return n.height=s,n.style.height=E(s),i>0&&(n.style.minWidth=E(i)),n},Bo=function(e,t,r,n,i){var s,l=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(s=x.makeSpan(["stretchy",t],[],i),t==="fbox"){var u=i.color&&i.getColor();u&&(s.style.borderColor=u)}}else{var m=[];/^[bx]cancel$/.test(t)&&m.push(new za({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&m.push(new za({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new _t(m,{width:"100%",height:E(l)});s=x.makeSvgSpan([],[h],i)}return s.height=l,s.style.height=E(l),s},Ct={encloseSpan:Bo,mathMLnode:To,svgSpan:_o};function me(a,e){if(!a||a.type!==e)throw new Error("Expected node of type "+e+", but got "+(a?"node of type "+a.type:String(a)));return a}function Ya(a){var e=Zr(a);if(!e)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return e}function Zr(a){return a&&(a.type==="atom"||eo.hasOwnProperty(a.type))?a:null}var ja=(a,e)=>{var t,r,n;a&&a.type==="supsub"?(r=me(a.base,"accent"),t=r.base,a.base=t,n=Qs(ke(a,e)),a.base=r):(r=me(a,"accent"),t=r.base);var i=ke(t,e.havingCrampedStyle()),s=r.isShifty&&Z.isCharacterBox(t),l=0;if(s){var u=Z.getBaseElem(t),m=ke(u,e.havingCrampedStyle());l=Mn(m).skew}var h=r.label==="\\c",p=h?i.height+i.depth:Math.min(i.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=Ct.svgSpan(r,e),g=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+E(2*l)+")",marginLeft:E(2*l)}:void 0}]},e);else{var y,$;r.label==="\\vec"?(y=x.staticSvg("vec",e),$=x.svgData.vec[1]):(y=x.makeOrd({mode:r.mode,text:r.label},e,"textord"),y=Mn(y),y.italic=0,$=y.width,h&&(p+=y.depth)),g=x.makeSpan(["accent-body"],[y]);var k=r.label==="\\textcircled";k&&(g.classes.push("accent-full"),p=i.height);var S=l;k||(S-=$/2),g.style.left=E(S),r.label==="\\textcircled"&&(g.style.top=".2em"),g=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-p},{type:"elem",elem:g}]},e)}var z=x.makeSpan(["mord","accent"],[g],e);return n?(n.children[0]=z,n.height=Math.max(z.height,n.height),n.classes[0]="mord",n):z},j0=(a,e)=>{var t=a.isStretchy?Ct.mathMLnode(a.label):new _.MathNode("mo",[lt(a.label,a.mode)]),r=new _.MathNode("mover",[Ae(a.base,e),t]);return r.setAttribute("accent","true"),r},Co=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));F({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,e)=>{var t=Vr(e[0]),r=!Co.test(a.funcName),n=!r||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:r,isShifty:n,base:t}},htmlBuilder:ja,mathmlBuilder:j0});F({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,e)=>{var t=e[0],r=a.parser.mode;return r==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:a.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:ja,mathmlBuilder:j0});F({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:n}},htmlBuilder:(a,e)=>{var t=ke(a.base,e),r=Ct.svgSpan(a,e),n=a.label==="\\utilde"?.12:0,i=x.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:n},{type:"elem",elem:t}]},e);return x.makeSpan(["mord","accentunder"],[i],e)},mathmlBuilder:(a,e)=>{var t=Ct.mathMLnode(a.label),r=new _.MathNode("munder",[Ae(a.base,e),t]);return r.setAttribute("accentunder","true"),r}});var Lr=a=>{var e=new _.MathNode("mpadded",a?[a]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};F({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,e,t){var{parser:r,funcName:n}=a;return{type:"xArrow",mode:r.mode,label:n,body:e[0],below:t[0]}},htmlBuilder(a,e){var t=e.style,r=e.havingStyle(t.sup()),n=x.wrapFragment(ke(a.body,r,e),e),i=a.label.slice(0,2)==="\\x"?"x":"cd";n.classes.push(i+"-arrow-pad");var s;a.below&&(r=e.havingStyle(t.sub()),s=x.wrapFragment(ke(a.below,r,e),e),s.classes.push(i+"-arrow-pad"));var l=Ct.svgSpan(a,e),u=-e.fontMetrics().axisHeight+.5*l.height,m=-e.fontMetrics().axisHeight-.5*l.height-.111;(n.depth>.25||a.label==="\\xleftequilibrium")&&(m-=n.depth);var h;if(s){var p=-e.fontMetrics().axisHeight+s.height+.5*l.height+.111;h=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:m},{type:"elem",elem:l,shift:u},{type:"elem",elem:s,shift:p}]},e)}else h=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:m},{type:"elem",elem:l,shift:u}]},e);return h.children[0].children[0].children[1].classes.push("svg-align"),x.makeSpan(["mrel","x-arrow"],[h],e)},mathmlBuilder(a,e){var t=Ct.mathMLnode(a.label);t.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(a.body){var n=Lr(Ae(a.body,e));if(a.below){var i=Lr(Ae(a.below,e));r=new _.MathNode("munderover",[t,i,n])}else r=new _.MathNode("mover",[t,n])}else if(a.below){var s=Lr(Ae(a.below,e));r=new _.MathNode("munder",[t,s])}else r=Lr(),r=new _.MathNode("mover",[t,r]);return r}});var Eo=x.makeSpan;function U0(a,e){var t=We(a.body,e,!0);return Eo([a.mclass],t,e)}function X0(a,e){var t,r=Je(a.body,e);return a.mclass==="minner"?t=new _.MathNode("mpadded",r):a.mclass==="mord"?a.isCharacterBox?(t=r[0],t.type="mi"):t=new _.MathNode("mi",r):(a.isCharacterBox?(t=r[0],t.type="mo"):t=new _.MathNode("mo",r),a.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):a.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):a.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}F({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,e){var{parser:t,funcName:r}=a,n=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:Oe(n),isCharacterBox:Z.isCharacterBox(n)}},htmlBuilder:U0,mathmlBuilder:X0});var Qr=a=>{var e=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};F({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,e){var{parser:t}=a;return{type:"mclass",mode:t.mode,mclass:Qr(e[0]),body:Oe(e[1]),isCharacterBox:Z.isCharacterBox(e[1])}}});F({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,e){var{parser:t,funcName:r}=a,n=e[1],i=e[0],s;r!=="\\stackrel"?s=Qr(n):s="mrel";var l={type:"op",mode:n.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Oe(n)},u={type:"supsub",mode:i.mode,base:l,sup:r==="\\underset"?null:i,sub:r==="\\underset"?i:null};return{type:"mclass",mode:t.mode,mclass:s,body:[u],isCharacterBox:Z.isCharacterBox(u)}},htmlBuilder:U0,mathmlBuilder:X0});F({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,e){var{parser:t}=a;return{type:"pmb",mode:t.mode,mclass:Qr(e[0]),body:Oe(e[0])}},htmlBuilder(a,e){var t=We(a.body,e,!0),r=x.makeSpan([a.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(a,e){var t=Je(a.body,e),r=new _.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Lo={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ln=()=>({type:"styling",body:[],mode:"math",style:"display"}),Rn=a=>a.type==="textord"&&a.text==="@",Ro=(a,e)=>(a.type==="mathord"||a.type==="atom")&&a.text===e;function Do(a,e,t){var r=Lo[a];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var n=t.callFunction("\\\\cdleft",[e[0]],[]),i={type:"atom",text:r,mode:"math",family:"rel"},s=t.callFunction("\\Big",[i],[]),l=t.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[n,s,l]};return t.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var m={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[m],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Io(a){var e=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){e.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();var t=a.fetch().text;if(t==="&"||t==="\\\\")a.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new B("Expected \\\\ or \\cr or \\end",a.nextToken)}for(var r=[],n=[r],i=0;i<e.length;i++){for(var s=e[i],l=Ln(),u=0;u<s.length;u++)if(!Rn(s[u]))l.body.push(s[u]);else{r.push(l),u+=1;var m=Ya(s[u]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(m)>-1))if("<>AV".indexOf(m)>-1)for(var p=0;p<2;p++){for(var g=!0,y=u+1;y<s.length;y++){if(Ro(s[y],m)){g=!1,u=y;break}if(Rn(s[y]))throw new B("Missing a "+m+" character to complete a CD arrow.",s[y]);h[p].body.push(s[y])}if(g)throw new B("Missing a "+m+" character to complete a CD arrow.",s[u])}else throw new B('Expected one of "<>AV=|." after @',s[u]);var $=Do(m,h,a),k={type:"styling",body:[$],mode:"math",style:"display"};r.push(k),l=Ln()}i%2===0?r.push(l):r.shift(),r=[],n.push(r)}a.gullet.endGroup(),a.gullet.endGroup();var S=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:S,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}F({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,e){var{parser:t,funcName:r}=a;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(a,e){var t=e.havingStyle(e.style.sup()),r=x.wrapFragment(ke(a.label,t,e),e);return r.classes.push("cd-label-"+a.side),r.style.bottom=E(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(a,e){var t=new _.MathNode("mrow",[Ae(a.label,e)]);return t=new _.MathNode("mpadded",[t]),t.setAttribute("width","0"),a.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new _.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});F({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,e){var{parser:t}=a;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(a,e){var t=x.wrapFragment(ke(a.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(a,e){return new _.MathNode("mrow",[Ae(a.fragment,e)])}});F({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,e){for(var{parser:t}=a,r=me(e[0],"ordgroup"),n=r.body,i="",s=0;s<n.length;s++){var l=me(n[s],"textord");i+=l.text}var u=parseInt(i),m;if(isNaN(u))throw new B("\\@char has non-numeric argument "+i);if(u<0||u>=1114111)throw new B("\\@char with invalid code point "+i);return u<=65535?m=String.fromCharCode(u):(u-=65536,m=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:t.mode,text:m}}});var K0=(a,e)=>{var t=We(a.body,e.withColor(a.color),!1);return x.makeFragment(t)},Z0=(a,e)=>{var t=Je(a.body,e.withColor(a.color)),r=new _.MathNode("mstyle",t);return r.setAttribute("mathcolor",a.color),r};F({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,e){var{parser:t}=a,r=me(e[0],"color-token").color,n=e[1];return{type:"color",mode:t.mode,color:r,body:Oe(n)}},htmlBuilder:K0,mathmlBuilder:Z0});F({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,e){var{parser:t,breakOnTokenText:r}=a,n=me(e[0],"color-token").color;t.gullet.macros.set("\\current@color",n);var i=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:n,body:i}},htmlBuilder:K0,mathmlBuilder:Z0});F({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,e,t){var{parser:r}=a,n=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,i=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:i,size:n&&me(n,"size").value}},htmlBuilder(a,e){var t=x.makeSpan(["mspace"],[],e);return a.newLine&&(t.classes.push("newline"),a.size&&(t.style.marginTop=E(qe(a.size,e)))),t},mathmlBuilder(a,e){var t=new _.MathNode("mspace");return a.newLine&&(t.setAttribute("linebreak","newline"),a.size&&t.setAttribute("height",E(qe(a.size,e)))),t}});var Ca={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Q0=a=>{var e=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new B("Expected a control sequence",a);return e},qo=a=>{var e=a.gullet.popToken();return e.text==="="&&(e=a.gullet.popToken(),e.text===" "&&(e=a.gullet.popToken())),e},J0=(a,e,t,r)=>{var n=a.gullet.macros.get(t.text);n==null&&(t.noexpand=!0,n={tokens:[t],numArgs:0,unexpandable:!a.gullet.isExpandable(t.text)}),a.gullet.macros.set(e,n,r)};F({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){var{parser:e,funcName:t}=a;e.consumeSpaces();var r=e.fetch();if(Ca[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=Ca[r.text]),me(e.parseFunction(),"internal");throw new B("Invalid token after macro prefix",r)}});F({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:t}=a,r=e.gullet.popToken(),n=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new B("Expected a control sequence",r);for(var i=0,s,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),l[i].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new B('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==i+1)throw new B('Argument number "'+r.text+'" out of order');i++,l.push([])}else{if(r.text==="EOF")throw new B("Expected a macro definition");l[i].push(r.text)}var{tokens:u}=e.gullet.consumeArg();return s&&u.unshift(s),(t==="\\edef"||t==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(n,{tokens:u,numArgs:i,delimiters:l},t===Ca[t]),{type:"internal",mode:e.mode}}});F({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:t}=a,r=Q0(e.gullet.popToken());e.gullet.consumeSpaces();var n=qo(e);return J0(e,r,n,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});F({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){var{parser:e,funcName:t}=a,r=Q0(e.gullet.popToken()),n=e.gullet.popToken(),i=e.gullet.popToken();return J0(e,r,i,t==="\\\\globalfuture"),e.gullet.pushToken(i),e.gullet.pushToken(n),{type:"internal",mode:e.mode}}});var lr=function(e,t,r){var n=Be.math[e]&&Be.math[e].replace,i=Oa(n||e,t,r);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},Ua=function(e,t,r,n){var i=r.havingBaseStyle(t),s=x.makeSpan(n.concat(i.sizingClasses(r)),[e],r),l=i.sizeMultiplier/r.sizeMultiplier;return s.height*=l,s.depth*=l,s.maxFontSize=i.sizeMultiplier,s},ei=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=E(i),e.height-=i,e.depth+=i},Fo=function(e,t,r,n,i,s){var l=x.makeSymbol(e,"Main-Regular",i,n),u=Ua(l,t,n,s);return r&&ei(u,n,t),u},No=function(e,t,r,n){return x.makeSymbol(e,"Size"+t+"-Regular",r,n)},ti=function(e,t,r,n,i,s){var l=No(e,t,i,n),u=Ua(x.makeSpan(["delimsizing","size"+t],[l],n),J.TEXT,n,s);return r&&ei(u,n,J.TEXT),u},ca=function(e,t,r){var n;t==="Size1-Regular"?n="delim-size1":n="delim-size4";var i=x.makeSpan(["delimsizinginner",n],[x.makeSpan([],[x.makeSymbol(e,t,r)])]);return{type:"elem",elem:i}},ha=function(e,t,r){var n=vt["Size4-Regular"][e.charCodeAt(0)]?vt["Size4-Regular"][e.charCodeAt(0)][4]:vt["Size1-Regular"][e.charCodeAt(0)][4],i=new Ft("inner",Ws(e,Math.round(1e3*t))),s=new _t([i],{width:E(n),height:E(t),style:"width:"+E(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),l=x.makeSvgSpan([],[s],r);return l.height=t,l.style.height=E(t),l.style.width=E(n),{type:"elem",elem:l}},Ea=.008,Rr={type:"kern",size:-1*Ea},Ho=["|","\\lvert","\\rvert","\\vert"],Oo=["\\|","\\lVert","\\rVert","\\Vert"],ri=function(e,t,r,n,i,s){var l,u,m,h,p="",g=0;l=m=h=e,u=null;var y="Size1-Regular";e==="\\uparrow"?m=h="⏐":e==="\\Uparrow"?m=h="‖":e==="\\downarrow"?l=m="⏐":e==="\\Downarrow"?l=m="‖":e==="\\updownarrow"?(l="\\uparrow",m="⏐",h="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",m="‖",h="\\Downarrow"):Z.contains(Ho,e)?(m="∣",p="vert",g=333):Z.contains(Oo,e)?(m="∥",p="doublevert",g=556):e==="["||e==="\\lbrack"?(l="⎡",m="⎢",h="⎣",y="Size4-Regular",p="lbrack",g=667):e==="]"||e==="\\rbrack"?(l="⎤",m="⎥",h="⎦",y="Size4-Regular",p="rbrack",g=667):e==="\\lfloor"||e==="⌊"?(m=l="⎢",h="⎣",y="Size4-Regular",p="lfloor",g=667):e==="\\lceil"||e==="⌈"?(l="⎡",m=h="⎢",y="Size4-Regular",p="lceil",g=667):e==="\\rfloor"||e==="⌋"?(m=l="⎥",h="⎦",y="Size4-Regular",p="rfloor",g=667):e==="\\rceil"||e==="⌉"?(l="⎤",m=h="⎥",y="Size4-Regular",p="rceil",g=667):e==="("||e==="\\lparen"?(l="⎛",m="⎜",h="⎝",y="Size4-Regular",p="lparen",g=875):e===")"||e==="\\rparen"?(l="⎞",m="⎟",h="⎠",y="Size4-Regular",p="rparen",g=875):e==="\\{"||e==="\\lbrace"?(l="⎧",u="⎨",h="⎩",m="⎪",y="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="⎫",u="⎬",h="⎭",m="⎪",y="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(l="⎧",h="⎩",m="⎪",y="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(l="⎫",h="⎭",m="⎪",y="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(l="⎧",h="⎭",m="⎪",y="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(l="⎫",h="⎩",m="⎪",y="Size4-Regular");var $=lr(l,y,i),k=$.height+$.depth,S=lr(m,y,i),z=S.height+S.depth,C=lr(h,y,i),M=C.height+C.depth,A=0,D=1;if(u!==null){var X=lr(u,y,i);A=X.height+X.depth,D=2}var re=k+M+A,ae=Math.max(0,Math.ceil((t-re)/(D*z))),de=re+ae*D*z,$e=n.fontMetrics().axisHeight;r&&($e*=n.sizeMultiplier);var I=de/2-$e,Y=[];if(p.length>0){var Me=de-k-M,q=Math.round(de*1e3),he=Vs(p,Math.round(Me*1e3)),R=new Ft(p,he),G=(g/1e3).toFixed(3)+"em",O=(q/1e3).toFixed(3)+"em",U=new _t([R],{width:G,height:O,viewBox:"0 0 "+g+" "+q}),N=x.makeSvgSpan([],[U],n);N.height=q/1e3,N.style.width=G,N.style.height=O,Y.push({type:"elem",elem:N})}else{if(Y.push(ca(h,y,i)),Y.push(Rr),u===null){var ee=de-k-M+2*Ea;Y.push(ha(m,ee,n))}else{var V=(de-k-M-A)/2+2*Ea;Y.push(ha(m,V,n)),Y.push(Rr),Y.push(ca(u,y,i)),Y.push(Rr),Y.push(ha(m,V,n))}Y.push(Rr),Y.push(ca(l,y,i))}var ge=n.havingBaseStyle(J.TEXT),K=x.makeVList({positionType:"bottom",positionData:I,children:Y},ge);return Ua(x.makeSpan(["delimsizing","mult"],[K],ge),J.TEXT,n,s)},ma=80,da=.08,pa=function(e,t,r,n,i){var s=Ps(e,n,r),l=new Ft(e,s),u=new _t([l],{width:"400em",height:E(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return x.makeSvgSpan(["hide-tail"],[u],i)},Po=function(e,t){var r=t.havingBaseSizing(),n=si("\\surd",e*r.sizeMultiplier,ii,r),i=r.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l,u=0,m=0,h=0,p;return n.type==="small"?(h=1e3+1e3*s+ma,e<1?i=1:e<1.4&&(i=.7),u=(1+s+da)/i,m=(1+s)/i,l=pa("sqrtMain",u,h,s,t),l.style.minWidth="0.853em",p=.833/i):n.type==="large"?(h=(1e3+ma)*ur[n.size],m=(ur[n.size]+s)/i,u=(ur[n.size]+s+da)/i,l=pa("sqrtSize"+n.size,u,h,s,t),l.style.minWidth="1.02em",p=1/i):(u=e+s+da,m=e+s,h=Math.floor(1e3*e+s)+ma,l=pa("sqrtTall",u,h,s,t),l.style.minWidth="0.742em",p=1.056),l.height=m,l.style.height=E(u),{span:l,advanceWidth:p,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*i}},ai=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Wo=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],ni=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ur=[0,1.2,1.8,2.4,3],Vo=function(e,t,r,n,i){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Z.contains(ai,e)||Z.contains(ni,e))return ti(e,t,!1,r,n,i);if(Z.contains(Wo,e))return ri(e,ur[t],!1,r,n,i);throw new B("Illegal delimiter: '"+e+"'")},Go=[{type:"small",style:J.SCRIPTSCRIPT},{type:"small",style:J.SCRIPT},{type:"small",style:J.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Yo=[{type:"small",style:J.SCRIPTSCRIPT},{type:"small",style:J.SCRIPT},{type:"small",style:J.TEXT},{type:"stack"}],ii=[{type:"small",style:J.SCRIPTSCRIPT},{type:"small",style:J.SCRIPT},{type:"small",style:J.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],jo=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},si=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size),s=i;s<r.length&&r[s].type!=="stack";s++){var l=lr(e,jo(r[s]),"math"),u=l.height+l.depth;if(r[s].type==="small"){var m=n.havingBaseStyle(r[s].style);u*=m.sizeMultiplier}if(u>t)return r[s]}return r[r.length-1]},oi=function(e,t,r,n,i,s){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var l;Z.contains(ni,e)?l=Go:Z.contains(ai,e)?l=ii:l=Yo;var u=si(e,t,l,n);return u.type==="small"?Fo(e,u.style,r,n,i,s):u.type==="large"?ti(e,u.size,r,n,i,s):ri(e,t,r,n,i,s)},Uo=function(e,t,r,n,i,s){var l=n.fontMetrics().axisHeight*n.sizeMultiplier,u=901,m=5/n.fontMetrics().ptPerEm,h=Math.max(t-l,r+l),p=Math.max(h/500*u,2*h-m);return oi(e,p,!0,n,i,s)},At={sqrtImage:Po,sizedDelim:Vo,sizeToMaxHeight:ur,customSizedDelim:oi,leftRightDelim:Uo},Dn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Xo=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Jr(a,e){var t=Zr(a);if(t&&Z.contains(Xo,t.text))return t;throw t?new B("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",a):new B("Invalid delimiter type '"+a.type+"'",a)}F({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,e)=>{var t=Jr(e[0],a);return{type:"delimsizing",mode:a.parser.mode,size:Dn[a.funcName].size,mclass:Dn[a.funcName].mclass,delim:t.text}},htmlBuilder:(a,e)=>a.delim==="."?x.makeSpan([a.mclass]):At.sizedDelim(a.delim,a.size,e,a.mode,[a.mclass]),mathmlBuilder:a=>{var e=[];a.delim!=="."&&e.push(lt(a.delim,a.mode));var t=new _.MathNode("mo",e);a.mclass==="mopen"||a.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=E(At.sizeToMaxHeight[a.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function In(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}F({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var t=a.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new B("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:Jr(e[0],a).text,color:t}}});F({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var t=Jr(e[0],a),r=a.parser;++r.leftrightDepth;var n=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var i=me(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:n,left:t.text,right:i.delim,rightColor:i.color}},htmlBuilder:(a,e)=>{In(a);for(var t=We(a.body,e,!0,["mopen","mclose"]),r=0,n=0,i=!1,s=0;s<t.length;s++)t[s].isMiddle?i=!0:(r=Math.max(t[s].height,r),n=Math.max(t[s].depth,n));r*=e.sizeMultiplier,n*=e.sizeMultiplier;var l;if(a.left==="."?l=fr(e,["mopen"]):l=At.leftRightDelim(a.left,r,n,e,a.mode,["mopen"]),t.unshift(l),i)for(var u=1;u<t.length;u++){var m=t[u],h=m.isMiddle;h&&(t[u]=At.leftRightDelim(h.delim,r,n,h.options,a.mode,[]))}var p;if(a.right===".")p=fr(e,["mclose"]);else{var g=a.rightColor?e.withColor(a.rightColor):e;p=At.leftRightDelim(a.right,r,n,g,a.mode,["mclose"])}return t.push(p),x.makeSpan(["minner"],t,e)},mathmlBuilder:(a,e)=>{In(a);var t=Je(a.body,e);if(a.left!=="."){var r=new _.MathNode("mo",[lt(a.left,a.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(a.right!=="."){var n=new _.MathNode("mo",[lt(a.right,a.mode)]);n.setAttribute("fence","true"),a.rightColor&&n.setAttribute("mathcolor",a.rightColor),t.push(n)}return Va(t)}});F({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var t=Jr(e[0],a);if(!a.parser.leftrightDepth)throw new B("\\middle without preceding \\left",t);return{type:"middle",mode:a.parser.mode,delim:t.text}},htmlBuilder:(a,e)=>{var t;if(a.delim===".")t=fr(e,[]);else{t=At.sizedDelim(a.delim,1,e,a.mode,[]);var r={delim:a.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(a,e)=>{var t=a.delim==="\\vert"||a.delim==="|"?lt("|","text"):lt(a.delim,a.mode),r=new _.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Xa=(a,e)=>{var t=x.wrapFragment(ke(a.body,e),e),r=a.label.slice(1),n=e.sizeMultiplier,i,s=0,l=Z.isCharacterBox(a.body);if(r==="sout")i=x.makeSpan(["stretchy","sout"]),i.height=e.fontMetrics().defaultRuleThickness/n,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var u=qe({number:.6,unit:"pt"},e),m=qe({number:.35,unit:"ex"},e),h=e.havingBaseSizing();n=n/h.sizeMultiplier;var p=t.height+t.depth+u+m;t.style.paddingLeft=E(p/2+u);var g=Math.floor(1e3*p*n),y=Hs(g),$=new _t([new Ft("phase",y)],{width:"400em",height:E(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});i=x.makeSvgSpan(["hide-tail"],[$],e),i.style.height=E(p),s=t.depth+u+m}else{/cancel/.test(r)?l||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var k=0,S=0,z=0;/box/.test(r)?(z=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),k=e.fontMetrics().fboxsep+(r==="colorbox"?0:z),S=k):r==="angl"?(z=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),k=4*z,S=Math.max(0,.25-t.depth)):(k=l?.2:0,S=k),i=Ct.encloseSpan(t,r,k,S,e),/fbox|boxed|fcolorbox/.test(r)?(i.style.borderStyle="solid",i.style.borderWidth=E(z)):r==="angl"&&z!==.049&&(i.style.borderTopWidth=E(z),i.style.borderRightWidth=E(z)),s=t.depth+S,a.backgroundColor&&(i.style.backgroundColor=a.backgroundColor,a.borderColor&&(i.style.borderColor=a.borderColor))}var C;if(a.backgroundColor)C=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:s},{type:"elem",elem:t,shift:0}]},e);else{var M=/cancel|phase/.test(r)?["svg-align"]:[];C=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:i,shift:s,wrapperClasses:M}]},e)}return/cancel/.test(r)&&(C.height=t.height,C.depth=t.depth),/cancel/.test(r)&&!l?x.makeSpan(["mord","cancel-lap"],[C],e):x.makeSpan(["mord"],[C],e)},Ka=(a,e)=>{var t=0,r=new _.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ae(a.body,e)]);switch(a.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),a.label==="\\fcolorbox"){var n=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+n+"em solid "+String(a.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&r.setAttribute("mathbackground",a.backgroundColor),r};F({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,e,t){var{parser:r,funcName:n}=a,i=me(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:n,backgroundColor:i,body:s}},htmlBuilder:Xa,mathmlBuilder:Ka});F({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,e,t){var{parser:r,funcName:n}=a,i=me(e[0],"color-token").color,s=me(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:n,backgroundColor:s,borderColor:i,body:l}},htmlBuilder:Xa,mathmlBuilder:Ka});F({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,e){var{parser:t}=a;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});F({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,e){var{parser:t,funcName:r}=a,n=e[0];return{type:"enclose",mode:t.mode,label:r,body:n}},htmlBuilder:Xa,mathmlBuilder:Ka});F({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,e){var{parser:t}=a;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var li={};function kt(a){for(var{type:e,names:t,props:r,handler:n,htmlBuilder:i,mathmlBuilder:s}=a,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},u=0;u<t.length;++u)li[t[u]]=l;i&&(Pr[e]=i),s&&(Wr[e]=s)}var ui={};function f(a,e){ui[a]=e}function qn(a){var e=[];a.consumeSpaces();var t=a.fetch().text;for(t==="\\relax"&&(a.consume(),a.consumeSpaces(),t=a.fetch().text);t==="\\hline"||t==="\\hdashline";)a.consume(),e.push(t==="\\hdashline"),a.consumeSpaces(),t=a.fetch().text;return e}var ea=a=>{var e=a.parser.settings;if(!e.displayMode)throw new B("{"+a.envName+"} can be used only in display mode.")};function Za(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function Pt(a,e,t){var{hskipBeforeAndAfter:r,addJot:n,cols:i,arraystretch:s,colSeparationType:l,autoTag:u,singleRow:m,emptySingleRow:h,maxNumCols:p,leqno:g}=e;if(a.gullet.beginGroup(),m||a.gullet.macros.set("\\cr","\\\\\\relax"),!s){var y=a.gullet.expandMacroAsText("\\arraystretch");if(y==null)s=1;else if(s=parseFloat(y),!s||s<0)throw new B("Invalid \\arraystretch: "+y)}a.gullet.beginGroup();var $=[],k=[$],S=[],z=[],C=u!=null?[]:void 0;function M(){u&&a.gullet.macros.set("\\@eqnsw","1",!0)}function A(){C&&(a.gullet.macros.get("\\df@tag")?(C.push(a.subparse([new st("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):C.push(!!u&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),z.push(qn(a));;){var D=a.parseExpression(!1,m?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),D={type:"ordgroup",mode:a.mode,body:D},t&&(D={type:"styling",mode:a.mode,style:t,body:[D]}),$.push(D);var X=a.fetch().text;if(X==="&"){if(p&&$.length===p){if(m||l)throw new B("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(X==="\\end"){A(),$.length===1&&D.type==="styling"&&D.body[0].body.length===0&&(k.length>1||!h)&&k.pop(),z.length<k.length+1&&z.push([]);break}else if(X==="\\\\"){a.consume();var re=void 0;a.gullet.future().text!==" "&&(re=a.parseSizeGroup(!0)),S.push(re?re.value:null),A(),z.push(qn(a)),$=[],k.push($),M()}else throw new B("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:n,arraystretch:s,body:k,cols:i,rowGaps:S,hskipBeforeAndAfter:r,hLinesBeforeRow:z,colSeparationType:l,tags:C,leqno:g}}function Qa(a){return a.slice(0,1)==="d"?"display":"text"}var $t=function(e,t){var r,n,i=e.body.length,s=e.hLinesBeforeRow,l=0,u=new Array(i),m=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),p=1/t.fontMetrics().ptPerEm,g=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var y=t.havingStyle(J.SCRIPT).sizeMultiplier;g=.2778*(y/t.sizeMultiplier)}var $=e.colSeparationType==="CD"?qe({number:3,unit:"ex"},t):12*p,k=3*p,S=e.arraystretch*$,z=.7*S,C=.3*S,M=0;function A(Se){for(var ie=0;ie<Se.length;++ie)ie>0&&(M+=.25),m.push({pos:M,isDashed:Se[ie]})}for(A(s[0]),r=0;r<e.body.length;++r){var D=e.body[r],X=z,re=C;l<D.length&&(l=D.length);var ae=new Array(D.length);for(n=0;n<D.length;++n){var de=ke(D[n],t);re<de.depth&&(re=de.depth),X<de.height&&(X=de.height),ae[n]=de}var $e=e.rowGaps[r],I=0;$e&&(I=qe($e,t),I>0&&(I+=C,re<I&&(re=I),I=0)),e.addJot&&(re+=k),ae.height=X,ae.depth=re,M+=X,ae.pos=M,M+=re+I,u[r]=ae,A(s[r+1])}var Y=M/2+t.fontMetrics().axisHeight,Me=e.cols||[],q=[],he,R,G=[];if(e.tags&&e.tags.some(Se=>Se))for(r=0;r<i;++r){var O=u[r],U=O.pos-Y,N=e.tags[r],ee=void 0;N===!0?ee=x.makeSpan(["eqn-num"],[],t):N===!1?ee=x.makeSpan([],[],t):ee=x.makeSpan([],We(N,t,!0),t),ee.depth=O.depth,ee.height=O.height,G.push({type:"elem",elem:ee,shift:U})}for(n=0,R=0;n<l||R<Me.length;++n,++R){for(var V=Me[R]||{},ge=!0;V.type==="separator";){if(ge||(he=x.makeSpan(["arraycolsep"],[]),he.style.width=E(t.fontMetrics().doubleRuleSep),q.push(he)),V.separator==="|"||V.separator===":"){var K=V.separator==="|"?"solid":"dashed",be=x.makeSpan(["vertical-separator"],[],t);be.style.height=E(M),be.style.borderRightWidth=E(h),be.style.borderRightStyle=K,be.style.margin="0 "+E(-h/2);var se=M-Y;se&&(be.style.verticalAlign=E(-se)),q.push(be)}else throw new B("Invalid separator type: "+V.separator);R++,V=Me[R]||{},ge=!1}if(!(n>=l)){var ve=void 0;(n>0||e.hskipBeforeAndAfter)&&(ve=Z.deflt(V.pregap,g),ve!==0&&(he=x.makeSpan(["arraycolsep"],[]),he.style.width=E(ve),q.push(he)));var ye=[];for(r=0;r<i;++r){var pe=u[r],He=pe[n];if(He){var Ce=pe.pos-Y;He.depth=pe.depth,He.height=pe.height,ye.push({type:"elem",elem:He,shift:Ce})}}ye=x.makeVList({positionType:"individualShift",children:ye},t),ye=x.makeSpan(["col-align-"+(V.align||"c")],[ye]),q.push(ye),(n<l-1||e.hskipBeforeAndAfter)&&(ve=Z.deflt(V.postgap,g),ve!==0&&(he=x.makeSpan(["arraycolsep"],[]),he.style.width=E(ve),q.push(he)))}}if(u=x.makeSpan(["mtable"],q),m.length>0){for(var Ze=x.makeLineSpan("hline",t,h),Lt=x.makeLineSpan("hdashline",t,h),et=[{type:"elem",elem:u,shift:0}];m.length>0;){var L=m.pop(),j=L.pos-Y;L.isDashed?et.push({type:"elem",elem:Lt,shift:j}):et.push({type:"elem",elem:Ze,shift:j})}u=x.makeVList({positionType:"individualShift",children:et},t)}if(G.length===0)return x.makeSpan(["mord"],[u],t);var ue=x.makeVList({positionType:"individualShift",children:G},t);return ue=x.makeSpan(["tag"],[ue],t),x.makeFragment([u,ue])},Ko={c:"center ",l:"left ",r:"right "},St=function(e,t){for(var r=[],n=new _.MathNode("mtd",[],["mtr-glue"]),i=new _.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var l=e.body[s],u=[],m=0;m<l.length;m++)u.push(new _.MathNode("mtd",[Ae(l[m],t)]));e.tags&&e.tags[s]&&(u.unshift(n),u.push(n),e.leqno?u.unshift(i):u.push(i)),r.push(new _.MathNode("mtr",u))}var h=new _.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",E(p));var g="",y="";if(e.cols&&e.cols.length>0){var $=e.cols,k="",S=!1,z=0,C=$.length;$[0].type==="separator"&&(g+="top ",z=1),$[$.length-1].type==="separator"&&(g+="bottom ",C-=1);for(var M=z;M<C;M++)$[M].type==="align"?(y+=Ko[$[M].align],S&&(k+="none "),S=!0):$[M].type==="separator"&&S&&(k+=$[M].separator==="|"?"solid ":"dashed ",S=!1);h.setAttribute("columnalign",y.trim()),/[sd]/.test(k)&&h.setAttribute("columnlines",k.trim())}if(e.colSeparationType==="align"){for(var A=e.cols||[],D="",X=1;X<A.length;X++)D+=X%2?"0em ":"1em ";h.setAttribute("columnspacing",D.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var re="",ae=e.hLinesBeforeRow;g+=ae[0].length>0?"left ":"",g+=ae[ae.length-1].length>0?"right ":"";for(var de=1;de<ae.length-1;de++)re+=ae[de].length===0?"none ":ae[de][0]?"dashed ":"solid ";return/[sd]/.test(re)&&h.setAttribute("rowlines",re.trim()),g!==""&&(h=new _.MathNode("menclose",[h]),h.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(h=new _.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},ci=function(e,t){e.envName.indexOf("ed")===-1&&ea(e);var r=[],n=e.envName.indexOf("at")>-1?"alignat":"align",i=e.envName==="split",s=Pt(e.parser,{cols:r,addJot:!0,autoTag:i?void 0:Za(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),l,u=0,m={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",p=0;p<t[0].body.length;p++){var g=me(t[0].body[p],"textord");h+=g.text}l=Number(h),u=l*2}var y=!u;s.body.forEach(function(z){for(var C=1;C<z.length;C+=2){var M=me(z[C],"styling"),A=me(M.body[0],"ordgroup");A.body.unshift(m)}if(y)u<z.length&&(u=z.length);else{var D=z.length/2;if(l<D)throw new B("Too many math in a row: "+("expected "+l+", but got "+D),z[0])}});for(var $=0;$<u;++$){var k="r",S=0;$%2===1?k="l":$>0&&y&&(S=1),r[$]={type:"align",align:k,pregap:S,postgap:0}}return s.colSeparationType=y?"align":"alignat",s};kt({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,e){var t=Zr(e[0]),r=t?[e[0]]:me(e[0],"ordgroup").body,n=r.map(function(s){var l=Ya(s),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new B("Unknown column alignment: "+u,s)}),i={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return Pt(a.parser,i,Qa(a.envName))},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(a.envName.charAt(a.envName.length-1)==="*"){var n=a.parser;if(n.consumeSpaces(),n.fetch().text==="["){if(n.consume(),n.consumeSpaces(),t=n.fetch().text,"lcr".indexOf(t)===-1)throw new B("Expected l or c or r",n.nextToken);n.consume(),n.consumeSpaces(),n.expect("]"),n.consume(),r.cols=[{type:"align",align:t}]}}var i=Pt(a.parser,r,Qa(a.envName)),s=Math.max(0,...i.body.map(l=>l.length));return i.cols=new Array(s).fill({type:"align",align:t}),e?{type:"leftright",mode:a.mode,body:[i],left:e[0],right:e[1],rightColor:void 0}:i},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){var e={arraystretch:.5},t=Pt(a.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["subarray"],props:{numArgs:1},handler(a,e){var t=Zr(e[0]),r=t?[e[0]]:me(e[0],"ordgroup").body,n=r.map(function(s){var l=Ya(s),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new B("Unknown column alignment: "+u,s)});if(n.length>1)throw new B("{subarray} can contain only one column");var i={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=Pt(a.parser,i,"script"),i.body.length>0&&i.body[0].length>1)throw new B("{subarray} can contain only one column");return i},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=Pt(a.parser,e,Qa(a.envName));return{type:"leftright",mode:a.mode,body:[t],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:ci,htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){Z.contains(["gather","gather*"],a.envName)&&ea(a);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Za(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return Pt(a.parser,e,"display")},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:ci,htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){ea(a);var e={autoTag:Za(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return Pt(a.parser,e,"display")},htmlBuilder:$t,mathmlBuilder:St});kt({type:"array",names:["CD"],props:{numArgs:0},handler(a){return ea(a),Io(a.parser)},htmlBuilder:$t,mathmlBuilder:St});f("\\nonumber","\\gdef\\@eqnsw{0}");f("\\notag","\\nonumber");F({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,e){throw new B(a.funcName+" valid only within array environment")}});var Fn=li;F({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,e){var{parser:t,funcName:r}=a,n=e[0];if(n.type!=="ordgroup")throw new B("Invalid environment name",n);for(var i="",s=0;s<n.body.length;++s)i+=me(n.body[s],"textord").text;if(r==="\\begin"){if(!Fn.hasOwnProperty(i))throw new B("No such environment: "+i,n);var l=Fn[i],{args:u,optArgs:m}=t.parseArguments("\\begin{"+i+"}",l),h={mode:t.mode,envName:i,parser:t},p=l.handler(h,u,m);t.expect("\\end",!1);var g=t.nextToken,y=me(t.parseFunction(),"environment");if(y.name!==i)throw new B("Mismatch: \\begin{"+i+"} matched by \\end{"+y.name+"}",g);return p}return{type:"environment",mode:t.mode,name:i,nameGroup:n}}});var hi=(a,e)=>{var t=a.font,r=e.withFont(t);return ke(a.body,r)},mi=(a,e)=>{var t=a.font,r=e.withFont(t);return Ae(a.body,r)},Nn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};F({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=Vr(e[0]),i=r;return i in Nn&&(i=Nn[i]),{type:"font",mode:t.mode,font:i.slice(1),body:n}},htmlBuilder:hi,mathmlBuilder:mi});F({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,e)=>{var{parser:t}=a,r=e[0],n=Z.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:Qr(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:n}}});F({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,e)=>{var{parser:t,funcName:r,breakOnTokenText:n}=a,{mode:i}=t,s=t.parseExpression(!0,n),l="math"+r.slice(1);return{type:"font",mode:i,font:l,body:{type:"ordgroup",mode:t.mode,body:s}}},htmlBuilder:hi,mathmlBuilder:mi});var di=(a,e)=>{var t=e;return a==="display"?t=t.id>=J.SCRIPT.id?t.text():J.DISPLAY:a==="text"&&t.size===J.DISPLAY.size?t=J.TEXT:a==="script"?t=J.SCRIPT:a==="scriptscript"&&(t=J.SCRIPTSCRIPT),t},Ja=(a,e)=>{var t=di(a.size,e.style),r=t.fracNum(),n=t.fracDen(),i;i=e.havingStyle(r);var s=ke(a.numer,i,e);if(a.continued){var l=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<u?u:s.depth}i=e.havingStyle(n);var m=ke(a.denom,i,e),h,p,g;a.hasBarLine?(a.barSize?(p=qe(a.barSize,e),h=x.makeLineSpan("frac-line",e,p)):h=x.makeLineSpan("frac-line",e),p=h.height,g=h.height):(h=null,p=0,g=e.fontMetrics().defaultRuleThickness);var y,$,k;t.size===J.DISPLAY.size||a.size==="display"?(y=e.fontMetrics().num1,p>0?$=3*g:$=7*g,k=e.fontMetrics().denom1):(p>0?(y=e.fontMetrics().num2,$=g):(y=e.fontMetrics().num3,$=3*g),k=e.fontMetrics().denom2);var S;if(h){var C=e.fontMetrics().axisHeight;y-s.depth-(C+.5*p)<$&&(y+=$-(y-s.depth-(C+.5*p))),C-.5*p-(m.height-k)<$&&(k+=$-(C-.5*p-(m.height-k)));var M=-(C-.5*p);S=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:k},{type:"elem",elem:h,shift:M},{type:"elem",elem:s,shift:-y}]},e)}else{var z=y-s.depth-(m.height-k);z<$&&(y+=.5*($-z),k+=.5*($-z)),S=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:k},{type:"elem",elem:s,shift:-y}]},e)}i=e.havingStyle(t),S.height*=i.sizeMultiplier/e.sizeMultiplier,S.depth*=i.sizeMultiplier/e.sizeMultiplier;var A;t.size===J.DISPLAY.size?A=e.fontMetrics().delim1:t.size===J.SCRIPTSCRIPT.size?A=e.havingStyle(J.SCRIPT).fontMetrics().delim2:A=e.fontMetrics().delim2;var D,X;return a.leftDelim==null?D=fr(e,["mopen"]):D=At.customSizedDelim(a.leftDelim,A,!0,e.havingStyle(t),a.mode,["mopen"]),a.continued?X=x.makeSpan([]):a.rightDelim==null?X=fr(e,["mclose"]):X=At.customSizedDelim(a.rightDelim,A,!0,e.havingStyle(t),a.mode,["mclose"]),x.makeSpan(["mord"].concat(i.sizingClasses(e)),[D,x.makeSpan(["mfrac"],[S]),X],e)},en=(a,e)=>{var t=new _.MathNode("mfrac",[Ae(a.numer,e),Ae(a.denom,e)]);if(!a.hasBarLine)t.setAttribute("linethickness","0px");else if(a.barSize){var r=qe(a.barSize,e);t.setAttribute("linethickness",E(r))}var n=di(a.size,e.style);if(n.size!==e.style.size){t=new _.MathNode("mstyle",[t]);var i=n.size===J.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",i),t.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){var s=[];if(a.leftDelim!=null){var l=new _.MathNode("mo",[new _.TextNode(a.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(t),a.rightDelim!=null){var u=new _.MathNode("mo",[new _.TextNode(a.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return Va(s)}return t};F({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0],i=e[1],s,l=null,u=null,m="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",u=")";break;case"\\\\bracefrac":s=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":m="display";break;case"\\tfrac":case"\\tbinom":m="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:n,denom:i,hasBarLine:s,leftDelim:l,rightDelim:u,size:m,barSize:null}},htmlBuilder:Ja,mathmlBuilder:en});F({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0],i=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:n,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});F({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){var{parser:e,funcName:t,token:r}=a,n;switch(t){case"\\over":n="\\frac";break;case"\\choose":n="\\binom";break;case"\\atop":n="\\\\atopfrac";break;case"\\brace":n="\\\\bracefrac";break;case"\\brack":n="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:n,token:r}}});var Hn=["display","text","script","scriptscript"],On=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};F({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,e){var{parser:t}=a,r=e[4],n=e[5],i=Vr(e[0]),s=i.type==="atom"&&i.family==="open"?On(i.text):null,l=Vr(e[1]),u=l.type==="atom"&&l.family==="close"?On(l.text):null,m=me(e[2],"size"),h,p=null;m.isBlank?h=!0:(p=m.value,h=p.number>0);var g="auto",y=e[3];if(y.type==="ordgroup"){if(y.body.length>0){var $=me(y.body[0],"textord");g=Hn[Number($.text)]}}else y=me(y,"textord"),g=Hn[Number(y.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:n,continued:!1,hasBarLine:h,barSize:p,leftDelim:s,rightDelim:u,size:g}},htmlBuilder:Ja,mathmlBuilder:en});F({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,e){var{parser:t,funcName:r,token:n}=a;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:me(e[0],"size").value,token:n}}});F({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0],i=Ms(me(e[1],"infix").size),s=e[2],l=i.number>0;return{type:"genfrac",mode:t.mode,numer:n,denom:s,continued:!1,hasBarLine:l,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ja,mathmlBuilder:en});var pi=(a,e)=>{var t=e.style,r,n;a.type==="supsub"?(r=a.sup?ke(a.sup,e.havingStyle(t.sup()),e):ke(a.sub,e.havingStyle(t.sub()),e),n=me(a.base,"horizBrace")):n=me(a,"horizBrace");var i=ke(n.base,e.havingBaseStyle(J.DISPLAY)),s=Ct.svgSpan(n,e),l;if(n.isOver?(l=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:s}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=x.makeVList({positionType:"bottom",positionData:i.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:i}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var u=x.makeSpan(["mord",n.isOver?"mover":"munder"],[l],e);n.isOver?l=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=x.makeVList({positionType:"bottom",positionData:u.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return x.makeSpan(["mord",n.isOver?"mover":"munder"],[l],e)},Zo=(a,e)=>{var t=Ct.mathMLnode(a.label);return new _.MathNode(a.isOver?"mover":"munder",[Ae(a.base,e),t])};F({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,e){var{parser:t,funcName:r}=a;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:pi,mathmlBuilder:Zo});F({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,e)=>{var{parser:t}=a,r=e[1],n=me(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:n})?{type:"href",mode:t.mode,href:n,body:Oe(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(a,e)=>{var t=We(a.body,e,!1);return x.makeAnchor(a.href,[],t,e)},mathmlBuilder:(a,e)=>{var t=Nt(a.body,e);return t instanceof at||(t=new at("mrow",[t])),t.setAttribute("href",a.href),t}});F({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,e)=>{var{parser:t}=a,r=me(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var n=[],i=0;i<r.length;i++){var s=r[i];s==="~"&&(s="\\textasciitilde"),n.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:t.mode,font:"\\texttt",body:n};return{type:"href",mode:t.mode,href:r,body:Oe(l)}}});F({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,e){var{parser:t}=a;return{type:"hbox",mode:t.mode,body:Oe(e[0])}},htmlBuilder(a,e){var t=We(a.body,e,!1);return x.makeFragment(t)},mathmlBuilder(a,e){return new _.MathNode("mrow",Je(a.body,e))}});F({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,e)=>{var{parser:t,funcName:r,token:n}=a,i=me(e[0],"raw").string,s=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(r){case"\\htmlClass":u.class=i,l={command:"\\htmlClass",class:i};break;case"\\htmlId":u.id=i,l={command:"\\htmlId",id:i};break;case"\\htmlStyle":u.style=i,l={command:"\\htmlStyle",style:i};break;case"\\htmlData":{for(var m=i.split(","),h=0;h<m.length;h++){var p=m[h].split("=");if(p.length!==2)throw new B("Error parsing key-value for \\htmlData");u["data-"+p[0].trim()]=p[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(l)?{type:"html",mode:t.mode,attributes:u,body:Oe(s)}:t.formatUnsupportedCmd(r)},htmlBuilder:(a,e)=>{var t=We(a.body,e,!1),r=["enclosing"];a.attributes.class&&r.push(...a.attributes.class.trim().split(/\s+/));var n=x.makeSpan(r,t,e);for(var i in a.attributes)i!=="class"&&a.attributes.hasOwnProperty(i)&&n.setAttribute(i,a.attributes[i]);return n},mathmlBuilder:(a,e)=>Nt(a.body,e)});F({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,e)=>{var{parser:t}=a;return{type:"htmlmathml",mode:t.mode,html:Oe(e[0]),mathml:Oe(e[1])}},htmlBuilder:(a,e)=>{var t=We(a.html,e,!1);return x.makeFragment(t)},mathmlBuilder:(a,e)=>Nt(a.mathml,e)});var fa=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new B("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!L0(r))throw new B("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};F({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,e,t)=>{var{parser:r}=a,n={number:0,unit:"em"},i={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(t[0])for(var u=me(t[0],"raw").string,m=u.split(","),h=0;h<m.length;h++){var p=m[h].split("=");if(p.length===2){var g=p[1].trim();switch(p[0].trim()){case"alt":l=g;break;case"width":n=fa(g);break;case"height":i=fa(g);break;case"totalheight":s=fa(g);break;default:throw new B("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var y=me(e[0],"url").url;return l===""&&(l=y,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:r.mode,alt:l,width:n,height:i,totalheight:s,src:y}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,e)=>{var t=qe(a.height,e),r=0;a.totalheight.number>0&&(r=qe(a.totalheight,e)-t);var n=0;a.width.number>0&&(n=qe(a.width,e));var i={height:E(t+r)};n>0&&(i.width=E(n)),r>0&&(i.verticalAlign=E(-r));var s=new Ks(a.src,a.alt,i);return s.height=t,s.depth=r,s},mathmlBuilder:(a,e)=>{var t=new _.MathNode("mglyph",[]);t.setAttribute("alt",a.alt);var r=qe(a.height,e),n=0;if(a.totalheight.number>0&&(n=qe(a.totalheight,e)-r,t.setAttribute("valign",E(-n))),t.setAttribute("height",E(r+n)),a.width.number>0){var i=qe(a.width,e);t.setAttribute("width",E(i))}return t.setAttribute("src",a.src),t}});F({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,e){var{parser:t,funcName:r}=a,n=me(e[0],"size");if(t.settings.strict){var i=r[1]==="m",s=n.value.unit==="mu";i?(s||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+n.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:n.value}},htmlBuilder(a,e){return x.makeGlue(a.dimension,e)},mathmlBuilder(a,e){var t=qe(a.dimension,e);return new _.SpaceNode(t)}});F({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:n}},htmlBuilder:(a,e)=>{var t;a.alignment==="clap"?(t=x.makeSpan([],[ke(a.body,e)]),t=x.makeSpan(["inner"],[t],e)):t=x.makeSpan(["inner"],[ke(a.body,e)]);var r=x.makeSpan(["fix"],[]),n=x.makeSpan([a.alignment],[t,r],e),i=x.makeSpan(["strut"]);return i.style.height=E(n.height+n.depth),n.depth&&(i.style.verticalAlign=E(-n.depth)),n.children.unshift(i),n=x.makeSpan(["thinbox"],[n],e),x.makeSpan(["mord","vbox"],[n],e)},mathmlBuilder:(a,e)=>{var t=new _.MathNode("mpadded",[Ae(a.body,e)]);if(a.alignment!=="rlap"){var r=a.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});F({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,e){var{funcName:t,parser:r}=a,n=r.mode;r.switchMode("math");var i=t==="\\("?"\\)":"$",s=r.parseExpression(!1,i);return r.expect(i),r.switchMode(n),{type:"styling",mode:r.mode,style:"text",body:s}}});F({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,e){throw new B("Mismatched "+a.funcName)}});var Pn=(a,e)=>{switch(e.style.size){case J.DISPLAY.size:return a.display;case J.TEXT.size:return a.text;case J.SCRIPT.size:return a.script;case J.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};F({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,e)=>{var{parser:t}=a;return{type:"mathchoice",mode:t.mode,display:Oe(e[0]),text:Oe(e[1]),script:Oe(e[2]),scriptscript:Oe(e[3])}},htmlBuilder:(a,e)=>{var t=Pn(a,e),r=We(t,e,!1);return x.makeFragment(r)},mathmlBuilder:(a,e)=>{var t=Pn(a,e);return Nt(t,e)}});var fi=(a,e,t,r,n,i,s)=>{a=x.makeSpan([],[a]);var l=t&&Z.isCharacterBox(t),u,m;if(e){var h=ke(e,r.havingStyle(n.sup()),r);m={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-h.depth)}}if(t){var p=ke(t,r.havingStyle(n.sub()),r);u={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var g;if(m&&u){var y=r.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+a.depth+s;g=x.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:E(-i)},{type:"kern",size:u.kern},{type:"elem",elem:a},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:E(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(u){var $=a.height-s;g=x.makeVList({positionType:"top",positionData:$,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:E(-i)},{type:"kern",size:u.kern},{type:"elem",elem:a}]},r)}else if(m){var k=a.depth+s;g=x.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:a},{type:"kern",size:m.kern},{type:"elem",elem:m.elem,marginLeft:E(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return a;var S=[g];if(u&&i!==0&&!l){var z=x.makeSpan(["mspace"],[],r);z.style.marginRight=E(i),S.unshift(z)}return x.makeSpan(["mop","op-limits"],S,r)},gi=["\\smallint"],ir=(a,e)=>{var t,r,n=!1,i;a.type==="supsub"?(t=a.sup,r=a.sub,i=me(a.base,"op"),n=!0):i=me(a,"op");var s=e.style,l=!1;s.size===J.DISPLAY.size&&i.symbol&&!Z.contains(gi,i.name)&&(l=!0);var u;if(i.symbol){var m=l?"Size2-Regular":"Size1-Regular",h="";if((i.name==="\\oiint"||i.name==="\\oiiint")&&(h=i.name.slice(1),i.name=h==="oiint"?"\\iint":"\\iiint"),u=x.makeSymbol(i.name,m,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var p=u.italic,g=x.staticSvg(h+"Size"+(l?"2":"1"),e);u=x.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:l?.08:0}]},e),i.name="\\"+h,u.classes.unshift("mop"),u.italic=p}}else if(i.body){var y=We(i.body,e,!0);y.length===1&&y[0]instanceof ot?(u=y[0],u.classes[0]="mop"):u=x.makeSpan(["mop"],y,e)}else{for(var $=[],k=1;k<i.name.length;k++)$.push(x.mathsym(i.name[k],i.mode,e));u=x.makeSpan(["mop"],$,e)}var S=0,z=0;return(u instanceof ot||i.name==="\\oiint"||i.name==="\\oiiint")&&!i.suppressBaseShift&&(S=(u.height-u.depth)/2-e.fontMetrics().axisHeight,z=u.italic),n?fi(u,t,r,e,s,z,S):(S&&(u.style.position="relative",u.style.top=E(S)),u)},wr=(a,e)=>{var t;if(a.symbol)t=new at("mo",[lt(a.name,a.mode)]),Z.contains(gi,a.name)&&t.setAttribute("largeop","false");else if(a.body)t=new at("mo",Je(a.body,e));else{t=new at("mi",[new bt(a.name.slice(1))]);var r=new at("mo",[lt("⁡","text")]);a.parentIsSupSub?t=new at("mrow",[t,r]):t=V0([t,r])}return t},Qo={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};F({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=r;return n.length===1&&(n=Qo[n]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:ir,mathmlBuilder:wr});F({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,e)=>{var{parser:t}=a,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Oe(r)}},htmlBuilder:ir,mathmlBuilder:wr});var Jo={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};F({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){var{parser:e,funcName:t}=a;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:ir,mathmlBuilder:wr});F({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){var{parser:e,funcName:t}=a;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:ir,mathmlBuilder:wr});F({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(a){var{parser:e,funcName:t}=a,r=t;return r.length===1&&(r=Jo[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ir,mathmlBuilder:wr});var vi=(a,e)=>{var t,r,n=!1,i;a.type==="supsub"?(t=a.sup,r=a.sub,i=me(a.base,"operatorname"),n=!0):i=me(a,"operatorname");var s;if(i.body.length>0){for(var l=i.body.map(p=>{var g=p.text;return typeof g=="string"?{type:"textord",mode:p.mode,text:g}:p}),u=We(l,e.withFont("mathrm"),!0),m=0;m<u.length;m++){var h=u[m];h instanceof ot&&(h.text=h.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=x.makeSpan(["mop"],u,e)}else s=x.makeSpan(["mop"],[],e);return n?fi(s,t,r,e,e.style,0,0):s},el=(a,e)=>{for(var t=Je(a.body,e.withFont("mathrm")),r=!0,n=0;n<t.length;n++){var i=t[n];if(!(i instanceof _.SpaceNode))if(i instanceof _.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=i.children[0];i.children.length===1&&s instanceof _.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=t.map(h=>h.toText()).join("");t=[new _.TextNode(l)]}var u=new _.MathNode("mi",t);u.setAttribute("mathvariant","normal");var m=new _.MathNode("mo",[lt("⁡","text")]);return a.parentIsSupSub?new _.MathNode("mrow",[u,m]):_.newDocumentFragment([u,m])};F({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,e)=>{var{parser:t,funcName:r}=a,n=e[0];return{type:"operatorname",mode:t.mode,body:Oe(n),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:vi,mathmlBuilder:el});f("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Xt({type:"ordgroup",htmlBuilder(a,e){return a.semisimple?x.makeFragment(We(a.body,e,!1)):x.makeSpan(["mord"],We(a.body,e,!0),e)},mathmlBuilder(a,e){return Nt(a.body,e,!0)}});F({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,e){var{parser:t}=a,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(a,e){var t=ke(a.body,e.havingCrampedStyle()),r=x.makeLineSpan("overline-line",e),n=e.fontMetrics().defaultRuleThickness,i=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*n},{type:"elem",elem:r},{type:"kern",size:n}]},e);return x.makeSpan(["mord","overline"],[i],e)},mathmlBuilder(a,e){var t=new _.MathNode("mo",[new _.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new _.MathNode("mover",[Ae(a.body,e),t]);return r.setAttribute("accent","true"),r}});F({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:t}=a,r=e[0];return{type:"phantom",mode:t.mode,body:Oe(r)}},htmlBuilder:(a,e)=>{var t=We(a.body,e.withPhantom(),!1);return x.makeFragment(t)},mathmlBuilder:(a,e)=>{var t=Je(a.body,e);return new _.MathNode("mphantom",t)}});F({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:t}=a,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(a,e)=>{var t=x.makeSpan([],[ke(a.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),x.makeSpan(["mord"],[t],e)},mathmlBuilder:(a,e)=>{var t=Je(Oe(a.body),e),r=new _.MathNode("mphantom",t),n=new _.MathNode("mpadded",[r]);return n.setAttribute("height","0px"),n.setAttribute("depth","0px"),n}});F({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,e)=>{var{parser:t}=a,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(a,e)=>{var t=x.makeSpan(["inner"],[ke(a.body,e.withPhantom())]),r=x.makeSpan(["fix"],[]);return x.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(a,e)=>{var t=Je(Oe(a.body),e),r=new _.MathNode("mphantom",t),n=new _.MathNode("mpadded",[r]);return n.setAttribute("width","0px"),n}});F({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,e){var{parser:t}=a,r=me(e[0],"size").value,n=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:n}},htmlBuilder(a,e){var t=ke(a.body,e),r=qe(a.dy,e);return x.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(a,e){var t=new _.MathNode("mpadded",[Ae(a.body,e)]),r=a.dy.number+a.dy.unit;return t.setAttribute("voffset",r),t}});F({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){var{parser:e}=a;return{type:"internal",mode:e.mode}}});F({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,e,t){var{parser:r}=a,n=t[0],i=me(e[0],"size"),s=me(e[1],"size");return{type:"rule",mode:r.mode,shift:n&&me(n,"size").value,width:i.value,height:s.value}},htmlBuilder(a,e){var t=x.makeSpan(["mord","rule"],[],e),r=qe(a.width,e),n=qe(a.height,e),i=a.shift?qe(a.shift,e):0;return t.style.borderRightWidth=E(r),t.style.borderTopWidth=E(n),t.style.bottom=E(i),t.width=r,t.height=n+i,t.depth=-i,t.maxFontSize=n*1.125*e.sizeMultiplier,t},mathmlBuilder(a,e){var t=qe(a.width,e),r=qe(a.height,e),n=a.shift?qe(a.shift,e):0,i=e.color&&e.getColor()||"black",s=new _.MathNode("mspace");s.setAttribute("mathbackground",i),s.setAttribute("width",E(t)),s.setAttribute("height",E(r));var l=new _.MathNode("mpadded",[s]);return n>=0?l.setAttribute("height",E(n)):(l.setAttribute("height",E(n)),l.setAttribute("depth",E(-n))),l.setAttribute("voffset",E(n)),l}});function bi(a,e,t){for(var r=We(a,e,!1),n=e.sizeMultiplier/t.sizeMultiplier,i=0;i<r.length;i++){var s=r[i].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[i].classes,e.sizingClasses(t)):r[i].classes[s+1]==="reset-size"+e.size&&(r[i].classes[s+1]="reset-size"+t.size),r[i].height*=n,r[i].depth*=n}return x.makeFragment(r)}var Wn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],tl=(a,e)=>{var t=e.havingSize(a.size);return bi(a.body,t,e)};F({type:"sizing",names:Wn,props:{numArgs:0,allowedInText:!0},handler:(a,e)=>{var{breakOnTokenText:t,funcName:r,parser:n}=a,i=n.parseExpression(!1,t);return{type:"sizing",mode:n.mode,size:Wn.indexOf(r)+1,body:i}},htmlBuilder:tl,mathmlBuilder:(a,e)=>{var t=e.havingSize(a.size),r=Je(a.body,t),n=new _.MathNode("mstyle",r);return n.setAttribute("mathsize",E(t.sizeMultiplier)),n}});F({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,e,t)=>{var{parser:r}=a,n=!1,i=!1,s=t[0]&&me(t[0],"ordgroup");if(s)for(var l="",u=0;u<s.body.length;++u){var m=s.body[u];if(l=m.text,l==="t")n=!0;else if(l==="b")i=!0;else{n=!1,i=!1;break}}else n=!0,i=!0;var h=e[0];return{type:"smash",mode:r.mode,body:h,smashHeight:n,smashDepth:i}},htmlBuilder:(a,e)=>{var t=x.makeSpan([],[ke(a.body,e)]);if(!a.smashHeight&&!a.smashDepth)return t;if(a.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(a.smashDepth&&(t.depth=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].depth=0;var i=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return x.makeSpan(["mord"],[i],e)},mathmlBuilder:(a,e)=>{var t=new _.MathNode("mpadded",[Ae(a.body,e)]);return a.smashHeight&&t.setAttribute("height","0px"),a.smashDepth&&t.setAttribute("depth","0px"),t}});F({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,e,t){var{parser:r}=a,n=t[0],i=e[0];return{type:"sqrt",mode:r.mode,body:i,index:n}},htmlBuilder(a,e){var t=ke(a.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=x.wrapFragment(t,e);var r=e.fontMetrics(),n=r.defaultRuleThickness,i=n;e.style.id<J.TEXT.id&&(i=e.fontMetrics().xHeight);var s=n+i/4,l=t.height+t.depth+s+n,{span:u,ruleWidth:m,advanceWidth:h}=At.sqrtImage(l,e),p=u.height-m;p>t.height+t.depth+s&&(s=(s+p-t.height-t.depth)/2);var g=u.height-t.height-s-m;t.style.paddingLeft=E(h);var y=x.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+g)},{type:"elem",elem:u},{type:"kern",size:m}]},e);if(a.index){var $=e.havingStyle(J.SCRIPTSCRIPT),k=ke(a.index,$,e),S=.6*(y.height-y.depth),z=x.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:k}]},e),C=x.makeSpan(["root"],[z]);return x.makeSpan(["mord","sqrt"],[C,y],e)}else return x.makeSpan(["mord","sqrt"],[y],e)},mathmlBuilder(a,e){var{body:t,index:r}=a;return r?new _.MathNode("mroot",[Ae(t,e),Ae(r,e)]):new _.MathNode("msqrt",[Ae(t,e)])}});var Vn={display:J.DISPLAY,text:J.TEXT,script:J.SCRIPT,scriptscript:J.SCRIPTSCRIPT};F({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,e){var{breakOnTokenText:t,funcName:r,parser:n}=a,i=n.parseExpression(!0,t),s=r.slice(1,r.length-5);return{type:"styling",mode:n.mode,style:s,body:i}},htmlBuilder(a,e){var t=Vn[a.style],r=e.havingStyle(t).withFont("");return bi(a.body,r,e)},mathmlBuilder(a,e){var t=Vn[a.style],r=e.havingStyle(t),n=Je(a.body,r),i=new _.MathNode("mstyle",n),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[a.style];return i.setAttribute("scriptlevel",l[0]),i.setAttribute("displaystyle",l[1]),i}});var rl=function(e,t){var r=e.base;if(r)if(r.type==="op"){var n=r.limits&&(t.style.size===J.DISPLAY.size||r.alwaysHandleSupSub);return n?ir:null}else if(r.type==="operatorname"){var i=r.alwaysHandleSupSub&&(t.style.size===J.DISPLAY.size||r.limits);return i?vi:null}else{if(r.type==="accent")return Z.isCharacterBox(r.base)?ja:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?pi:null}else return null}else return null};Xt({type:"supsub",htmlBuilder(a,e){var t=rl(a,e);if(t)return t(a,e);var{base:r,sup:n,sub:i}=a,s=ke(r,e),l,u,m=e.fontMetrics(),h=0,p=0,g=r&&Z.isCharacterBox(r);if(n){var y=e.havingStyle(e.style.sup());l=ke(n,y,e),g||(h=s.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(i){var $=e.havingStyle(e.style.sub());u=ke(i,$,e),g||(p=s.depth+$.fontMetrics().subDrop*$.sizeMultiplier/e.sizeMultiplier)}var k;e.style===J.DISPLAY?k=m.sup1:e.style.cramped?k=m.sup3:k=m.sup2;var S=e.sizeMultiplier,z=E(.5/m.ptPerEm/S),C=null;if(u){var M=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(s instanceof ot||M)&&(C=E(-s.italic))}var A;if(l&&u){h=Math.max(h,k,l.depth+.25*m.xHeight),p=Math.max(p,m.sub2);var D=m.defaultRuleThickness,X=4*D;if(h-l.depth-(u.height-p)<X){p=X-(h-l.depth)+u.height;var re=.8*m.xHeight-(h-l.depth);re>0&&(h+=re,p-=re)}var ae=[{type:"elem",elem:u,shift:p,marginRight:z,marginLeft:C},{type:"elem",elem:l,shift:-h,marginRight:z}];A=x.makeVList({positionType:"individualShift",children:ae},e)}else if(u){p=Math.max(p,m.sub1,u.height-.8*m.xHeight);var de=[{type:"elem",elem:u,marginLeft:C,marginRight:z}];A=x.makeVList({positionType:"shift",positionData:p,children:de},e)}else if(l)h=Math.max(h,k,l.depth+.25*m.xHeight),A=x.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:l,marginRight:z}]},e);else throw new Error("supsub must have either sup or sub.");var $e=_a(s,"right")||"mord";return x.makeSpan([$e],[s,x.makeSpan(["msupsub"],[A])],e)},mathmlBuilder(a,e){var t=!1,r,n;a.base&&a.base.type==="horizBrace"&&(n=!!a.sup,n===a.base.isOver&&(t=!0,r=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);var i=[Ae(a.base,e)];a.sub&&i.push(Ae(a.sub,e)),a.sup&&i.push(Ae(a.sup,e));var s;if(t)s=r?"mover":"munder";else if(a.sub)if(a.sup){var m=a.base;m&&m.type==="op"&&m.limits&&e.style===J.DISPLAY||m&&m.type==="operatorname"&&m.alwaysHandleSupSub&&(e.style===J.DISPLAY||m.limits)?s="munderover":s="msubsup"}else{var u=a.base;u&&u.type==="op"&&u.limits&&(e.style===J.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===J.DISPLAY)?s="munder":s="msub"}else{var l=a.base;l&&l.type==="op"&&l.limits&&(e.style===J.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===J.DISPLAY)?s="mover":s="msup"}return new _.MathNode(s,i)}});Xt({type:"atom",htmlBuilder(a,e){return x.mathsym(a.text,a.mode,e,["m"+a.family])},mathmlBuilder(a,e){var t=new _.MathNode("mo",[lt(a.text,a.mode)]);if(a.family==="bin"){var r=Ga(a,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else a.family==="punct"?t.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&t.setAttribute("stretchy","false");return t}});var yi={mi:"italic",mn:"normal",mtext:"normal"};Xt({type:"mathord",htmlBuilder(a,e){return x.makeOrd(a,e,"mathord")},mathmlBuilder(a,e){var t=new _.MathNode("mi",[lt(a.text,a.mode,e)]),r=Ga(a,e)||"italic";return r!==yi[t.type]&&t.setAttribute("mathvariant",r),t}});Xt({type:"textord",htmlBuilder(a,e){return x.makeOrd(a,e,"textord")},mathmlBuilder(a,e){var t=lt(a.text,a.mode,e),r=Ga(a,e)||"normal",n;return a.mode==="text"?n=new _.MathNode("mtext",[t]):/[0-9]/.test(a.text)?n=new _.MathNode("mn",[t]):a.text==="\\prime"?n=new _.MathNode("mo",[t]):n=new _.MathNode("mi",[t]),r!==yi[n.type]&&n.setAttribute("mathvariant",r),n}});var ga={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},va={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Xt({type:"spacing",htmlBuilder(a,e){if(va.hasOwnProperty(a.text)){var t=va[a.text].className||"";if(a.mode==="text"){var r=x.makeOrd(a,e,"textord");return r.classes.push(t),r}else return x.makeSpan(["mspace",t],[x.mathsym(a.text,a.mode,e)],e)}else{if(ga.hasOwnProperty(a.text))return x.makeSpan(["mspace",ga[a.text]],[],e);throw new B('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,e){var t;if(va.hasOwnProperty(a.text))t=new _.MathNode("mtext",[new _.TextNode(" ")]);else{if(ga.hasOwnProperty(a.text))return new _.MathNode("mspace");throw new B('Unknown type of space "'+a.text+'"')}return t}});var Gn=()=>{var a=new _.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};Xt({type:"tag",mathmlBuilder(a,e){var t=new _.MathNode("mtable",[new _.MathNode("mtr",[Gn(),new _.MathNode("mtd",[Nt(a.body,e)]),Gn(),new _.MathNode("mtd",[Nt(a.tag,e)])])]);return t.setAttribute("width","100%"),t}});var Yn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},jn={"\\textbf":"textbf","\\textmd":"textmd"},al={"\\textit":"textit","\\textup":"textup"},Un=(a,e)=>{var t=a.font;if(t){if(Yn[t])return e.withTextFontFamily(Yn[t]);if(jn[t])return e.withTextFontWeight(jn[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(al[t])};F({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,e){var{parser:t,funcName:r}=a,n=e[0];return{type:"text",mode:t.mode,body:Oe(n),font:r}},htmlBuilder(a,e){var t=Un(a,e),r=We(a.body,t,!0);return x.makeSpan(["mord","text"],r,t)},mathmlBuilder(a,e){var t=Un(a,e);return Nt(a.body,t)}});F({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,e){var{parser:t}=a;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(a,e){var t=ke(a.body,e),r=x.makeLineSpan("underline-line",e),n=e.fontMetrics().defaultRuleThickness,i=x.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:n},{type:"elem",elem:r},{type:"kern",size:3*n},{type:"elem",elem:t}]},e);return x.makeSpan(["mord","underline"],[i],e)},mathmlBuilder(a,e){var t=new _.MathNode("mo",[new _.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new _.MathNode("munder",[Ae(a.body,e),t]);return r.setAttribute("accentunder","true"),r}});F({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,e){var{parser:t}=a;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(a,e){var t=ke(a.body,e),r=e.fontMetrics().axisHeight,n=.5*(t.height-r-(t.depth+r));return x.makeVList({positionType:"shift",positionData:n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(a,e){return new _.MathNode("mpadded",[Ae(a.body,e)],["vcenter"])}});F({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,e,t){throw new B("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,e){for(var t=Xn(a),r=[],n=e.havingStyle(e.style.text()),i=0;i<t.length;i++){var s=t[i];s==="~"&&(s="\\textasciitilde"),r.push(x.makeSymbol(s,"Typewriter-Regular",a.mode,n,["mord","texttt"]))}return x.makeSpan(["mord","text"].concat(n.sizingClasses(e)),x.tryCombineChars(r),n)},mathmlBuilder(a,e){var t=new _.TextNode(Xn(a)),r=new _.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var Xn=a=>a.body.replace(/ /g,a.star?"␣":" "),It=P0,wi=`[ \r
	]`,nl="\\\\[a-zA-Z@]+",il="\\\\[^\uD800-\uDFFF]",sl="("+nl+")"+wi+"*",ol=`\\\\(
|[ \r	]+
?)[ \r	]*`,La="[̀-ͯ]",ll=new RegExp(La+"+$"),ul="("+wi+"+)|"+(ol+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(La+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(La+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+sl)+("|"+il+")");class Kn{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(ul,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new st("EOF",new tt(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new B("Unexpected character: '"+e[t]+"'",new st(e[t],new tt(this,t,t+1)));var n=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[n]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new st(n,new tt(this,t,this.tokenRegex.lastIndex))}}class cl{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new B("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var hl=ui;f("\\noexpand",function(a){var e=a.popToken();return a.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});f("\\expandafter",function(a){var e=a.popToken();return a.expandOnce(!0),{tokens:[e],numArgs:0}});f("\\@firstoftwo",function(a){var e=a.consumeArgs(2);return{tokens:e[0],numArgs:0}});f("\\@secondoftwo",function(a){var e=a.consumeArgs(2);return{tokens:e[1],numArgs:0}});f("\\@ifnextchar",function(a){var e=a.consumeArgs(3);a.consumeSpaces();var t=a.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});f("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");f("\\TextOrMath",function(a){var e=a.consumeArgs(2);return a.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};f("\\char",function(a){var e=a.popToken(),t,r="";if(e.text==="'")t=8,e=a.popToken();else if(e.text==='"')t=16,e=a.popToken();else if(e.text==="`")if(e=a.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new B("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=Zn[e.text],r==null||r>=t)throw new B("Invalid base-"+t+" digit "+e.text);for(var n;(n=Zn[a.future().text])!=null&&n<t;)r*=t,r+=n,a.popToken()}return"\\@char{"+r+"}"});var tn=(a,e,t,r)=>{var n=a.consumeArg().tokens;if(n.length!==1)throw new B("\\newcommand's first argument must be a macro name");var i=n[0].text,s=a.isDefined(i);if(s&&!e)throw new B("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!t)throw new B("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var l=0;if(n=a.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var u="",m=a.expandNextToken();m.text!=="]"&&m.text!=="EOF";)u+=m.text,m=a.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new B("Invalid number of arguments: "+u);l=parseInt(u),n=a.consumeArg().tokens}return s&&r||a.macros.set(i,{tokens:n,numArgs:l}),""};f("\\newcommand",a=>tn(a,!1,!0,!1));f("\\renewcommand",a=>tn(a,!0,!1,!1));f("\\providecommand",a=>tn(a,!0,!0,!0));f("\\message",a=>{var e=a.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});f("\\errmessage",a=>{var e=a.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});f("\\show",a=>{var e=a.popToken(),t=e.text;return console.log(e,a.macros.get(t),It[t],Be.math[t],Be.text[t]),""});f("\\bgroup","{");f("\\egroup","}");f("~","\\nobreakspace");f("\\lq","`");f("\\rq","'");f("\\aa","\\r a");f("\\AA","\\r A");f("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");f("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");f("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");f("ℬ","\\mathscr{B}");f("ℰ","\\mathscr{E}");f("ℱ","\\mathscr{F}");f("ℋ","\\mathscr{H}");f("ℐ","\\mathscr{I}");f("ℒ","\\mathscr{L}");f("ℳ","\\mathscr{M}");f("ℛ","\\mathscr{R}");f("ℭ","\\mathfrak{C}");f("ℌ","\\mathfrak{H}");f("ℨ","\\mathfrak{Z}");f("\\Bbbk","\\Bbb{k}");f("·","\\cdotp");f("\\llap","\\mathllap{\\textrm{#1}}");f("\\rlap","\\mathrlap{\\textrm{#1}}");f("\\clap","\\mathclap{\\textrm{#1}}");f("\\mathstrut","\\vphantom{(}");f("\\underbar","\\underline{\\text{#1}}");f("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');f("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");f("\\ne","\\neq");f("≠","\\neq");f("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");f("∉","\\notin");f("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");f("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");f("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");f("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");f("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");f("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");f("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");f("⟂","\\perp");f("‼","\\mathclose{!\\mkern-0.8mu!}");f("∌","\\notni");f("⌜","\\ulcorner");f("⌝","\\urcorner");f("⌞","\\llcorner");f("⌟","\\lrcorner");f("©","\\copyright");f("®","\\textregistered");f("️","\\textregistered");f("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');f("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');f("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');f("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');f("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");f("⋮","\\vdots");f("\\varGamma","\\mathit{\\Gamma}");f("\\varDelta","\\mathit{\\Delta}");f("\\varTheta","\\mathit{\\Theta}");f("\\varLambda","\\mathit{\\Lambda}");f("\\varXi","\\mathit{\\Xi}");f("\\varPi","\\mathit{\\Pi}");f("\\varSigma","\\mathit{\\Sigma}");f("\\varUpsilon","\\mathit{\\Upsilon}");f("\\varPhi","\\mathit{\\Phi}");f("\\varPsi","\\mathit{\\Psi}");f("\\varOmega","\\mathit{\\Omega}");f("\\substack","\\begin{subarray}{c}#1\\end{subarray}");f("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");f("\\boxed","\\fbox{$\\displaystyle{#1}$}");f("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");f("\\implies","\\DOTSB\\;\\Longrightarrow\\;");f("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");f("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");f("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Qn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};f("\\dots",function(a){var e="\\dotso",t=a.expandAfterFuture().text;return t in Qn?e=Qn[t]:(t.slice(0,4)==="\\not"||t in Be.math&&Z.contains(["bin","rel"],Be.math[t].group))&&(e="\\dotsb"),e});var rn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};f("\\dotso",function(a){var e=a.future().text;return e in rn?"\\ldots\\,":"\\ldots"});f("\\dotsc",function(a){var e=a.future().text;return e in rn&&e!==","?"\\ldots\\,":"\\ldots"});f("\\cdots",function(a){var e=a.future().text;return e in rn?"\\@cdots\\,":"\\@cdots"});f("\\dotsb","\\cdots");f("\\dotsm","\\cdots");f("\\dotsi","\\!\\cdots");f("\\dotsx","\\ldots\\,");f("\\DOTSI","\\relax");f("\\DOTSB","\\relax");f("\\DOTSX","\\relax");f("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");f("\\,","\\tmspace+{3mu}{.1667em}");f("\\thinspace","\\,");f("\\>","\\mskip{4mu}");f("\\:","\\tmspace+{4mu}{.2222em}");f("\\medspace","\\:");f("\\;","\\tmspace+{5mu}{.2777em}");f("\\thickspace","\\;");f("\\!","\\tmspace-{3mu}{.1667em}");f("\\negthinspace","\\!");f("\\negmedspace","\\tmspace-{4mu}{.2222em}");f("\\negthickspace","\\tmspace-{5mu}{.277em}");f("\\enspace","\\kern.5em ");f("\\enskip","\\hskip.5em\\relax");f("\\quad","\\hskip1em\\relax");f("\\qquad","\\hskip2em\\relax");f("\\tag","\\@ifstar\\tag@literal\\tag@paren");f("\\tag@paren","\\tag@literal{({#1})}");f("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new B("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});f("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");f("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");f("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");f("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");f("\\newline","\\\\\\relax");f("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var xi=E(vt["Main-Regular"][84][1]-.7*vt["Main-Regular"][65][1]);f("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+xi+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");f("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+xi+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");f("\\hspace","\\@ifstar\\@hspacer\\@hspace");f("\\@hspace","\\hskip #1\\relax");f("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");f("\\ordinarycolon",":");f("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");f("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');f("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');f("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');f("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');f("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');f("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');f("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');f("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');f("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');f("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');f("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');f("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');f("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');f("∷","\\dblcolon");f("∹","\\eqcolon");f("≔","\\coloneqq");f("≕","\\eqqcolon");f("⩴","\\Coloneqq");f("\\ratio","\\vcentcolon");f("\\coloncolon","\\dblcolon");f("\\colonequals","\\coloneqq");f("\\coloncolonequals","\\Coloneqq");f("\\equalscolon","\\eqqcolon");f("\\equalscoloncolon","\\Eqqcolon");f("\\colonminus","\\coloneq");f("\\coloncolonminus","\\Coloneq");f("\\minuscolon","\\eqcolon");f("\\minuscoloncolon","\\Eqcolon");f("\\coloncolonapprox","\\Colonapprox");f("\\coloncolonsim","\\Colonsim");f("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");f("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");f("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");f("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");f("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");f("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");f("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");f("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");f("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");f("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");f("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");f("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");f("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");f("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");f("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");f("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");f("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");f("\\nleqq","\\html@mathml{\\@nleqq}{≰}");f("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");f("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");f("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");f("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");f("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");f("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");f("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");f("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");f("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");f("\\imath","\\html@mathml{\\@imath}{ı}");f("\\jmath","\\html@mathml{\\@jmath}{ȷ}");f("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");f("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");f("⟦","\\llbracket");f("⟧","\\rrbracket");f("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");f("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");f("⦃","\\lBrace");f("⦄","\\rBrace");f("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");f("⦵","\\minuso");f("\\darr","\\downarrow");f("\\dArr","\\Downarrow");f("\\Darr","\\Downarrow");f("\\lang","\\langle");f("\\rang","\\rangle");f("\\uarr","\\uparrow");f("\\uArr","\\Uparrow");f("\\Uarr","\\Uparrow");f("\\N","\\mathbb{N}");f("\\R","\\mathbb{R}");f("\\Z","\\mathbb{Z}");f("\\alef","\\aleph");f("\\alefsym","\\aleph");f("\\Alpha","\\mathrm{A}");f("\\Beta","\\mathrm{B}");f("\\bull","\\bullet");f("\\Chi","\\mathrm{X}");f("\\clubs","\\clubsuit");f("\\cnums","\\mathbb{C}");f("\\Complex","\\mathbb{C}");f("\\Dagger","\\ddagger");f("\\diamonds","\\diamondsuit");f("\\empty","\\emptyset");f("\\Epsilon","\\mathrm{E}");f("\\Eta","\\mathrm{H}");f("\\exist","\\exists");f("\\harr","\\leftrightarrow");f("\\hArr","\\Leftrightarrow");f("\\Harr","\\Leftrightarrow");f("\\hearts","\\heartsuit");f("\\image","\\Im");f("\\infin","\\infty");f("\\Iota","\\mathrm{I}");f("\\isin","\\in");f("\\Kappa","\\mathrm{K}");f("\\larr","\\leftarrow");f("\\lArr","\\Leftarrow");f("\\Larr","\\Leftarrow");f("\\lrarr","\\leftrightarrow");f("\\lrArr","\\Leftrightarrow");f("\\Lrarr","\\Leftrightarrow");f("\\Mu","\\mathrm{M}");f("\\natnums","\\mathbb{N}");f("\\Nu","\\mathrm{N}");f("\\Omicron","\\mathrm{O}");f("\\plusmn","\\pm");f("\\rarr","\\rightarrow");f("\\rArr","\\Rightarrow");f("\\Rarr","\\Rightarrow");f("\\real","\\Re");f("\\reals","\\mathbb{R}");f("\\Reals","\\mathbb{R}");f("\\Rho","\\mathrm{P}");f("\\sdot","\\cdot");f("\\sect","\\S");f("\\spades","\\spadesuit");f("\\sub","\\subset");f("\\sube","\\subseteq");f("\\supe","\\supseteq");f("\\Tau","\\mathrm{T}");f("\\thetasym","\\vartheta");f("\\weierp","\\wp");f("\\Zeta","\\mathrm{Z}");f("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");f("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");f("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");f("\\bra","\\mathinner{\\langle{#1}|}");f("\\ket","\\mathinner{|{#1}\\rangle}");f("\\braket","\\mathinner{\\langle{#1}\\rangle}");f("\\Bra","\\left\\langle#1\\right|");f("\\Ket","\\left|#1\\right\\rangle");var ki=a=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,n=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var u=p=>g=>{a&&(g.macros.set("|",s),n.length&&g.macros.set("\\|",l));var y=p;if(!p&&n.length){var $=g.future();$.text==="|"&&(g.popToken(),y=!0)}return{tokens:y?n:r,numArgs:0}};e.macros.set("|",u(!1)),n.length&&e.macros.set("\\|",u(!0));var m=e.consumeArg().tokens,h=e.expandTokens([...i,...m,...t]);return e.macros.endGroup(),{tokens:h.reverse(),numArgs:0}};f("\\bra@ket",ki(!1));f("\\bra@set",ki(!0));f("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");f("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");f("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");f("\\angln","{\\angl n}");f("\\blue","\\textcolor{##6495ed}{#1}");f("\\orange","\\textcolor{##ffa500}{#1}");f("\\pink","\\textcolor{##ff00af}{#1}");f("\\red","\\textcolor{##df0030}{#1}");f("\\green","\\textcolor{##28ae7b}{#1}");f("\\gray","\\textcolor{gray}{#1}");f("\\purple","\\textcolor{##9d38bd}{#1}");f("\\blueA","\\textcolor{##ccfaff}{#1}");f("\\blueB","\\textcolor{##80f6ff}{#1}");f("\\blueC","\\textcolor{##63d9ea}{#1}");f("\\blueD","\\textcolor{##11accd}{#1}");f("\\blueE","\\textcolor{##0c7f99}{#1}");f("\\tealA","\\textcolor{##94fff5}{#1}");f("\\tealB","\\textcolor{##26edd5}{#1}");f("\\tealC","\\textcolor{##01d1c1}{#1}");f("\\tealD","\\textcolor{##01a995}{#1}");f("\\tealE","\\textcolor{##208170}{#1}");f("\\greenA","\\textcolor{##b6ffb0}{#1}");f("\\greenB","\\textcolor{##8af281}{#1}");f("\\greenC","\\textcolor{##74cf70}{#1}");f("\\greenD","\\textcolor{##1fab54}{#1}");f("\\greenE","\\textcolor{##0d923f}{#1}");f("\\goldA","\\textcolor{##ffd0a9}{#1}");f("\\goldB","\\textcolor{##ffbb71}{#1}");f("\\goldC","\\textcolor{##ff9c39}{#1}");f("\\goldD","\\textcolor{##e07d10}{#1}");f("\\goldE","\\textcolor{##a75a05}{#1}");f("\\redA","\\textcolor{##fca9a9}{#1}");f("\\redB","\\textcolor{##ff8482}{#1}");f("\\redC","\\textcolor{##f9685d}{#1}");f("\\redD","\\textcolor{##e84d39}{#1}");f("\\redE","\\textcolor{##bc2612}{#1}");f("\\maroonA","\\textcolor{##ffbde0}{#1}");f("\\maroonB","\\textcolor{##ff92c6}{#1}");f("\\maroonC","\\textcolor{##ed5fa6}{#1}");f("\\maroonD","\\textcolor{##ca337c}{#1}");f("\\maroonE","\\textcolor{##9e034e}{#1}");f("\\purpleA","\\textcolor{##ddd7ff}{#1}");f("\\purpleB","\\textcolor{##c6b9fc}{#1}");f("\\purpleC","\\textcolor{##aa87ff}{#1}");f("\\purpleD","\\textcolor{##7854ab}{#1}");f("\\purpleE","\\textcolor{##543b78}{#1}");f("\\mintA","\\textcolor{##f5f9e8}{#1}");f("\\mintB","\\textcolor{##edf2df}{#1}");f("\\mintC","\\textcolor{##e0e5cc}{#1}");f("\\grayA","\\textcolor{##f6f7f7}{#1}");f("\\grayB","\\textcolor{##f0f1f2}{#1}");f("\\grayC","\\textcolor{##e3e5e6}{#1}");f("\\grayD","\\textcolor{##d6d8da}{#1}");f("\\grayE","\\textcolor{##babec2}{#1}");f("\\grayF","\\textcolor{##888d93}{#1}");f("\\grayG","\\textcolor{##626569}{#1}");f("\\grayH","\\textcolor{##3b3e40}{#1}");f("\\grayI","\\textcolor{##21242c}{#1}");f("\\kaBlue","\\textcolor{##314453}{#1}");f("\\kaGreen","\\textcolor{##71B307}{#1}");var $i={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class ml{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new cl(hl,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Kn(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:n,end:r}=this.consumeArg(["]"])}else({tokens:n,start:t,end:r}=this.consumeArg());return this.pushToken(new st("EOF",r.loc)),this.pushTokens(n),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var n=this.future(),i,s=0,l=0;do{if(i=this.popToken(),t.push(i),i.text==="{")++s;else if(i.text==="}"){if(--s,s===-1)throw new B("Extra }",i)}else if(i.text==="EOF")throw new B("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",i);if(e&&r)if((s===0||s===1&&e[l]==="{")&&i.text===e[l]){if(++l,l===e.length){t.splice(-l,l);break}}else l=0}while(s!==0||r);return n.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:n,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new B("The length of delimiters doesn't match the number of args!");for(var r=t[0],n=0;n<r.length;n++){var i=this.popToken();if(r[n]!==i.text)throw new B("Use of the macro doesn't match its definition",i)}}for(var s=[],l=0;l<e;l++)s.push(this.consumeArg(t&&t[l+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new B("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,n=t.noexpand?null:this._getExpansion(r);if(n==null||e&&n.unexpandable){if(e&&n==null&&r[0]==="\\"&&!this.isDefined(r))throw new B("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,s=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){i=i.slice();for(var l=i.length-1;l>=0;--l){var u=i[l];if(u.text==="#"){if(l===0)throw new B("Incomplete placeholder at end of macro body",u);if(u=i[--l],u.text==="#")i.splice(l+1,1);else if(/^[1-9]$/.test(u.text))i.splice(l,2,...s[+u.text-1]);else throw new B("Not a valid argument number",u)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new st(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(n)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var n=typeof t=="function"?t(this):t;if(typeof n=="string"){var i=0;if(n.indexOf("#")!==-1)for(var s=n.replace(/##/g,"");s.indexOf("#"+(i+1))!==-1;)++i;for(var l=new Kn(n,this.settings),u=[],m=l.lex();m.text!=="EOF";)u.push(m),m=l.lex();u.reverse();var h={tokens:u,numArgs:i};return h}return n}isDefined(e){return this.macros.has(e)||It.hasOwnProperty(e)||Be.math.hasOwnProperty(e)||Be.text.hasOwnProperty(e)||$i.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:It.hasOwnProperty(e)&&!It[e].primitive}}var Jn=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Dr=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),ba={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},e0={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class ta{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new ml(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new B("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new st("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var n=this.fetch();if(ta.endOfExpression.indexOf(n.text)!==-1||t&&n.text===t||e&&It[n.text]&&It[n.text].infix)break;var i=this.parseAtom(t);if(i){if(i.type==="internal")continue}else break;r.push(i)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,n=0;n<e.length;n++)if(e[n].type==="infix"){if(t!==-1)throw new B("only one infix operator per group",e[n].token);t=n,r=e[n].replaceWith}if(t!==-1&&r){var i,s,l=e.slice(0,t),u=e.slice(t+1);l.length===1&&l[0].type==="ordgroup"?i=l[0]:i={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var m;return r==="\\\\abovefrac"?m=this.callFunction(r,[i,e[t],s],[]):m=this.callFunction(r,[i,s],[]),[m]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var n;do{var i;n=this.parseGroup(e)}while(((i=n)==null?void 0:i.type)==="internal");if(!n)throw new B("Expected group after '"+r+"'",t);return n}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t},i={type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]};return i}parseAtom(e){var t=this.parseGroup("atom",e);if((t==null?void 0:t.type)==="internal"||this.mode==="text")return t;for(var r,n;;){this.consumeSpaces();var i=this.fetch();if(i.text==="\\limits"||i.text==="\\nolimits"){if(t&&t.type==="op"){var s=i.text==="\\limits";t.limits=s,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=i.text==="\\limits");else throw new B("Limit controls must follow a math operator",i);this.consume()}else if(i.text==="^"){if(r)throw new B("Double superscript",i);r=this.handleSupSubscript("superscript")}else if(i.text==="_"){if(n)throw new B("Double subscript",i);n=this.handleSupSubscript("subscript")}else if(i.text==="'"){if(r)throw new B("Double superscript",i);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:u}}else if(Dr[i.text]){var m=Jn.test(i.text),h=[];for(h.push(new st(Dr[i.text])),this.consume();;){var p=this.fetch().text;if(!Dr[p]||Jn.test(p)!==m)break;h.unshift(new st(Dr[p])),this.consume()}var g=this.subparse(h);m?n={type:"ordgroup",mode:"math",body:g}:r={type:"ordgroup",mode:"math",body:g}}else break}return r||n?{type:"supsub",mode:this.mode,base:t,sup:r,sub:n}:t}parseFunction(e,t){var r=this.fetch(),n=r.text,i=It[n];if(!i)return null;if(this.consume(),t&&t!=="atom"&&!i.allowedInArgument)throw new B("Got function '"+n+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!i.allowedInText)throw new B("Can't use function '"+n+"' in text mode",r);if(this.mode==="math"&&i.allowedInMath===!1)throw new B("Can't use function '"+n+"' in math mode",r);var{args:s,optArgs:l}=this.parseArguments(n,i);return this.callFunction(n,s,l,r,e)}callFunction(e,t,r,n,i){var s={funcName:e,parser:this,token:n,breakOnTokenText:i},l=It[e];if(l&&l.handler)return l.handler(s,t,r);throw new B("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var n=[],i=[],s=0;s<r;s++){var l=t.argTypes&&t.argTypes[s],u=s<t.numOptionalArgs;(t.primitive&&l==null||t.type==="sqrt"&&s===1&&i[0]==null)&&(l="primitive");var m=this.parseGroupOfType("argument to '"+e+"'",l,u);if(u)i.push(m);else if(m!=null)n.push(m);else throw new B("Null argument, please report this as a bug")}return{args:n,optArgs:i}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var n=this.parseArgumentGroup(r,"text");return n!=null?{type:"styling",mode:n.mode,body:[n],style:"text"}:null}case"raw":{var i=this.parseStringGroup("raw",r);return i!=null?{type:"raw",mode:"text",string:i.text}:null}case"primitive":{if(r)throw new B("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new B("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new B("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var n="",i;(i=this.fetch()).text!=="EOF";)n+=i.text,this.consume();return this.consume(),r.text=n,r}parseRegexGroup(e,t){for(var r=this.fetch(),n=r,i="",s;(s=this.fetch()).text!=="EOF"&&e.test(i+s.text);)n=s,i+=n.text,this.consume();if(i==="")throw new B("Invalid "+t+": '"+r.text+"'",r);return r.range(n,i)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new B("Invalid color: '"+t.text+"'",t);var n=r[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new B("Invalid size: '"+t.text+"'",t);var i={number:+(n[1]+n[2]),unit:n[3]};if(!L0(i))throw new B("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:i};return t&&this.switchMode(n),s}parseGroup(e,t){var r=this.fetch(),n=r.text,i;if(n==="{"||n==="\\begingroup"){this.consume();var s=n==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),i={type:"ordgroup",mode:this.mode,loc:tt.range(r,u),body:l,semisimple:n==="\\begingroup"||void 0}}else if(i=this.parseFunction(t,e)||this.parseSymbol(),i==null&&n[0]==="\\"&&!$i.hasOwnProperty(n)){if(this.settings.throwOnError)throw new B("Undefined control sequence: "+n,r);i=this.formatUnsupportedCmd(n),this.consume()}return i}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],i=n.text;i==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:tt.range(n,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:tt.range(n,e[r+1]),text:"--"}),t-=1)),(i==="'"||i==="`")&&e[r+1].text===i&&(e.splice(r,2,{type:"textord",mode:"text",loc:tt.range(n,e[r+1]),text:i+i}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),n=r.charAt(0)==="*";if(n&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new B(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:n}}e0.hasOwnProperty(t[0])&&!Be[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=e0[t[0]]+t.slice(1));var i=ll.exec(t);i&&(t=t.substring(0,i.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var s;if(Be[this.mode][t]){this.settings.strict&&this.mode==="math"&&Aa.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l=Be[this.mode][t].group,u=tt.range(e),m;if(Js.hasOwnProperty(l)){var h=l;m={type:"atom",mode:this.mode,family:h,loc:u,text:t}}else m={type:l,mode:this.mode,loc:u,text:t};s=m}else if(t.charCodeAt(0)>=128)this.settings.strict&&(E0(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:tt.range(e),text:t};else return null;if(this.consume(),i)for(var p=0;p<i[0].length;p++){var g=i[0][p];if(!ba[g])throw new B("Unknown accent ' "+g+"'",e);var y=ba[g][this.mode]||ba[g].text;if(!y)throw new B("Accent "+g+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:tt.range(e),label:y,isStretchy:!1,isShifty:!0,base:s}}return s}}ta.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var an=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new ta(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new B("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new st("\\df@tag")])}]}return n},Si=function(e,t,r){t.textContent="";var n=nn(e,r).toNode();t.appendChild(n)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Si=function(){throw new B("KaTeX doesn't work in quirks mode.")});var dl=function(e,t){var r=nn(e,t).toMarkup();return r},pl=function(e,t){var r=new Na(t);return an(e,r)},Mi=function(e,t,r){if(r.throwOnError||!(e instanceof B))throw e;var n=x.makeSpan(["katex-error"],[new ot(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},nn=function(e,t){var r=new Na(t);try{var n=an(e,r);return $o(n,e,r)}catch(i){return Mi(i,e,r)}},fl=function(e,t){var r=new Na(t);try{var n=an(e,r);return So(n,e,r)}catch(i){return Mi(i,e,r)}},gl="0.16.22",vl={Span:yr,Anchor:Pa,SymbolNode:ot,SvgNode:_t,PathNode:Ft,LineNode:za},bl={version:gl,render:Si,renderToString:dl,ParseError:B,SETTINGS_SCHEMA:Fr,__parse:pl,__renderToDomTree:nn,__renderToHTMLTree:fl,__setFontMetrics:Gs,__defineSymbol:o,__defineFunction:F,__defineMacro:f,__domTree:vl};function sn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Kt=sn();function Ti(a){Kt=a}const zi=/[&<>"']/,yl=new RegExp(zi.source,"g"),Ai=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,wl=new RegExp(Ai.source,"g"),xl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t0=a=>xl[a];function rt(a,e){if(e){if(zi.test(a))return a.replace(yl,t0)}else if(Ai.test(a))return a.replace(wl,t0);return a}const kl=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function $l(a){return a.replace(kl,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Sl=/(^|[^\[])\^/g;function ze(a,e){let t=typeof a=="string"?a:a.source;e=e||"";const r={replace:(n,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(Sl,"$1"),t=t.replace(n,s),r},getRegex:()=>new RegExp(t,e)};return r}function r0(a){try{a=encodeURI(a).replace(/%25/g,"%")}catch{return null}return a}const cr={exec:()=>null};function a0(a,e){const t=a.replace(/\|/g,(i,s,l)=>{let u=!1,m=s;for(;--m>=0&&l[m]==="\\";)u=!u;return u?"|":" |"}),r=t.split(/ \|/);let n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function Ir(a,e,t){const r=a.length;if(r===0)return"";let n=0;for(;n<r;){const i=a.charAt(r-n-1);if(i===e&&!t)n++;else if(i!==e&&t)n++;else break}return a.slice(0,r-n)}function Ml(a,e){if(a.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<a.length;r++)if(a[r]==="\\")r++;else if(a[r]===e[0])t++;else if(a[r]===e[1]&&(t--,t<0))return r;return-1}function n0(a,e,t,r){const n=e.href,i=e.title?rt(e.title):null,s=a[1].replace(/\\([\[\]])/g,"$1");if(a[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:t,href:n,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}return{type:"image",raw:t,href:n,title:i,text:rt(s)}}function Tl(a,e){const t=a.match(/^(\s+)(?:```)/);if(t===null)return e;const r=t[1];return e.split(`
`).map(n=>{const i=n.match(/^\s+/);if(i===null)return n;const[s]=i;return s.length>=r.length?n.slice(r.length):n}).join(`
`)}class Gr{constructor(e){Ee(this,"options");Ee(this,"rules");Ee(this,"lexer");this.options=e||Kt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ir(r,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],n=Tl(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const n=Ir(r,"#");(this.options.pedantic||!n||/ $/.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=Ir(t[0].replace(/^ *>[ \t]?/gm,""),`
`),n=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim();const n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const s=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",u="",m=!1;for(;e;){let h=!1;if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);let p=t[2].split(`
`,1)[0].replace(/^\t+/,z=>" ".repeat(3*z.length)),g=e.split(`
`,1)[0],y=0;this.options.pedantic?(y=2,u=p.trimStart()):(y=t[2].search(/[^ ]/),y=y>4?1:y,u=p.slice(y),y+=t[1].length);let $=!1;if(!p&&/^ *$/.test(g)&&(l+=g+`
`,e=e.substring(g.length+1),h=!0),!h){const z=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;e;){const D=e.split(`
`,1)[0];if(g=D,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(g)||A.test(g)||z.test(g)||C.test(e))break;if(g.search(/[^ ]/)>=y||!g.trim())u+=`
`+g.slice(y);else{if($||p.search(/[^ ]/)>=4||M.test(p)||A.test(p)||C.test(p))break;u+=`
`+g}!$&&!g.trim()&&($=!0),l+=D+`
`,e=e.substring(D.length+1),p=g.slice(y)}}i.loose||(m?i.loose=!0:/\n *\n *$/.test(l)&&(m=!0));let k=null,S;this.options.gfm&&(k=/^\[[ xX]\] /.exec(u),k&&(S=k[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:l,task:!!k,checked:S,loose:!1,text:u,tokens:[]}),i.raw+=l}i.items[i.items.length-1].raw=l.trimEnd(),i.items[i.items.length-1].text=u.trimEnd(),i.raw=i.raw.trimEnd();for(let h=0;h<i.items.length;h++)if(this.lexer.state.top=!1,i.items[h].tokens=this.lexer.blockTokens(i.items[h].text,[]),!i.loose){const p=i.items[h].tokens.filter(y=>y.type==="space"),g=p.length>0&&p.some(y=>/\n.*\n/.test(y.raw));i.loose=g}if(i.loose)for(let h=0;h<i.items.length;h++)i.items[h].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const r=a0(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const l of n)/^ *-+: *$/.test(l)?s.align.push("right"):/^ *:-+: *$/.test(l)?s.align.push("center"):/^ *:-+ *$/.test(l)?s.align.push("left"):s.align.push(null);for(const l of r)s.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of i)s.rows.push(a0(l,s.header.length).map(u=>({text:u,tokens:this.lexer.inline(u)})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:rt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Ir(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Ml(t[2],"()");if(s>-1){const u=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);s&&(n=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(r)?n=n.slice(1):n=n.slice(1,-1)),n0(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const n=(r[2]||r[1]).replace(/\s+/g," "),i=t[n.toLowerCase()];if(!i){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return n0(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...n[0]].length-1;let l,u,m=s,h=0;const p=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,t=t.slice(-1*e.length+s);(n=p.exec(t))!=null;){if(l=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!l)continue;if(u=[...l].length,n[3]||n[4]){m+=u;continue}else if((n[5]||n[6])&&s%3&&!((s+u)%3)){h+=u;continue}if(m-=u,m>0)continue;u=Math.min(u,u+m+h);const g=[...n[0]][0].length,y=e.slice(0,s+n.index+g+u);if(Math.min(s,u)%2){const k=y.slice(1,-1);return{type:"em",raw:y,text:k,tokens:this.lexer.inlineTokens(k)}}const $=y.slice(2,-2);return{type:"strong",raw:y,text:$,tokens:this.lexer.inlineTokens($)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const n=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return n&&i&&(r=r.substring(1,r.length-1)),r=rt(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=rt(t[1]),n="mailto:"+r):(r=rt(t[1]),n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=rt(t[0]),i="mailto:"+n;else{let s;do s=t[0],t[0]=((r=this.rules.inline._backpedal.exec(t[0]))==null?void 0:r[0])??"";while(s!==t[0]);n=rt(t[0]),t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=rt(t[0]),{type:"text",raw:t[0],text:r}}}}const zl=/^(?: *(?:\n|$))+/,Al=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,_l=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,xr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Bl=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,_i=/(?:[*+-]|\d{1,9}[.)])/,Bi=ze(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,_i).getRegex(),on=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Cl=/^[^\n]+/,ln=/(?!\s*\])(?:\\.|[^\[\]\\])+/,El=ze(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ln).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ll=ze(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,_i).getRegex(),ra="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",un=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Rl=ze("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",un).replace("tag",ra).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ci=ze(on).replace("hr",xr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ra).getRegex(),Dl=ze(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ci).getRegex(),cn={blockquote:Dl,code:Al,def:El,fences:_l,heading:Bl,hr:xr,html:Rl,lheading:Bi,list:Ll,newline:zl,paragraph:Ci,table:cr,text:Cl},i0=ze("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",xr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ra).getRegex(),Il={...cn,table:i0,paragraph:ze(on).replace("hr",xr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",i0).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ra).getRegex()},ql={...cn,html:ze(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",un).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ze(on).replace("hr",xr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Bi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ei=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fl=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Li=/^( {2,}|\\)\n(?!\s*$)/,Nl=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,kr="\\p{P}\\p{S}",Hl=ze(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,kr).getRegex(),Ol=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Pl=ze(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,kr).getRegex(),Wl=ze("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,kr).getRegex(),Vl=ze("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,kr).getRegex(),Gl=ze(/\\([punct])/,"gu").replace(/punct/g,kr).getRegex(),Yl=ze(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jl=ze(un).replace("(?:-->|$)","-->").getRegex(),Ul=ze("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yr=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Xl=ze(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Yr).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ri=ze(/^!?\[(label)\]\[(ref)\]/).replace("label",Yr).replace("ref",ln).getRegex(),Di=ze(/^!?\[(ref)\](?:\[\])?/).replace("ref",ln).getRegex(),Kl=ze("reflink|nolink(?!\\()","g").replace("reflink",Ri).replace("nolink",Di).getRegex(),hn={_backpedal:cr,anyPunctuation:Gl,autolink:Yl,blockSkip:Ol,br:Li,code:Fl,del:cr,emStrongLDelim:Pl,emStrongRDelimAst:Wl,emStrongRDelimUnd:Vl,escape:Ei,link:Xl,nolink:Di,punctuation:Hl,reflink:Ri,reflinkSearch:Kl,tag:Ul,text:Nl,url:cr},Zl={...hn,link:ze(/^!?\[(label)\]\((.*?)\)/).replace("label",Yr).getRegex(),reflink:ze(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yr).getRegex()},Ra={...hn,escape:ze(Ei).replace("])","~|])").getRegex(),url:ze(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ql={...Ra,br:ze(Li).replace("{2,}","*").getRegex(),text:ze(Ra.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},qr={normal:cn,gfm:Il,pedantic:ql},sr={normal:hn,gfm:Ra,breaks:Ql,pedantic:Zl};class yt{constructor(e){Ee(this,"tokens");Ee(this,"options");Ee(this,"state");Ee(this,"tokenizer");Ee(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Kt,this.options.tokenizer=this.options.tokenizer||new Gr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:qr.normal,inline:sr.normal};this.options.pedantic?(t.block=qr.pedantic,t.inline=sr.pedantic):this.options.gfm&&(t.block=qr.gfm,this.options.breaks?t.inline=sr.breaks:t.inline=sr.gfm),this.tokenizer.rules=t}static get rules(){return{block:qr,inline:sr}}static lex(e,t){return new yt(t).lex(e)}static lexInline(e,t){return new yt(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,u,m)=>u+"    ".repeat(m.length));let r,n,i,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&(n.type==="paragraph"||n.type==="text")?(n.raw+=`
`+r.raw,n.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const u=e.slice(1);let m;this.options.extensions.startBlock.forEach(h=>{m=h.call({lexer:this},u),typeof m=="number"&&m>=0&&(l=Math.min(l,m))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){n=t[t.length-1],s&&n.type==="paragraph"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&n.type==="text"?(n.raw+=`
`+r.raw,n.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,n,i,s=e,l,u,m;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(u||(m=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(r=h.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),n=t[t.length-1],n&&r.type==="text"&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,m)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const p=e.slice(1);let g;this.options.extensions.startInline.forEach(y=>{g=y.call({lexer:this},p),typeof g=="number"&&g>=0&&(h=Math.min(h,g))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(i)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(m=r.raw.slice(-1)),u=!0,n=t[t.length-1],n&&n.type==="text"?(n.raw+=r.raw,n.text+=r.text):t.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return t}}class jr{constructor(e){Ee(this,"options");this.options=e||Kt}code(e,t,r){var i;const n=(i=(t||"").match(/^\S*/))==null?void 0:i[0];return e=e.replace(/\n$/,"")+`
`,n?'<pre><code class="language-'+rt(n)+'">'+(r?e:rt(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:rt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,r){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,r){const n=t?"ol":"ul",i=t&&r!==1?' start="'+r+'"':"";return"<"+n+i+`>
`+e+"</"+n+`>
`}listitem(e,t,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){const n=r0(e);if(n===null)return r;e=n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+r+"</a>",i}image(e,t,r){const n=r0(e);if(n===null)return r;e=n;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return e}}class mn{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class wt{constructor(e){Ee(this,"options");Ee(this,"renderer");Ee(this,"textRenderer");this.options=e||Kt,this.options.renderer=this.options.renderer||new jr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mn}static parse(e,t){return new wt(t).parse(e)}static parseInline(e,t){return new wt(t).parseInline(e)}parse(e,t=!0){let r="";for(let n=0;n<e.length;n++){const i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){r+=l||"";continue}}switch(i.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const s=i;r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,$l(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{const s=i;r+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{const s=i;let l="",u="";for(let h=0;h<s.header.length;h++)u+=this.renderer.tablecell(this.parseInline(s.header[h].tokens),{header:!0,align:s.align[h]});l+=this.renderer.tablerow(u);let m="";for(let h=0;h<s.rows.length;h++){const p=s.rows[h];u="";for(let g=0;g<p.length;g++)u+=this.renderer.tablecell(this.parseInline(p[g].tokens),{header:!1,align:s.align[g]});m+=this.renderer.tablerow(u)}r+=this.renderer.table(l,m);continue}case"blockquote":{const s=i,l=this.parse(s.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const s=i,l=s.ordered,u=s.start,m=s.loose;let h="";for(let p=0;p<s.items.length;p++){const g=s.items[p],y=g.checked,$=g.task;let k="";if(g.task){const S=this.renderer.checkbox(!!y);m?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=S+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=S+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:S+" "}):k+=S+" "}k+=this.parse(g.tokens,m),h+=this.renderer.listitem(k,$,!!y)}r+=this.renderer.list(h,l,u);continue}case"html":{const s=i;r+=this.renderer.html(s.text,s.block);continue}case"paragraph":{const s=i;r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=i,l=s.tokens?this.parseInline(s.tokens):s.text;for(;n+1<e.length&&e[n+1].type==="text";)s=e[++n],l+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);r+=t?this.renderer.paragraph(l):l;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}parseInline(e,t){t=t||this.renderer;let r="";for(let n=0;n<e.length;n++){const i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=s||"";continue}}switch(i.type){case"escape":{const s=i;r+=t.text(s.text);break}case"html":{const s=i;r+=t.html(s.text);break}case"link":{const s=i;r+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{const s=i;r+=t.image(s.href,s.title,s.text);break}case"strong":{const s=i;r+=t.strong(this.parseInline(s.tokens,t));break}case"em":{const s=i;r+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{const s=i;r+=t.codespan(s.text);break}case"br":{r+=t.br();break}case"del":{const s=i;r+=t.del(this.parseInline(s.tokens,t));break}case"text":{const s=i;r+=t.text(s.text);break}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}}class hr{constructor(e){Ee(this,"options");this.options=e||Kt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Ee(hr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var vr,Da,Ur,Ii;class Jl{constructor(...e){aa(this,vr);aa(this,Ur);Ee(this,"defaults",sn());Ee(this,"options",this.setOptions);Ee(this,"parse",Mr(this,vr,Da).call(this,yt.lex,wt.parse));Ee(this,"parseInline",Mr(this,vr,Da).call(this,yt.lexInline,wt.parseInline));Ee(this,"Parser",wt);Ee(this,"Renderer",jr);Ee(this,"TextRenderer",mn);Ee(this,"Lexer",yt);Ee(this,"Tokenizer",Gr);Ee(this,"Hooks",hr);this.use(...e)}walkTokens(e,t){var n,i;let r=[];for(const s of e)switch(r=r.concat(t.call(this,s)),s.type){case"table":{const l=s;for(const u of l.header)r=r.concat(this.walkTokens(u.tokens,t));for(const u of l.rows)for(const m of u)r=r.concat(this.walkTokens(m.tokens,t));break}case"list":{const l=s;r=r.concat(this.walkTokens(l.items,t));break}default:{const l=s;(i=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(u=>{const m=l[u].flat(1/0);r=r.concat(this.walkTokens(m,t))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,t)))}}return r}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=t.renderers[i.name];s?t.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=s.apply(this,l)),u}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[i.level];s?s.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){const i=this.defaults.renderer||new jr(this.defaults);for(const s in r.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;const l=s,u=r.renderer[l],m=i[l];i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=m.apply(i,h)),p||""}}n.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new Gr(this.defaults);for(const s in r.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const l=s,u=r.tokenizer[l],m=i[l];i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=m.apply(i,h)),p}}n.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new hr;for(const s in r.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;const l=s,u=r.hooks[l],m=i[l];hr.passThroughHooks.has(s)?i[l]=h=>{if(this.defaults.async)return Promise.resolve(u.call(i,h)).then(g=>m.call(i,g));const p=u.call(i,h);return m.call(i,p)}:i[l]=(...h)=>{let p=u.apply(i,h);return p===!1&&(p=m.apply(i,h)),p}}n.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(l){let u=[];return u.push(s.call(this,l)),i&&(u=u.concat(i.call(this,l))),u}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return yt.lex(e,t??this.defaults)}parser(e,t){return wt.parse(e,t??this.defaults)}}vr=new WeakSet,Da=function(e,t){return(r,n)=>{const i={...n},s={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const l=Mr(this,Ur,Ii).call(this,!!s.silent,!!s.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(u=>e(u,s)).then(u=>s.hooks?s.hooks.processAllTokens(u):u).then(u=>s.walkTokens?Promise.all(this.walkTokens(u,s.walkTokens)).then(()=>u):u).then(u=>t(u,s)).then(u=>s.hooks?s.hooks.postprocess(u):u).catch(l);try{s.hooks&&(r=s.hooks.preprocess(r));let u=e(r,s);s.hooks&&(u=s.hooks.processAllTokens(u)),s.walkTokens&&this.walkTokens(u,s.walkTokens);let m=t(u,s);return s.hooks&&(m=s.hooks.postprocess(m)),m}catch(u){return l(u)}}},Ur=new WeakSet,Ii=function(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+rt(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}};const Ut=new Jl;function we(a,e){return Ut.parse(a,e)}we.options=we.setOptions=function(a){return Ut.setOptions(a),we.defaults=Ut.defaults,Ti(we.defaults),we};we.getDefaults=sn;we.defaults=Kt;we.use=function(...a){return Ut.use(...a),we.defaults=Ut.defaults,Ti(we.defaults),we};we.walkTokens=function(a,e){return Ut.walkTokens(a,e)};we.parseInline=Ut.parseInline;we.Parser=wt;we.parser=wt.parse;we.Renderer=jr;we.TextRenderer=mn;we.Lexer=yt;we.lexer=yt.lex;we.Tokenizer=Gr;we.Hooks=hr;we.parse=we;we.options;we.setOptions;we.use;we.walkTokens;we.parseInline;wt.parse;yt.lex;var qi="Compute-Optimal Scaling for Value-Based Deep RL",Fi="https://arxiv.org/abs/2508.14881",Ni=new Date(175608e7),Hi=!0,Oi="/assets/images/model_scaling_before.png",Pi="/assets/images/model_scaling_3d.mp4",Wi=[{label:"arXiv",url:"https://arxiv.org/abs/2508.14881"},{label:"Code",url:"https://github.com/prestonfu/model_scaling"},{label:"Thread",url:"https://x.com/preston_fu/status/1962920781387882841"},{label:"Poster",url:"/assets/files/model_scaling_poster_neurips.pdf"}],Vi=`[Preston Fu](https://www.prestonfu.com/)\\*,
[Oleh Rybkin](https://olehrybkin.com/)\\*,
[Zhiyuan Zhou](https://zhouzypaul.github.io/),
[Michal Nauman](https://scholar.google.com/citations?user=GnEVRtQAAAAJ&hl=en),
[Pieter Abbeel](https://people.eecs.berkeley.edu/~pabbeel/),
[Sergey Levine](https://people.eecs.berkeley.edu/~svlevine/),
[Aviral Kumar](https://aviralkumar2907.github.io/)

_NeurIPS_, 2025`;const eu={title:qi,link:Fi,date:Ni,highlight:Hi,image_before:Oi,image_after:Pi,resources:Wi,content:Vi},tu=Object.freeze(Object.defineProperty({__proto__:null,content:Vi,date:Ni,default:eu,highlight:Hi,image_after:Pi,image_before:Oi,link:Fi,resources:Wi,title:qi},Symbol.toStringTag,{value:"Module"}));var Gi="Value-Based Deep RL Scales Predictably",Yi="https://arxiv.org/abs/2502.04327",ji=new Date(17388e8),Ui=!0,Xi="/assets/images/qscaled_before.png",Ki="/assets/images/qscaled_after.gif",Zi=[{label:"arXiv",url:"https://arxiv.org/abs/2502.04327"},{label:"Code",url:"https://github.com/prestonfu/qscaled"},{label:"Thread",url:"https://x.com/_oleh/status/1889016893140516880"},{label:"Poster",url:"/assets/files/utd_scaling_poster_icml.pdf"}],Qi=`[Oleh Rybkin](https://olehrybkin.com/),
[Michal Nauman](https://scholar.google.com/citations?user=GnEVRtQAAAAJ&hl=en),
[Preston Fu](https://www.prestonfu.com/),
[Charlie Snell](https://sea-snell.github.io/),
[Pieter Abbeel](https://people.eecs.berkeley.edu/~pabbeel/),
[Sergey Levine](https://people.eecs.berkeley.edu/~svlevine/),
[Aviral Kumar](https://aviralkumar2907.github.io/)

_ICML_, 2025 \\
_ICLR Robot Learning Workshop_, 2025 (**oral**)`;const ru={title:Gi,link:Yi,date:ji,highlight:Ui,image_before:Xi,image_after:Ki,resources:Zi,content:Qi},au=Object.freeze(Object.defineProperty({__proto__:null,content:Qi,date:ji,default:ru,highlight:Ui,image_after:Ki,image_before:Xi,link:Yi,resources:Zi,title:Gi},Symbol.toStringTag,{value:"Module"}));function nu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ji={exports:{}};(function(a){(function(){var e={de_DE:{identifier:"de-DE",days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d.%m.%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},en_CA:{identifier:"en-CA",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ordinalSuffixes:["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}},en_US:{identifier:"en-US",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ordinalSuffixes:["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%m/%d/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}},es_MX:{identifier:"es-MX",days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},fr_FR:{identifier:"fr-FR",days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},it_IT:{identifier:"it-IT",days:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],shortDays:["dom","lun","mar","mer","gio","ven","sab"],months:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortMonths:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},nl_NL:{identifier:"nl-NL",days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},pt_BR:{identifier:"pt-BR",days:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},ru_RU:{identifier:"ru-RU",days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],shortDays:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],AM:"AM",PM:"PM",am:"am",pm:"pm",formats:{c:"%a %d %b %Y %X",D:"%d.%m.%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},tr_TR:{identifier:"tr-TR",days:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],shortDays:["Paz","Pzt","Sal","Çrş","Prş","Cum","Cts"],months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],shortMonths:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],AM:"ÖÖ",PM:"ÖS",am:"ÖÖ",pm:"ÖS",formats:{c:"%a %d %b %Y %X %Z",D:"%d-%m-%Y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%T",x:"%D"}},zh_CN:{identifier:"zh-CN",days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["日","一","二","三","四","五","六"],months:["一月份","二月份","三月份","四月份","五月份","六月份","七月份","八月份","九月份","十月份","十一月份","十二月份"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],AM:"上午",PM:"下午",am:"上午",pm:"下午",formats:{c:"%a %d %b %Y %X %Z",D:"%d/%m/%y",F:"%Y-%m-%d",R:"%H:%M",r:"%I:%M:%S %p",T:"%H:%M:%S",v:"%e-%b-%Y",X:"%r",x:"%D"}}},t=e.en_US,r=new n(t,0,!1);a.exports=r,typeof Date.now!="function"&&(Date.now=function(){return+new Date});function n(k,S,z){var C=k||t,M=S||0,A=z||!1,D=0,X;function re($e,I){var Y;if(I){if(Y=I.getTime(),A){var q=h(I);if(I=new Date(Y+q+M),h(I)!==q){var he=h(I);I=new Date(Y+he+M)}}}else{var Me=Date.now();Me>D?(D=Me,X=new Date(D),Y=D,A&&(X=new Date(D+h(X)+M))):Y=D,I=X}return ae($e,I,C,Y)}function ae($e,I,Y,Me){for(var q="",he=null,R=!1,G=$e.length,O=!1,U=0;U<G;U++){var N=$e.charCodeAt(U);if(R===!0){if(N===45){he="";continue}else if(N===95){he=" ";continue}else if(N===48){he="0";continue}else if(N===58){O&&$("[WARNING] detected use of unsupported %:: or %::: modifiers to strftime"),O=!0;continue}switch(N){case 37:q+="%";break;case 65:q+=Y.days[I.getDay()];break;case 66:q+=Y.months[I.getMonth()];break;case 67:q+=i(Math.floor(I.getFullYear()/100),he);break;case 68:q+=ae(Y.formats.D,I,Y,Me);break;case 70:q+=ae(Y.formats.F,I,Y,Me);break;case 72:q+=i(I.getHours(),he);break;case 73:q+=i(l(I.getHours()),he);break;case 76:q+=s(Math.floor(Me%1e3));break;case 77:q+=i(I.getMinutes(),he);break;case 80:q+=I.getHours()<12?Y.am:Y.pm;break;case 82:q+=ae(Y.formats.R,I,Y,Me);break;case 83:q+=i(I.getSeconds(),he);break;case 84:q+=ae(Y.formats.T,I,Y,Me);break;case 85:q+=i(u(I,"sunday"),he);break;case 87:q+=i(u(I,"monday"),he);break;case 88:q+=ae(Y.formats.X,I,Y,Me);break;case 89:q+=I.getFullYear();break;case 90:if(A&&M===0)q+="GMT";else{var ee=p(I);q+=ee||""}break;case 97:q+=Y.shortDays[I.getDay()];break;case 98:q+=Y.shortMonths[I.getMonth()];break;case 99:q+=ae(Y.formats.c,I,Y,Me);break;case 100:q+=i(I.getDate(),he);break;case 101:q+=i(I.getDate(),he??" ");break;case 104:q+=Y.shortMonths[I.getMonth()];break;case 106:var V=new Date(I.getFullYear(),0,1),ge=Math.ceil((I.getTime()-V.getTime())/(1e3*60*60*24));q+=s(ge);break;case 107:q+=i(I.getHours(),he??" ");break;case 108:q+=i(l(I.getHours()),he??" ");break;case 109:q+=i(I.getMonth()+1,he);break;case 110:q+=`
`;break;case 111:var ge=I.getDate();Y.ordinalSuffixes?q+=String(ge)+(Y.ordinalSuffixes[ge-1]||m(ge)):q+=String(ge)+m(ge);break;case 112:q+=I.getHours()<12?Y.AM:Y.PM;break;case 114:q+=ae(Y.formats.r,I,Y,Me);break;case 115:q+=Math.floor(Me/1e3);break;case 116:q+="	";break;case 117:var ge=I.getDay();q+=ge===0?7:ge;break;case 118:q+=ae(Y.formats.v,I,Y,Me);break;case 119:q+=I.getDay();break;case 120:q+=ae(Y.formats.x,I,Y,Me);break;case 121:let pe=I.getFullYear()%100;q+=i(pe,he);break;case 122:if(A&&M===0)q+=O?"+00:00":"+0000";else{var K;M!==0?K=M/(60*1e3):K=-I.getTimezoneOffset();var be=K<0?"-":"+",se=O?":":"",ve=Math.floor(Math.abs(K/60)),ye=Math.abs(K%60);q+=be+i(ve)+se+i(ye)}break;default:R&&(q+="%"),q+=$e[U];break}he=null,R=!1;continue}if(N===37){R=!0;continue}q+=$e[U]}return q}var de=re;return de.localize=function($e){return new n($e||C,M,A)},de.localizeByIdentifier=function($e){var I=e[$e];return I?de.localize(I):($('[WARNING] No locale found with identifier "'+$e+'".'),de)},de.timezone=function($e){var I=M,Y=A,Me=typeof $e;if(Me==="number"||Me==="string")if(Y=!0,Me==="string"){var q=$e[0]==="-"?-1:1,he=parseInt($e.slice(1,3),10),R=parseInt($e.slice(3,5),10);I=q*(60*he+R)*60*1e3}else Me==="number"&&(I=$e*60*1e3);return new n(C,I,Y)},de.utc=function(){return new n(C,M,!0)},de}function i(k,S){return S===""||k>9?""+k:(S==null&&(S="0"),S+k)}function s(k){return k>99?k:k>9?"0"+k:"00"+k}function l(k){return k===0?12:k>12?k-12:k}function u(k,S){S=S||"sunday";var z=k.getDay();S==="monday"&&(z===0?z=6:z--);var C=Date.UTC(k.getFullYear(),0,1),M=Date.UTC(k.getFullYear(),k.getMonth(),k.getDate()),A=Math.floor((M-C)/864e5),D=(A+7-z)/7;return Math.floor(D)}function m(k){var S=k%10,z=k%100;if(z>=11&&z<=13||S===0||S>=4)return"th";switch(S){case 1:return"st";case 2:return"nd";case 3:return"rd"}}function h(k){return(k.getTimezoneOffset()||0)*6e4}function p(k,S){return g(k,S)||y(k)}function g(k,S){if(S==null)return null;var z=k.toLocaleString(S,{timeZoneName:"short"}).match(/\s([\w]+)$/);return z&&z[1]}function y(k){var S=k.toString().match(/\(([\w\s]+)\)/);return S&&S[1]}function $(k){typeof console<"u"&&typeof console.warn=="function"&&console.warn(k)}})()})(Ji);var iu=Ji.exports;const su=nu(iu);su.utc();function ou(a){var e;return(e=a.match(/\.\.\/projects\/(.*)\.md$/))==null?void 0:e[1]}function lu(a){let e,t,r="↪",n,i,s,l;return{c(){e=oe("a"),t=oe("span"),t.textContent=r,n=mr(" Our paper: "),i=oe("em"),s=mr(a[1]),this.h()},l(u){e=le(u,"A",{href:!0,class:!0});var m=fe(e);t=le(m,"SPAN",{class:!0,"data-svelte-h":!0}),ms(t)!=="svelte-a7fxhe"&&(t.textContent=r),n=dr(m," Our paper: "),i=le(m,"EM",{});var h=fe(i);s=dr(h,a[1]),h.forEach(H),m.forEach(H),this.h()},h(){P(t,"class","text-neutral-500"),P(e,"href",l="#"+a[0]),P(e,"class","block -mx-4 mb-4 px-4 py-2 bg-gray-100 hover:bg-slate-100 rounded transition")},m(u,m){_e(u,e,m),ne(e,t),ne(e,n),ne(e,i),ne(i,s)},p(u,[m]){m&1&&l!==(l="#"+u[0])&&P(e,"href",l)},i:Ne,o:Ne,d(u){u&&H(e)}}}function uu(a,e,t){var r;const i=Object.entries(Object.assign({"../../projects/model_scaling.md":tu,"../../projects/utd_scaling.md":au})).reduce((u,[m,h])=>{const p=ou(m)||m;return u[p]=h.title,u},{});let{id:s}=e;const l=(r=i[s])!==null&&r!==void 0?r:s;return a.$$set=u=>{"id"in u&&t(0,s=u.id)},[s,l]}class dn extends rr{constructor(e){super(),ar(this,e,uu,lu,tr,{id:0})}}function cu(a){let e,t,r,n,i,s,l,u,m;return{c(){e=oe("div"),t=oe("div"),r=mr(a[2]),i=Ue(),s=oe("div"),l=oe("div"),u=new ut(!1),this.h()},l(h){e=le(h,"DIV",{class:!0});var p=fe(e);t=le(p,"DIV",{class:!0});var g=fe(t);r=dr(g,a[2]),g.forEach(H),i=Xe(p),s=le(p,"DIV",{class:!0});var y=fe(s);l=le(y,"DIV",{class:!0});var $=fe(l);u=ct($,!1),$.forEach(H),y.forEach(H),p.forEach(H),this.h()},h(){P(t,"class",n=`text-xs font-semibold tracking-wide uppercase ${a[1].badge}`),u.a=null,P(l,"class","md-output"),P(s,"class","prose max-w-none mt-1"),P(e,"class",m=`my-4 rounded p-4 pb-1 border-l-4 transition ${a[1].wrap}`)},m(h,p){_e(h,e,p),ne(e,t),ne(t,r),ne(e,i),ne(e,s),ne(s,l),u.m(a[0],l)},p(h,[p]){p&4&&Ia(r,h[2]),p&2&&n!==(n=`text-xs font-semibold tracking-wide uppercase ${h[1].badge}`)&&P(t,"class",n),p&1&&u.p(h[0]),p&2&&m!==(m=`my-4 rounded p-4 pb-1 border-l-4 transition ${h[1].wrap}`)&&P(e,"class",m)},i:Ne,o:Ne,d(h){h&&H(e)}}}function hu(a,e,t){let r,n;var i;let{html:s}=e,{title:l=""}=e,{variant:u="note"}=e;const m={note:{wrap:"bg-slate-50 hover:bg-slate-100/60 border-slate-600",badge:"text-slate-700",label:"Note"},info:{wrap:"bg-sky-50 hover:bg-sky-100/60 border-sky-700",badge:"text-sky-800",label:"Takeaways"},tip:{wrap:"bg-emerald-50 hover:bg-emerald-100/60 border-emerald-700",badge:"text-emerald-800",label:"Tip"},warning:{wrap:"bg-amber-50 hover:bg-amber-100/60 border-amber-700",badge:"text-amber-800",label:"Warning"},takeaway:{wrap:"bg-slate-50 hover:bg-sky-50/50 border-sky-700",badge:"text-sky-700",label:"Takeaways"}};return a.$$set=h=>{"html"in h&&t(0,s=h.html),"title"in h&&t(3,l=h.title),"variant"in h&&t(4,u=h.variant)},a.$$.update=()=>{a.$$.dirty&48&&t(1,r=t(5,i=m[u])!==null&&i!==void 0?i:m.note),a.$$.dirty&10&&t(2,n=l||r.label)},[s,r,n,l,u,i]}class $r extends rr{constructor(e){super(),ar(this,e,hu,cu,tr,{html:0,title:3,variant:4})}}function mu(a){let e,t,r,n,i,s,l,u,m,h;return{c(){e=oe("details"),t=oe("summary"),r=oe("span"),n=Ue(),i=oe("span"),s=mr(a[0]),l=Ue(),u=oe("div"),m=oe("div"),h=new ut(!1),this.h()},l(p){e=le(p,"DETAILS",{class:!0,"data-foldbox":!0});var g=fe(e);t=le(g,"SUMMARY",{class:!0});var y=fe(t);r=le(y,"SPAN",{class:!0,"aria-hidden":!0}),fe(r).forEach(H),n=Xe(y),i=le(y,"SPAN",{class:!0});var $=fe(i);s=dr($,a[0]),$.forEach(H),y.forEach(H),l=Xe(g),u=le(g,"DIV",{class:!0});var k=fe(u);m=le(k,"DIV",{class:!0});var S=fe(m);h=ct(S,!1),S.forEach(H),k.forEach(H),g.forEach(H),this.h()},h(){P(r,"class","foldbox__caret"),P(r,"aria-hidden","true"),P(i,"class","foldbox__title"),P(t,"class","foldbox__summary"),h.a=null,P(m,"class","md-output"),P(u,"class","foldbox__body"),P(e,"class","foldbox foldbox--boxed my-4"),e.open=a[1],P(e,"data-foldbox","1")},m(p,g){_e(p,e,g),ne(e,t),ne(t,r),ne(t,n),ne(t,i),ne(i,s),ne(e,l),ne(e,u),ne(u,m),h.m(a[2],m)},p(p,[g]){g&1&&Ia(s,p[0]),g&4&&h.p(p[2]),g&2&&(e.open=p[1])},i:Ne,o:Ne,d(p){p&&H(e)}}}function du(a,e,t){let{title:r="Details"}=e,{open:n=!1}=e,{html:i}=e;return a.$$set=s=>{"title"in s&&t(0,r=s.title),"open"in s&&t(1,n=s.open),"html"in s&&t(2,i=s.html)},[r,n,i]}class pn extends rr{constructor(e){super(),ar(this,e,du,mu,tr,{title:0,open:1,html:2})}}const{Map:fn}=ps;function s0(a,e,t){const r=a.slice();return r[29]=e[t],r}function o0(a,e,t){const r=a.slice();return r[32]=e[t],r[34]=t,r}function l0(a,e,t){const r=a.slice();return r[35]=e[t],r[37]=t,r}function u0(a,e,t){const r=a.slice();return r[38]=e[t],r[40]=t,r}function pu(a){let e,t,r,n,i,s,l=a[32].heading.html+"",u,m,h=[],p=new fn,g,y,$,k,S=xt(x0(a[32].children));const z=C=>C[37];for(let C=0;C<S.length;C+=1){let M=l0(a,S,C),A=z(M);p.set(A,h[C]=h0(A,M))}return{c(){e=oe("details"),t=oe("summary"),r=oe("span"),n=Ue(),i=oe("span"),s=new ut(!1),u=Ue(),m=oe("div");for(let C=0;C<h.length;C+=1)h[C].c();g=Ue(),this.h()},l(C){e=le(C,"DETAILS",{class:!0,"data-h2fold":!0});var M=fe(e);t=le(M,"SUMMARY",{class:!0});var A=fe(t);r=le(A,"SPAN",{class:!0,"aria-hidden":!0}),fe(r).forEach(H),n=Xe(A),i=le(A,"SPAN",{class:!0});var D=fe(i);s=ct(D,!1),D.forEach(H),A.forEach(H),u=Xe(M),m=le(M,"DIV",{class:!0});var X=fe(m);for(let re=0;re<h.length;re+=1)h[re].l(X);X.forEach(H),g=Xe(M),M.forEach(H),this.h()},h(){P(r,"class","foldbox__caret"),P(r,"aria-hidden","true"),s.a=null,P(i,"class","foldbox__h2 md-output svelte-1cybysc"),P(t,"class","foldbox__summary foldbox__summary--h2"),P(m,"class","foldbox__body foldbox__body--h2 svelte-1cybysc"),P(e,"class","foldbox foldbox--h2 svelte-1cybysc"),P(e,"data-h2fold","1"),e.open=!0},m(C,M){_e(C,e,M),ne(e,t),ne(t,r),ne(t,n),ne(t,i),s.m(l,i),ne(e,u),ne(e,m);for(let A=0;A<h.length;A+=1)h[A]&&h[A].m(m,null);ne(e,g),y=!0,$||(k=jt(t,"click",a[10]),$=!0)},p(C,M){(!y||M[0]&32)&&l!==(l=C[32].heading.html+"")&&s.p(l),M[0]&96&&(S=xt(x0(C[32].children)),Ht(),h=qa(h,M,z,1,C,S,p,m,Fa,h0,null,l0),Ot())},i(C){if(!y){for(let M=0;M<S.length;M+=1)Le(h[M]);y=!0}},o(C){for(let M=0;M<h.length;M+=1)Re(h[M]);y=!1},d(C){C&&H(e);for(let M=0;M<h.length;M+=1)h[M].d();$=!1,k()}}}function fu(a){let e,t,r,n;const i=[Ru,Lu,Eu,Cu,Bu],s=[];function l(u,m){return u[32].chunk.type==="text"?0:u[32].chunk.type==="jumpbox"?1:u[32].chunk.type==="small"?2:u[32].chunk.type==="callout"?3:u[32].chunk.type==="fold"?4:-1}return~(e=l(a))&&(t=s[e]=i[e](a)),{c(){t&&t.c(),r=Ve()},l(u){t&&t.l(u),r=Ve()},m(u,m){~e&&s[e].m(u,m),_e(u,r,m),n=!0},p(u,m){let h=e;e=l(u),e===h?~e&&s[e].p(u,m):(t&&(Ht(),Re(s[h],1,1,()=>{s[h]=null}),Ot()),~e?(t=s[e],t?t.p(u,m):(t=s[e]=i[e](u),t.c()),Le(t,1),t.m(r.parentNode,r)):t=null)},i(u){n||(Le(t),n=!0)},o(u){Re(t),n=!1},d(u){u&&H(r),~e&&s[e].d(u)}}}function gu(a){let e,t,r,n,i,s,l=a[35].heading.html+"",u,m,h=[],p=new fn,g,y,$,k,S,z=xt(a[35].children);const C=M=>M[40];for(let M=0;M<z.length;M+=1){let A=u0(a,z,M),D=C(A);p.set(D,h[M]=c0(D,A))}return{c(){e=oe("details"),t=oe("summary"),r=oe("span"),n=Ue(),i=oe("span"),s=new ut(!1),u=Ue(),m=oe("div");for(let M=0;M<h.length;M+=1)h[M].c();g=Ue(),this.h()},l(M){e=le(M,"DETAILS",{class:!0,"data-h3fold":!0});var A=fe(e);t=le(A,"SUMMARY",{class:!0});var D=fe(t);r=le(D,"SPAN",{class:!0,"aria-hidden":!0}),fe(r).forEach(H),n=Xe(D),i=le(D,"SPAN",{class:!0});var X=fe(i);s=ct(X,!1),X.forEach(H),D.forEach(H),u=Xe(A),m=le(A,"DIV",{class:!0});var re=fe(m);for(let ae=0;ae<h.length;ae+=1)h[ae].l(re);re.forEach(H),g=Xe(A),A.forEach(H),this.h()},h(){P(r,"class","foldbox__caret"),P(r,"aria-hidden","true"),s.a=null,P(i,"class","foldbox__h3 md-output svelte-1cybysc"),P(t,"class","foldbox__summary foldbox__summary--h3"),P(m,"class","foldbox__body foldbox__body--h3 svelte-1cybysc"),P(e,"class","foldbox foldbox--h3 svelte-1cybysc"),P(e,"data-h3fold","1"),e.open=y=k0(a[35])},m(M,A){_e(M,e,A),ne(e,t),ne(t,r),ne(t,n),ne(t,i),s.m(l,i),ne(e,u),ne(e,m);for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(m,null);ne(e,g),$=!0,k||(S=[jt(t,"click",a[11]),jt(e,"toggle",a[12])],k=!0)},p(M,A){(!$||A[0]&32)&&l!==(l=M[35].heading.html+"")&&s.p(l),A[0]&96&&(z=xt(M[35].children),Ht(),h=qa(h,A,C,1,M,z,p,m,Fa,c0,null,u0),Ot()),(!$||A[0]&32&&y!==(y=k0(M[35])))&&(e.open=y)},i(M){if(!$){for(let A=0;A<z.length;A+=1)Le(h[A]);$=!0}},o(M){for(let A=0;A<h.length;A+=1)Re(h[A]);$=!1},d(M){M&&H(e);for(let A=0;A<h.length;A+=1)h[A].d();k=!1,_0(S)}}}function vu(a){let e,t,r,n,i;const s=[_u,Au,zu,Tu,Mu,Su],l=[];function u(m,h){return h[0]&32&&(e=null),e==null&&(e=!!(m[35].chunk.type==="callout"&&vn(m[35].chunk))),e?0:m[35].chunk.type==="text"?1:m[35].chunk.type==="jumpbox"?2:m[35].chunk.type==="small"?3:m[35].chunk.type==="callout"?4:m[35].chunk.type==="fold"?5:-1}return~(t=u(a,[-1,-1]))&&(r=l[t]=s[t](a)),{c(){r&&r.c(),n=Ve()},l(m){r&&r.l(m),n=Ve()},m(m,h){~t&&l[t].m(m,h),_e(m,n,h),i=!0},p(m,h){let p=t;t=u(m,h),t===p?~t&&l[t].p(m,h):(r&&(Ht(),Re(l[p],1,1,()=>{l[p]=null}),Ot()),~t?(r=l[t],r?r.p(m,h):(r=l[t]=s[t](m),r.c()),Le(r,1),r.m(n.parentNode,n)):r=null)},i(m){i||(Le(r),i=!0)},o(m){Re(r),i=!1},d(m){m&&H(n),~t&&l[t].d(m)}}}function bu(a){let e,t;return e=new pn({props:{title:a[38].title,open:a[38].open,html:a[6](a[38].content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.title=r[38].title),n[0]&32&&(i.open=r[38].open),n[0]&32&&(i.html=r[6](r[38].content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function yu(a){let e,t;return e=new $r({props:{variant:a[38].variant,title:a[38].title,html:a[6](a[38].content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.variant=r[38].variant),n[0]&32&&(i.title=r[38].title),n[0]&32&&(i.html=r[6](r[38].content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function wu(a){let e,t,r=a[6](a[38].content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output text-sm sm-block svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[38].content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function xu(a){let e,t;return e=new dn({props:{id:a[38].id}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.id=r[38].id),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function ku(a){let e,t,r=a[6](a[38].content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[38].content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function $u(a){let e,t,r,n;return t=new $r({props:{variant:a[38].variant,title:a[38].title,html:a[6](a[38].content)}}),{c(){e=oe("div"),mt(t.$$.fragment),r=Ue(),this.h()},l(i){e=le(i,"DIV",{class:!0});var s=fe(e);dt(t.$$.fragment,s),r=Xe(s),s.forEach(H),this.h()},h(){P(e,"class","foldbox__pin svelte-1cybysc")},m(i,s){_e(i,e,s),pt(t,e,null),ne(e,r),n=!0},p(i,s){const l={};s[0]&32&&(l.variant=i[38].variant),s[0]&32&&(l.title=i[38].title),s[0]&32&&(l.html=i[6](i[38].content)),t.$set(l)},i(i){n||(Le(t.$$.fragment,i),n=!0)},o(i){Re(t.$$.fragment,i),n=!1},d(i){i&&H(e),ft(t)}}}function c0(a,e){let t,r,n,i,s,l;const u=[$u,ku,xu,wu,yu,bu],m=[];function h(p,g){return g[0]&32&&(r=null),r==null&&(r=!!(p[38].type==="callout"&&vn(p[38]))),r?0:p[38].type==="text"?1:p[38].type==="jumpbox"?2:p[38].type==="small"?3:p[38].type==="callout"?4:p[38].type==="fold"?5:-1}return~(n=h(e,[-1,-1]))&&(i=m[n]=u[n](e)),{key:a,first:null,c(){t=Ve(),i&&i.c(),s=Ve(),this.h()},l(p){t=Ve(),i&&i.l(p),s=Ve(),this.h()},h(){this.first=t},m(p,g){_e(p,t,g),~n&&m[n].m(p,g),_e(p,s,g),l=!0},p(p,g){e=p;let y=n;n=h(e,g),n===y?~n&&m[n].p(e,g):(i&&(Ht(),Re(m[y],1,1,()=>{m[y]=null}),Ot()),~n?(i=m[n],i?i.p(e,g):(i=m[n]=u[n](e),i.c()),Le(i,1),i.m(s.parentNode,s)):i=null)},i(p){l||(Le(i),l=!0)},o(p){Re(i),l=!1},d(p){p&&(H(t),H(s)),~n&&m[n].d(p)}}}function Su(a){let e,t;return e=new pn({props:{title:a[35].chunk.title,open:a[35].chunk.open,html:a[6](a[35].chunk.content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.title=r[35].chunk.title),n[0]&32&&(i.open=r[35].chunk.open),n[0]&32&&(i.html=r[6](r[35].chunk.content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Mu(a){let e,t;return e=new $r({props:{variant:a[35].chunk.variant,title:a[35].chunk.title,html:a[6](a[35].chunk.content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.variant=r[35].chunk.variant),n[0]&32&&(i.title=r[35].chunk.title),n[0]&32&&(i.html=r[6](r[35].chunk.content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Tu(a){let e,t,r=a[6](a[35].chunk.content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output text-sm sm-block svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[35].chunk.content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function zu(a){let e,t;return e=new dn({props:{id:a[35].chunk.id}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.id=r[35].chunk.id),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Au(a){let e,t,r=a[6](a[35].chunk.content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[35].chunk.content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function _u(a){let e,t,r,n;return t=new $r({props:{variant:a[35].chunk.variant,title:a[35].chunk.title,html:a[6](a[35].chunk.content)}}),{c(){e=oe("div"),mt(t.$$.fragment),r=Ue(),this.h()},l(i){e=le(i,"DIV",{class:!0});var s=fe(e);dt(t.$$.fragment,s),r=Xe(s),s.forEach(H),this.h()},h(){P(e,"class","foldbox__pin svelte-1cybysc")},m(i,s){_e(i,e,s),pt(t,e,null),ne(e,r),n=!0},p(i,s){const l={};s[0]&32&&(l.variant=i[35].chunk.variant),s[0]&32&&(l.title=i[35].chunk.title),s[0]&32&&(l.html=i[6](i[35].chunk.content)),t.$set(l)},i(i){n||(Le(t.$$.fragment,i),n=!0)},o(i){Re(t.$$.fragment,i),n=!1},d(i){i&&H(e),ft(t)}}}function h0(a,e){let t,r,n,i,s;const l=[vu,gu],u=[];function m(h,p){return h[35].type==="chunk"?0:h[35].type==="subsection"?1:-1}return~(r=m(e))&&(n=u[r]=l[r](e)),{key:a,first:null,c(){t=Ve(),n&&n.c(),i=Ve(),this.h()},l(h){t=Ve(),n&&n.l(h),i=Ve(),this.h()},h(){this.first=t},m(h,p){_e(h,t,p),~r&&u[r].m(h,p),_e(h,i,p),s=!0},p(h,p){e=h;let g=r;r=m(e),r===g?~r&&u[r].p(e,p):(n&&(Ht(),Re(u[g],1,1,()=>{u[g]=null}),Ot()),~r?(n=u[r],n?n.p(e,p):(n=u[r]=l[r](e),n.c()),Le(n,1),n.m(i.parentNode,i)):n=null)},i(h){s||(Le(n),s=!0)},o(h){Re(n),s=!1},d(h){h&&(H(t),H(i)),~r&&u[r].d(h)}}}function Bu(a){let e,t;return e=new pn({props:{title:a[32].chunk.title,open:a[32].chunk.open,html:a[6](a[32].chunk.content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.title=r[32].chunk.title),n[0]&32&&(i.open=r[32].chunk.open),n[0]&32&&(i.html=r[6](r[32].chunk.content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Cu(a){let e,t;return e=new $r({props:{variant:a[32].chunk.variant,title:a[32].chunk.title,html:a[6](a[32].chunk.content)}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.variant=r[32].chunk.variant),n[0]&32&&(i.title=r[32].chunk.title),n[0]&32&&(i.html=r[6](r[32].chunk.content)),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Eu(a){let e,t,r=a[6](a[32].chunk.content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output text-sm sm-block svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[32].chunk.content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function Lu(a){let e,t;return e=new dn({props:{id:a[32].chunk.id}}),{c(){mt(e.$$.fragment)},l(r){dt(e.$$.fragment,r)},m(r,n){pt(e,r,n),t=!0},p(r,n){const i={};n[0]&32&&(i.id=r[32].chunk.id),e.$set(i)},i(r){t||(Le(e.$$.fragment,r),t=!0)},o(r){Re(e.$$.fragment,r),t=!1},d(r){ft(e,r)}}}function Ru(a){let e,t,r=a[6](a[32].chunk.content)+"";return{c(){e=oe("div"),t=new ut(!1),this.h()},l(n){e=le(n,"DIV",{class:!0});var i=fe(e);t=ct(i,!1),i.forEach(H),this.h()},h(){t.a=null,P(e,"class","md-output svelte-1cybysc")},m(n,i){_e(n,e,i),t.m(r,e)},p(n,i){i[0]&32&&r!==(r=n[6](n[32].chunk.content)+"")&&t.p(r)},i:Ne,o:Ne,d(n){n&&H(e)}}}function m0(a,e){let t,r,n,i,s;const l=[fu,pu],u=[];function m(h,p){return h[32].type==="chunk"?0:h[32].type==="section"?1:-1}return~(r=m(e))&&(n=u[r]=l[r](e)),{key:a,first:null,c(){t=Ve(),n&&n.c(),i=Ve(),this.h()},l(h){t=Ve(),n&&n.l(h),i=Ve(),this.h()},h(){this.first=t},m(h,p){_e(h,t,p),~r&&u[r].m(h,p),_e(h,i,p),s=!0},p(h,p){e=h;let g=r;r=m(e),r===g?~r&&u[r].p(e,p):(n&&(Ht(),Re(u[g],1,1,()=>{u[g]=null}),Ot()),~r?(n=u[r],n?n.p(e,p):(n=u[r]=l[r](e),n.c()),Le(n,1),n.m(i.parentNode,i)):n=null)},i(h){s||(Le(n),s=!0)},o(h){Re(n),s=!1},d(h){h&&(H(t),H(i)),~r&&u[r].d(h)}}}function d0(a){let e,t,r=xt(a[0]),n=[];for(let i=0;i<r.length;i+=1)n[i]=p0(s0(a,r,i));return{c(){e=oe("aside"),t=oe("ol");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=le(i,"ASIDE",{class:!0,"aria-label":!0});var s=fe(e);t=le(s,"OL",{class:!0});var l=fe(t);for(let u=0;u<n.length;u+=1)n[u].l(l);l.forEach(H),s.forEach(H),this.h()},h(){P(t,"class","svelte-1cybysc"),P(e,"class","md-footnotes svelte-1cybysc"),P(e,"aria-label","Footnotes")},m(i,s){_e(i,e,s),ne(e,t);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null);a[14](t),a[15](e)},p(i,s){if(s[0]&1){r=xt(i[0]);let l;for(l=0;l<r.length;l+=1){const u=s0(i,r,l);n[l]?n[l].p(u,s):(n[l]=p0(u),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(i){i&&H(e),B0(n,i),a[14](null),a[15](null)}}}function p0(a){let e,t,r=a[29].num+"",n,i,s,l,u=a[29].html+"",m,h,p;return{c(){e=oe("li"),t=oe("span"),n=mr(r),i=Ue(),s=oe("span"),l=new ut(!1),m=Ue(),this.h()},l(g){e=le(g,"LI",{id:!0,title:!0,class:!0});var y=fe(e);t=le(y,"SPAN",{class:!0});var $=fe(t);n=dr($,r),$.forEach(H),i=Xe(y),s=le(y,"SPAN",{class:!0});var k=fe(s);l=ct(k,!1),k.forEach(H),m=Xe(y),y.forEach(H),this.h()},h(){P(t,"class","fn-label svelte-1cybysc"),l.a=null,P(s,"class","fn-text svelte-1cybysc"),P(e,"id",h=`fn-${a[29].safeId}`),P(e,"title",p=a[29].id),P(e,"class","svelte-1cybysc")},m(g,y){_e(g,e,y),ne(e,t),ne(t,n),ne(e,i),ne(e,s),l.m(u,s),ne(e,m)},p(g,y){y[0]&1&&r!==(r=g[29].num+"")&&Ia(n,r),y[0]&1&&u!==(u=g[29].html+"")&&l.p(u),y[0]&1&&h!==(h=`fn-${g[29].safeId}`)&&P(e,"id",h),y[0]&1&&p!==(p=g[29].id)&&P(e,"title",p)},d(g){g&&H(e)}}}function Du(a){let e,t,r,n=[],i=new fn,s,l,u=xt(a[5]);const m=p=>p[34];for(let p=0;p<u.length;p+=1){let g=o0(a,u,p),y=m(g);i.set(y,n[p]=m0(y,g))}let h=a[0].length&&d0(a);return{c(){e=oe("div"),t=oe("div"),r=oe("div");for(let p=0;p<n.length;p+=1)n[p].c();s=Ue(),h&&h.c(),this.h()},l(p){e=le(p,"DIV",{class:!0});var g=fe(e);t=le(g,"DIV",{class:!0});var y=fe(t);r=le(y,"DIV",{class:!0});var $=fe(r);for(let k=0;k<n.length;k+=1)n[k].l($);$.forEach(H),s=Xe(y),h&&h.l(y),y.forEach(H),g.forEach(H),this.h()},h(){P(r,"class","md-output space-y-6 svelte-1cybysc"),P(t,"class","md-grid svelte-1cybysc"),P(e,"class","md-shell svelte-1cybysc")},m(p,g){_e(p,e,g),ne(e,t),ne(t,r);for(let y=0;y<n.length;y+=1)n[y]&&n[y].m(r,null);a[13](r),ne(t,s),h&&h.m(t,null),a[16](e),l=!0},p(p,g){g[0]&96&&(u=xt(p[5]),Ht(),n=qa(n,g,m,1,p,u,i,r,Fa,m0,null,o0),Ot()),p[0].length?h?h.p(p,g):(h=d0(p),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(p){if(!l){for(let g=0;g<u.length;g+=1)Le(n[g]);l=!0}},o(p){for(let g=0;g<n.length;g+=1)Re(n[g]);l=!1},d(p){p&&H(e);for(let g=0;g<n.length;g+=1)n[g].d();a[13](null),h&&h.d(),a[16](null)}}}function gn(a){return String(a).replace(/[^a-zA-Z0-9\-_]/g,"")}function es(a,e){try{return bl.renderToString(a,{throwOnError:!1,displayMode:e})}catch{const r=e?"pre":"code";return`<${r} class="katex-error">${a}</${r}>`}}const Iu={name:"mathBlock",level:"block",start:a=>{var e;return(e=a.match(/\$\$/))===null||e===void 0?void 0:e.index},tokenizer(a){const e=/^\$\$([\s\S]+?)\$\$/.exec(a);if(e)return{type:"mathBlock",raw:e[0],text:e[1].trim()}},renderer:a=>`<div class="math math-block">${es(a.text,!0)}</div>`},qu={name:"mathInline",level:"inline",start:a=>{var e;return(e=a.match(/\$/))===null||e===void 0?void 0:e.index},tokenizer(a){const e=/^\$([^\$\n]+?)\$/.exec(a);if(e)return{type:"mathInline",raw:e[0],text:e[1].trim()}},renderer:a=>`<span class="math math-inline">${es(a.text,!1)}</span>`},Fu={name:"colorText",level:"inline",start:a=>{var e;return(e=a.match(/::/))===null||e===void 0?void 0:e.index},tokenizer(a){const e=/^::(gray|brown|orange|yellow|green|blue|purple|pink|red)\[([^\]]+?)\]::/.exec(a);if(e)return{type:"colorText",raw:e[0],color:e[1],text:e[2]}},renderer:a=>{const e={gray:"#9B9A97",brown:"#64473A",orange:"#D9730D",yellow:"#DFAB01",green:"#0F7B6C",blue:"#0B6E99",purple:"#6940A5",pink:"#AD1A72",red:"#E03E3D"},t=e[a.color]||e.gray,r=we.parseInline(a.text);return`<span style="color: ${t};">${r}</span>`}},Nu={link(a,e,t){const r=/^(\/|#|[A-Za-z0-9\-_]+(\.html?)?$)/.test(a);let n=`<a href="${encodeURI(a)}" class="link"`;return r||(n+=' target="_blank" rel="external noopener noreferrer"'),e&&(n+=` title="${e}"`),n+=`>${t}</a>`,n},heading(a,e,t,r){const n=r?r.slug(t):gr(t||a);return`<h${e} id="${n}">${a}</h${e}>`},blockquote(a){return`<blockquote class="inline-block bg-neutral-50 border-l-4 border-neutral-600 rounded px-3 py-2 align-middle my-2">${a}</blockquote>`},image(a,e,t){if(!a||a==="__IMAGE_PLACEHOLDER__"||a.trim()==="")return t?`<div class="text-left text-gray-400 italic text-sm my-4">[Image: ${t}]</div>`:"<!-- image placeholder -->";const r=t?`fig-${gr(t)}`:"";let n=`<img src="${a}" alt="${t||""}" ${r?`id="${r}" `:""}class="block mx-auto unselectable" />`;if(e){const i=/\bFigure\s+(\d+)\b/i.exec(String(e||"")),s=i?` data-fig-num="${i[1]}"`:"",l=ts(String(e||""));n+=`<div class='md-figcaption text-left text-gray-500 mb-4 md:px-8 lg:px-12 text-sm'${s}>${we.parse(l,{smartypants:!0})}</div>`}return n}};function ts(a){const e=String(a||"").trim();return/^(?:\*\*|<strong>|\s*<b>)/i.test(e)?e:e.replace(/^(Figure\s+\d+(?:\([a-z]\))?\s*(?:[:.]))(\s*)/i,"**$1**$2")}function gr(a){return String(a||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}const Hu={name:"imageAttr",level:"inline",start:a=>a.indexOf("!["),tokenizer(a){const t=/^!\[([^\]]*)\]\((\S+?)(?:\s+"([^"]*)")?\)\{([^}]+)\}/.exec(a);if(t){const[r,n,i,s,l]=t,u={};return l.split(/\s+/).forEach(m=>{if(!m)return;const h=m.indexOf("=");if(h===-1)u[m]="";else{const p=m.slice(0,h),g=m.slice(h+1).replace(/^["']|["']$/g,"");p&&(u[p]=g)}}),{type:"imageAttr",raw:r,alt:n,src:i,title:s,attrs:u}}},renderer(a){const e=/\.(mp4|webm|ogg)(\?.*)?$/i.test(a.src),t=a.attrs.type==="video"||Object.prototype.hasOwnProperty.call(a.attrs,"video");let r="";if(e||t){const n=a.src.toLowerCase(),i=a.attrs["source-type"]||(n.endsWith(".webm")?"video/webm":n.endsWith(".ogg")?"video/ogg":"video/mp4"),s=a.attrs.freeze||"10000",l=a.attrs.id||`fig-${gr(a.alt||"")}`;r+=`<video class="block mx-auto autoplay-on-fullview md-video unselectable" aria-label="${a.alt||""}" id="${l}"`;const u=Object.prototype.hasOwnProperty.call(a.attrs,"playsinline");for(const m in a.attrs){if(m==="type"||m==="video"||m==="source-type"||m==="freeze"||m==="controls"||m==="id")continue;const h=a.attrs[m];r+=h===""?` ${m}`:` ${m}="${h}"`}r+=" muted playsinline",u||(r+=" playsinline"),r+=` data-freeze-ms="${s}"`,r+=`><source src="${a.src}#t=0.1" type="${i}" /></video>`}else{const n=a.attrs.id||`fig-${gr(a.alt)}`;r+=`<img src="${a.src}" alt="${a.alt}" id="${n}" class="block mx-auto unselectable"`;for(const i in a.attrs)i!=="id"&&(r+=` ${i}="${a.attrs[i]}"`);r+=" />"}if(a.title){const n=/\bFigure\s+(\d+)\b/i.exec(String(a.title||"")),i=n?` data-fig-num="${n[1]}"`:"",s=ts(String(a.title||""));r+=`<div class='md-figcaption text-left text-gray-500 mb-4 md:px-8 lg:px-12 text-sm'${i}>${we.parse(s,{smartypants:!0})}</div>`}return r}};we.use({gfm:!0,extensions:[Hu,Iu,qu,Fu],renderer:Nu});const ya=/:::jumpbox\s+id="([^"]+)"(?:\s+label="([^"]+)")?\s*:::/gm,f0=/:::takeaway_begin:::/gm,wa=/:::takeaway_end:::/gm,g0=/:::small_begin:::/gm,xa=/:::small_end:::/gm,v0=/:::callout_begin(?:\s+type="([^"]+)")?(?:\s+title="([^"]+)")?\s*:::/gm,ka=/:::callout_end:::/gm,b0=/:::fold_begin(?:\s+title="([^"]+)")?(?:\s+(open))?\s*:::/gm,$a=/:::fold_end:::/gm,y0=/^##(?!#)\s+(.+?)\s*$/gm,w0=/^###(?!#)\s+(.+?)\s*$/gm;function Ou(){const a=new Map;return{slug(e){var t;const r=gr(e||"")||"section",n=(t=a.get(r))!==null&&t!==void 0?t:0;return a.set(r,n+1),n===0?r:`${r}-${n}`}}}function Pu(a){const e=a.split(`
`),t=[],r=[];let n=null;for(const l of e){const u=l.match(/^\[\^([^\]]+)\]:\s*(.*)$/);if(u){n&&r.push(n);const m=u[1];n={id:m,safeId:gn(m),raw:[u[2]]};continue}if(n){if(/^\s{2,}|\t/.test(l)){n.raw.push(l.replace(/^\s+/,""));continue}r.push(n),n=null}t.push(l)}n&&r.push(n);const i=t.join(`
`),s=r.map(l=>({id:l.id,safeId:l.safeId,html:we.parse(l.raw.join(`
`),{smartypants:!0})}));return{main:i,notes:s}}function Wu(a,e){const t=[],r=new Set,n=/\[\^([^\]]+)\]/g;let i;for(;(i=n.exec(a))!==null;){const h=gn(i[1]);!h||r.has(h)||(r.add(h),t.push(h))}const s=new Map(e.map(h=>[h.safeId,h])),l=[],u=new Map;let m=1;for(const h of t){const p=s.get(h);p&&(u.set(h,m),l.push(Object.assign(Object.assign({},p),{num:m})),m+=1)}for(const h of e)u.has(h.safeId)||(u.set(h.safeId,m),l.push(Object.assign(Object.assign({},h),{num:m})),m+=1);return{idToNum:u,numbered:l}}function Vu(a,e){return a.replace(/\[\^([^\]]+)\]/g,(t,r)=>{const n=gn(r),i=e.get(n),s=String(i||r);return`<sup class="footnote-ref"><a href="#fn-${n}" data-fn="${n}">${s}</a></sup>`})}function x0(a){const e=[];let t=null;for(const r of a){if(vn(r)){t&&e.push(Object.assign({type:"subsection"},t)),t=null,e.push({type:"chunk",chunk:r});continue}if(r.type==="h3"){t&&e.push(Object.assign({type:"subsection"},t));const i=we.parseInline(r.text,{smartypants:!0}),s=`<h3 id="${r.id}">${i}</h3>`;t={heading:{id:r.id,text:r.text,html:s},children:[]};continue}const n=r;t?t.children.push(n):e.push({type:"chunk",chunk:n})}return t&&e.push(Object.assign({type:"subsection"},t)),e}function k0(a){if(a.type!=="subsection")return!1;const e=(a.heading.text||"").trim().toLowerCase();return/^question\s*\d+/.test(e)}function vn(a){if(a.type!=="callout")return!1;if(a.variant==="takeaway"||(a.title||"").toLowerCase().includes("takeaway"))return!0;const e=(a.content||"").slice(0,200).toLowerCase();return/^\s*\*\*.*takeaway/.test(e)}function $0(a){var e;if(typeof document>"u")return;const t=new Map,r=Array.from(a.querySelectorAll(".md-figcaption[data-fig-num]"));for(const u of r){const m=u.dataset.figNum;if(!m)continue;const h=u.previousElementSibling,p=h==null?void 0:h.id;p&&t.set(m,p)}if(!t.size)return;const n=u=>u?!!u.closest("a, code, pre, script, style, .md-figcaption"):!0,i=document.createTreeWalker(a,NodeFilter.SHOW_TEXT,{acceptNode(u){const m=u.nodeValue||"";if(!m||!/\b(Figure|Fig\.?)\s+\d+\b/.test(m))return NodeFilter.FILTER_REJECT;const h=u.parentElement;return n(h)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),s=[];for(;i.nextNode();)s.push(i.currentNode);const l=/\b(Figure|Fig\.?)\s+(\d+)\b/g;for(const u of s){const m=u.nodeValue||"";l.lastIndex=0;let h,p=0;const g=document.createDocumentFragment();for(;(h=l.exec(m))!==null;){const y=h[0],$=h[2],k=t.get($);if(!k)continue;h.index>p&&g.appendChild(document.createTextNode(m.slice(p,h.index)));const S=document.createElement("a");S.href=`#${k}`,S.className="link figref",S.textContent=y,g.appendChild(S),p=h.index+y.length}p!==0&&(p<m.length&&g.appendChild(document.createTextNode(m.slice(p))),(e=u.parentNode)===null||e===void 0||e.replaceChild(g,u))}}function Gu(a,e,t){let r,n;var i=this&&this.__awaiter||function(R,G,O,U){function N(ee){return ee instanceof O?ee:new O(function(V){V(ee)})}return new(O||(O=Promise))(function(ee,V){function ge(se){try{be(U.next(se))}catch(ve){V(ve)}}function K(se){try{be(U.throw(se))}catch(ve){V(ve)}}function be(se){se.done?ee(se.value):N(se.value).then(ge,K)}be((U=U.apply(R,G||[])).next())})};let{source:s}=e,l=s,u=[];const m=new Map;function h(R){const G=R||"",O=m.get(G);if(O!==void 0)return O;const U=we.parse(G,{smartypants:!0});return m.set(G,U),U}let p=null,g=null,y=null,$=null,k=null,S=null,z=null,C=null;function M(){S===null&&(S=requestAnimationFrame(()=>{S=null,D()}))}function A(){var R;if(!$||!p||typeof window>"u")return;const G=document.documentElement,O=(R=G==null?void 0:G.dataset)===null||R===void 0?void 0:R.sidecols;if(O==="on"||O==="off"){t(4,$.dataset.side=O,$);return}}function D(){if(!p||!g||!y||($==null?void 0:$.dataset.side)==="off")return;const R=se=>{const ve=se.closest("details");return!!(ve&&!ve.open)},G=Array.from(p.querySelectorAll(".footnote-ref a[data-fn]")).filter(se=>!R(se));if(!G.length)return;const O=new Map;g.querySelectorAll("li[id^='fn-']").forEach(se=>O.set(se.id.replace(/^fn-/,""),se)),g.querySelectorAll("li[id^='fn-']").forEach(se=>{se.style.display="none",se.style.position="",se.style.top="",se.style.marginTop=""});const U=y.getBoundingClientRect(),N=getComputedStyle(g),ee=parseFloat(N.fontSize||"14"),V=N.lineHeight,ge=V==="normal"?ee*1.6:parseFloat(V||String(ee*1.6)),K=new Set,be=[];for(const se of G){const ve=se.dataset.fn;if(!ve||K.has(ve))continue;const ye=O.get(ve);if(!ye)continue;K.add(ve),ye.style.display="flex";const pe=se.closest("sup.footnote-ref"),He=pe??se;let Ce=null;try{const et=document.createRange();et.setStartBefore(He),et.collapse(!0);const L=et.getClientRects();L&&L.length&&(Ce=L[L.length-1])}catch{}Ce||(Ce=He.getBoundingClientRect());const Lt=Ce.top+Ce.height/2-ge/2-U.top;ye.style.position="absolute",ye.style.top="0px",ye.style.marginTop="0px",be.push({id:ve,li:ye,desiredTop:Lt,height:0})}if(be.length){for(const Ce of be)Ce.height=Ce.li.getBoundingClientRect().height||ge;be.sort((Ce,Ze)=>Ce.desiredTop-Ze.desiredTop);const se=getComputedStyle(document.documentElement).getPropertyValue("--footnote-item-gap"),ve=Math.max(0,Math.round(parseFloat(se||"28")||28));let ye=-1/0;for(const Ce of be){const Ze=Math.max(Ce.desiredTop,ye+ve);Ce.li.style.top=`${Math.round(Ze)}px`,ye=Ze+Ce.height}const pe=Math.ceil(ye+12),He=y.getBoundingClientRect().height;t(3,y.style.minHeight=`${Math.max(pe,Math.ceil(He))}px`,y)}$&&t(4,$.dataset.fnAligned="1",$)}function X(R){const O=Array.from(R.querySelectorAll("video.autoplay-on-fullview")).filter(N=>!N.dataset._wired);if(O.length===0)return;for(const N of O){N.controls=!1,N.dataset._wired="1";let ee=!1;const V=()=>{ee=!0,window.removeEventListener("touchstart",V)};window.addEventListener("touchstart",V,{passive:!0,once:!0});const ge=()=>{ee||(N.controls=!0)},K=()=>{ee||(N.controls=!1)};N.addEventListener("mouseenter",ge),N.addEventListener("mouseleave",K),N.addEventListener("focus",ge),N.addEventListener("blur",K);let be=null;const se=()=>{be!==null&&(window.clearTimeout(be),be=null)},ve=()=>{const ye=parseInt(N.dataset.freezeMs||"10000",10);se(),be=window.setTimeout(()=>{try{N.currentTime=0}catch{}const pe=N.play();pe&&typeof pe.catch=="function"&&pe.catch(()=>{})},ye)};["play","pause","seeking","emptied","abort"].map(ye=>N.addEventListener(ye,se)),N.addEventListener("ended",ve),N._cleanupVideo=()=>{N.removeEventListener("mouseenter",ge),N.removeEventListener("mouseleave",K),N.removeEventListener("focus",ge),N.removeEventListener("blur",K),N.removeEventListener("ended",ve),se()}}if(!X._io){const N=new IntersectionObserver(ee=>{for(const V of ee){const ge=V.target,K=ge._clearRestartTimer;if(K&&K(),V.intersectionRatio>=1){const be=ge.play();be&&typeof be.catch=="function"&&be.catch(()=>{})}else ge.pause()}},{threshold:1});X._io=N}const U=X._io;O.forEach(N=>U.observe(N))}function re(R){const G=Array.from(R.querySelectorAll("pre > code"));for(const O of G){const U=O.parentElement;if(!U||U.dataset.copyable)continue;U.dataset.copyable="true",U.style.position="relative";const N=document.createElement("button");N.textContent="Copy",N.className="copy-btn",N.addEventListener("click",()=>i(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(O.innerText),N.textContent="Copied!",setTimeout(()=>N.textContent="Copy",1500)}catch{N.textContent="Error",setTimeout(()=>N.textContent="Copy",1500)}})),U.appendChild(N)}}function ae(){var R;if(typeof window>"u"||!p)return;const G=window.location.hash||"",O=G.startsWith("#")?G.slice(1):G;if(!O)return;const U=p.querySelector(`#${CSS.escape(O)}`);if(!U)return;let N=U.closest("details.foldbox");for(;N;)N.open||(N.open=!0),N=(R=N.parentElement)===null||R===void 0?void 0:R.closest("details.foldbox")}z0(()=>{if(p&&(ae(),X(p),re(p),$0(p),A(),M(),requestAnimationFrame(()=>A())),typeof window<"u"&&(window.addEventListener("resize",M,{passive:!0}),window.addEventListener("resize",A,{passive:!0}),window.addEventListener("hashchange",ae,{passive:!0}),window.addEventListener("sidecolschange",A,{passive:!0}),"MutationObserver"in window)){const G=document.documentElement;k=new MutationObserver(O=>{for(const U of O)if(U.type==="attributes"&&U.attributeName==="data-sidecols"){A();break}}),k.observe(G,{attributes:!0,attributeFilter:["data-sidecols"]})}typeof window<"u"&&"ResizeObserver"in window&&(z=new ResizeObserver(()=>M()),p&&z.observe(p),g&&z.observe(g)),typeof window<"u"&&"ResizeObserver"in window&&(C=new ResizeObserver(()=>A()),p&&C.observe(p));const R=document.fonts;R!=null&&R.ready&&typeof R.ready.then=="function"&&R.ready.then(()=>{A(),M()})}),cs(()=>{p&&(ae(),X(p),re(p),$0(p),A(),M())}),A0(()=>{if(!X._io)return;const R=X._io;p&&(p.querySelectorAll("video.autoplay-on-fullview").forEach(G=>{R.unobserve(G);const O=G._cleanupVideo;O&&O()}),typeof window<"u"&&(window.removeEventListener("resize",M),window.removeEventListener("resize",A),window.removeEventListener("sidecolschange",A),window.removeEventListener("hashchange",ae)),k&&(k.disconnect(),k=null),z&&z.disconnect(),C&&C.disconnect())});const de=R=>{if(typeof window>"u")return;const G=R.currentTarget.parentElement;if(!(G instanceof HTMLDetailsElement)||!G.open)return;const O=window.location.hash||"",U=O.startsWith("#")?O.slice(1):O;!U||!G.querySelector(`#${CSS.escape(U)}`)||history.replaceState(null,"",window.location.pathname+window.location.search)},$e=R=>{if(typeof window>"u")return;const G=R.currentTarget.parentElement;if(!(G instanceof HTMLDetailsElement)||!G.open)return;const O=window.location.hash||"",U=O.startsWith("#")?O.slice(1):O;!U||!G.querySelector(`#${CSS.escape(U)}`)||history.replaceState(null,"",window.location.pathname+window.location.search)},I=R=>{const G=R.currentTarget;if(!(G instanceof HTMLDetailsElement))return;const O=G.querySelector(".foldbox__caret");O instanceof HTMLElement&&(O.style.transform=G.open?"rotate(90deg)":"rotate(0deg)")};function Y(R){or[R?"unshift":"push"](()=>{p=R,t(1,p)})}function Me(R){or[R?"unshift":"push"](()=>{y=R,t(3,y)})}function q(R){or[R?"unshift":"push"](()=>{g=R,t(2,g)})}function he(R){or[R?"unshift":"push"](()=>{$=R,t(4,$)})}return a.$$set=R=>{"source"in R&&t(7,s=R.source)},a.$$.update=()=>{if(a.$$.dirty[0]&128){const{main:R,notes:G}=Pu(s||""),{idToNum:O,numbered:U}=Wu(R,G);t(8,l=Vu(R,O)),t(0,u=U),m.clear()}a.$$.dirty[0]&256&&t(9,r=(()=>{var R,G,O,U,N;const ee=[];let V=0;const ge=Ou(),K=l||"";for(;V<K.length;){ya.lastIndex=V,f0.lastIndex=V,g0.lastIndex=V,v0.lastIndex=V,b0.lastIndex=V,y0.lastIndex=V,w0.lastIndex=V;const be=ya.exec(K),se=f0.exec(K),ve=g0.exec(K),ye=v0.exec(K),pe=b0.exec(K),He=y0.exec(K),Ce=w0.exec(K);if(!be&&!se&&!ve&&!ye&&!pe&&!He&&!Ce){V<K.length&&ee.push({type:"text",content:K.slice(V)});break}const Ze=be?be.index:1/0,Lt=se?se.index:1/0,et=ve?ve.index:1/0,L=ye?ye.index:1/0,j=pe?pe.index:1/0,ue=He?He.index:1/0,Se=Ce?Ce.index:1/0,ie=Math.min(Ze,Lt,et,L,j,ue,Se);if(ue===ie){const ce=He.index,xe=ce+He[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)});const Te=((R=He[1])!==null&&R!==void 0?R:"").trim(),Ge=ge.slug(Te);ee.push({type:"h2",id:Ge,text:Te}),V=xe}else if(Se===ie){const ce=Ce.index,xe=ce+Ce[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)});const Te=((G=Ce[1])!==null&&G!==void 0?G:"").trim(),Ge=ge.slug(Te);ee.push({type:"h3",id:Ge,text:Te}),V=xe}else if(Ze===ie){Ze>V&&ee.push({type:"text",content:K.slice(V,Ze)});const ce=be[1];ee.push({type:"jumpbox",id:ce}),V=ya.lastIndex}else if(Lt===ie){const ce=se.index,xe=ce+se[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)}),wa.lastIndex=xe;const Te=wa.exec(K);if(!Te){ee.push({type:"text",content:K.slice(ce,xe)}),V=xe;continue}const Ge=K.slice(xe,Te.index).trim();ee.push({type:"callout",variant:"takeaway",title:"",content:Ge}),V=wa.lastIndex}else if(et===ie){const ce=ve.index,xe=ce+ve[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)}),xa.lastIndex=xe;const Te=xa.exec(K);if(!Te){ee.push({type:"text",content:K.slice(ce,xe)}),V=xe;continue}const Ge=K.slice(xe,Te.index).trim();ee.push({type:"small",content:Ge}),V=xa.lastIndex}else if(L===ie){const ce=ye.index,xe=ce+ye[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)}),ka.lastIndex=xe;const Te=ka.exec(K);if(!Te){ee.push({type:"text",content:K.slice(ce,xe)}),V=xe;continue}const Ge=((O=ye[1])!==null&&O!==void 0?O:"note").toLowerCase(),Wt=["note","tip","warning","info","takeaway"].includes(Ge)?Ge:"note",Zt=(U=ye[2])!==null&&U!==void 0?U:"",Sr=K.slice(xe,Te.index).trim();ee.push({type:"callout",variant:Wt,title:Zt,content:Sr}),V=ka.lastIndex}else{const ce=pe.index,xe=ce+pe[0].length;ce>V&&ee.push({type:"text",content:K.slice(V,ce)}),$a.lastIndex=xe;const Te=$a.exec(K);if(!Te){ee.push({type:"text",content:K.slice(ce,xe)}),V=xe;continue}const Ge=(N=pe[1])!==null&&N!==void 0?N:"Details",Wt=!!pe[2],Zt=K.slice(xe,Te.index).trim();ee.push({type:"fold",title:Ge,open:Wt,content:Zt}),V=$a.lastIndex}}return ee})()),a.$$.dirty[0]&512&&t(5,n=(()=>{const R=[];let G=null;for(const O of r){if(O.type==="h2"){G&&R.push(Object.assign({type:"section"},G));const N=we.parseInline(O.text,{smartypants:!0}),ee=`<h2 id="${O.id}">${N}</h2>`;G={heading:{id:O.id,text:O.text,html:ee},children:[]};continue}const U=O;G?G.children.push(U):R.push({type:"chunk",chunk:U})}return G&&R.push(Object.assign({type:"section"},G)),R})())},[u,p,g,y,$,n,h,s,l,r,de,$e,I,Y,Me,q,he]}class rc extends rr{constructor(e){super(),ar(this,e,Gu,Du,tr,{source:7},null,[-1,-1])}}function S0(a,e,t){const r=a.slice();return r[49]=e[t],r[51]=t,r}function M0(a){let e,t=xt(a[0]),r=[];for(let n=0;n<t.length;n+=1)r[n]=T0(S0(a,t,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=Ve()},l(n){for(let i=0;i<r.length;i+=1)r[i].l(n);e=Ve()},m(n,i){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(n,i);_e(n,e,i)},p(n,i){if(i[0]&1039){t=xt(n[0]);let s;for(s=0;s<t.length;s+=1){const l=S0(n,t,s);r[s]?r[s].p(l,i):(r[s]=T0(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(n){n&&H(e),B0(r,n)}}}function T0(a){let e,t,r=a[49].labelHtml+"",n,i,s,l,u,m;function h(){return a[15](a[49])}return{c(){e=oe("a"),t=new ut(!1),n=Ue(),this.h()},l(p){e=le(p,"A",{href:!0,class:!0,title:!0});var g=fe(e);t=ct(g,!1),n=Xe(g),g.forEach(H),this.h()},h(){t.a=n,P(e,"href",i=`#${a[49].id}`),P(e,"class",s=wn(`toc-item ${a[49].level===3?"sub":""} ${a[51]===a[3]?"active":""} ${!a[1]&&a[2]&&!a[2].has(a[49].id)?"hidden":""}`)+" svelte-wsnayn"),P(e,"title",l=a[49].labelText)},m(p,g){_e(p,e,g),t.m(r,e),ne(e,n),u||(m=jt(e,"click",ds(h)),u=!0)},p(p,g){a=p,g[0]&1&&r!==(r=a[49].labelHtml+"")&&t.p(r),g[0]&1&&i!==(i=`#${a[49].id}`)&&P(e,"href",i),g[0]&15&&s!==(s=wn(`toc-item ${a[49].level===3?"sub":""} ${a[51]===a[3]?"active":""} ${!a[1]&&a[2]&&!a[2].has(a[49].id)?"hidden":""}`)+" svelte-wsnayn")&&P(e,"class",s),g[0]&1&&l!==(l=a[49].labelText)&&P(e,"title",l)},d(p){p&&H(e),u=!1,m()}}}function Yu(a){let e,t,r,n=a[5]&&M0(a);return{c(){e=oe("nav"),n&&n.c(),this.h()},l(i){e=le(i,"NAV",{class:!0,"aria-hidden":!0});var s=fe(e);n&&n.l(s),s.forEach(H),this.h()},h(){P(e,"class","toc svelte-wsnayn"),P(e,"aria-hidden","true"),Tr(e,"ready",a[4]),Tr(e,"hidden",a[7])},m(i,s){_e(i,e,s),n&&n.m(e,null),a[16](e),t||(r=[jt(e,"wheel",a[9]),jt(e,"mouseenter",a[17]),jt(e,"mouseleave",a[18])],t=!0)},p(i,s){i[5]?n?n.p(i,s):(n=M0(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[0]&16&&Tr(e,"ready",i[4]),s[0]&128&&Tr(e,"hidden",i[7])},i:Ne,o:Ne,d(i){i&&H(e),n&&n.d(),a[16](null),t=!1,_0(r)}}}const Sa="sidecols";function ju(a){return!(a.hasAttribute("data-skip-meter")||a.getAttribute("data-meter")==="false"||a.classList.contains("no-meter"))}function Uu(a){var e;let t=a.closest("details");for(;t;)t.open=!0,t=(e=t.parentElement)===null||e===void 0?void 0:e.closest("details")}function Xu(a){let e=a||"";return e=e.replace(/\$([^$]+)\$/g,(t,r)=>r),e=e.replace(/\$\$/g,""),e=e.replace(/\\text\{([^}]+)\}/g,"$1"),e=e.replace(/\\mathrm\{([^}]+)\}/g,"$1"),e=e.replace(/\\mathbf\{([^}]+)\}/g,"$1"),e=e.replace(/\\mathit\{([^}]+)\}/g,"$1"),e=e.replace(/\\mathcal\{([^}]+)\}/g,"$1"),e=e.replace(/_\{([^}]+)\}/g,"_$1"),e=e.replace(/\^\{([^}]+)\}/g,"^$1"),e=e.replace(/\\/g,""),e=e.replace(/\s+/g," ").trim(),e}function Ku(a,e,t){let{containerSelector:r=".md-output"}=e,{headingsSelector:n="h2, h3"}=e,{tocMaxWidthCap:i=320}=e,s=[],l=[],u=!0,m=null,h=-1,p=null,g=!1,y,$=!1,k=!1,S=!1,z=null,C=null,M=-1,A=-1,D=!1,X=null,re=280,ae=16;function de(L){if(!pe)return;const j=pe.scrollHeight-pe.clientHeight;if(j<=0)return;const ue=pe.scrollTop,Se=Math.max(0,Math.min(j,ue+L.deltaY));Se!==ue&&(t(8,pe.scrollTop=Se,pe),L.preventDefault(),L.stopPropagation())}function $e(){document.documentElement.style.setProperty("--toc-max-width-cap",`${i}`)}function I(L){const j=document.documentElement,ue=`${Math.max(0,Math.round(L))}px`;j.style.setProperty("--md-main-col",ue)}function Y(L){const j=document.documentElement;j!=null&&j.dataset&&(j.dataset[Sa]=L),z!==L&&(z=L,window.dispatchEvent(new CustomEvent("sidecolschange",{detail:{side:L}})))}function Me(){const L=document.scrollingElement||document.documentElement;if(!L)return!1;const j=L.scrollLeft;L.scrollLeft=j+1;const ue=L.scrollLeft!==j;return L.scrollLeft=j,ue}function q(L){const j=L.getBoundingClientRect();return window.scrollY+j.top}function he(L){const j=L.closest("details");if(j&&!j.open){const ue=j.querySelector("summary");return q(ue||j)}return q(L)}function R(L){var j;const ue=p??document,Se=ue.querySelector(`#${CSS.escape(L)}`);if(!Se){window.location.hash=`#${L}`;return}let ie=null,ce=Se.closest("details");for(;ce;){if(!ce.open){ie=ce;break}ce=(j=ce.parentElement)===null||j===void 0?void 0:j.closest("details")}Uu(Se);const xe=()=>{const Te=ue.querySelector(`#${CSS.escape(L)}`)||Se,Ge=window.scrollY,Wt=Te.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:Wt,behavior:"smooth"}),window.location.hash!==`#${L}`&&(window.location.hash=`#${L}`),G(),U(),setTimeout(()=>{Math.abs(window.scrollY-Ge)<2&&(history.replaceState(null,"",window.location.pathname+window.location.search),window.location.hash=`#${L}`,Te.scrollIntoView({block:"start",inline:"nearest"}))},60)};requestAnimationFrame(ie?()=>requestAnimationFrame(xe):xe)}function G(){p=document.querySelector(r);const L=p?p.querySelectorAll(n):document.querySelectorAll(n);s=Array.from(L).filter(j=>ju(j)).map(j=>{const ue=j;ue.id||(ue.id=(ue.textContent||"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""));const Se=!!ue.closest("summary"),ie=ue.closest("details"),ce=!!(ie&&!ie.open),xe=Xu(ue.textContent||""),Te=ue.innerHTML||xe;return{id:ue.id,level:ue.tagName==="H2"?2:3,top:he(ue),labelText:xe,labelHtml:Te,inSummary:Se,inClosedDetails:ce,el:ue}}),t(0,l=s),O(),ge(),U()}function O(){if(!p){t(7,S=!1);return}const L=document.documentElement,j=(L==null?void 0:L.clientWidth)||window.innerWidth||0,ue=Me(),Se=.615,ie=.61;if(ue||j<=0)D=!1;else{const xe=760/j;D?xe<=ie&&(D=!1):xe>=Se&&(D=!0)}t(7,S=D),Y(S?"off":"on")}function U(){const L=window.scrollY+8;let j=-1;for(let Se=0;Se<s.length;Se+=1){const ie=s[Se];ie.top=he(ie.el),ie.top<=L&&(j=Se)}if(j>=0){const Se=s[j].top;if(s[j].inClosedDetails){for(let ie=j;ie>=0&&s[ie].top===Se;ie-=1)if(s[ie].inSummary){j=ie;break}}}t(3,h=j);const ue=ee();t(1,u=k||h<0||ue),t(2,m=u?null:N(h))}function N(L){if(L<0)return null;let j=-1;for(let ie=L;ie>=0;ie-=1)if(s[ie].level===2){j=ie;break}if(j<0)return null;let ue=s.length;for(let ie=j+1;ie<s.length;ie+=1)if(s[ie].level===2){ue=ie;break}const Se=new Set;for(let ie=j;ie<ue;ie+=1)Se.add(s[ie].id);return Se}function ee(){if(!p)return!1;const L=Array.from(p.querySelectorAll("details[data-h2fold]"));return L.length?L.every(j=>!j.open):!1}function V(){X===null&&(X=requestAnimationFrame(()=>{X=null,U(),K()}))}function ge(){if(!pe||!p)return;const L=p.getBoundingClientRect(),j=Math.max(L.left,0),ue=getComputedStyle(document.documentElement).getPropertyValue("--toc-gap")||getComputedStyle(document.documentElement).getPropertyValue("--side-gap"),Se=Math.max(0,Math.round(parseFloat(ue||"32")||32)),ie=getComputedStyle(document.documentElement).getPropertyValue("--toc-min-left"),ce=Math.max(0,Math.round(parseFloat(ie||"16")||16)),xe=pe.querySelectorAll(".toc-item:not(.hidden)");let Te=0;if(xe.forEach(Vt=>{const ns=Vt.style.width,is=Vt.style.whiteSpace;Vt.style.width="max-content",Vt.style.whiteSpace="nowrap";const ss=Math.ceil(Vt.getBoundingClientRect().width);Vt.style.width=ns,Vt.style.whiteSpace=is,Te=Math.max(Te,ss)}),Te===0)return;const Ge=Math.max(0,Math.floor(j-Se)),Wt=getComputedStyle(document.documentElement).getPropertyValue("--toc-max-width-cap"),Zt=Math.max(0,Math.round(parseFloat(Wt||"320")||320)),Sr=Ge>0?Math.min(Te,Ge):Te;pe.style.setProperty("--toc-max-width",`${Math.min(Sr,Zt)}px`),pe.style.setProperty("--toc-left",`${ce}px`),re=Math.min(Sr,Zt),ae=ce;const bn=document.documentElement.clientWidth||window.innerWidth||0,rs=ce+re+Se+12,yn=760,as=bn>0?Math.min(yn,Math.max(520,bn-rs)):yn;I(as)}function K(){!pe||!p||pe.style.setProperty("--toc-left",`${ae}px`)}let be,se,ve,ye=null,pe=null,He=null;z0(()=>{t(5,$=!0),$e(),y=requestAnimationFrame(()=>{G(),U(),t(4,g=!0)}),be=()=>V(),se=()=>G(),ve=()=>{G()};{if(window.addEventListener("scroll",be,{passive:!0}),window.addEventListener("resize",se),r){const L=document.querySelector(r);L&&(He=L,ye=new ResizeObserver(()=>G()),ye.observe(L),L.addEventListener("toggle",ve,!0))}setTimeout(()=>{O(),ge()},100),requestAnimationFrame(()=>O()),C=window.setInterval(()=>{const L=document.documentElement,j=(L==null?void 0:L.clientWidth)||window.innerWidth||0,ue=window.devicePixelRatio||1;j===A&&ue===M||(A=j,M=ue,O(),ge())},500)}}),A0(()=>{var L;window.removeEventListener("scroll",be),window.removeEventListener("resize",se),C!==null&&(window.clearInterval(C),C=null);{const j=document.documentElement;!((L=j==null?void 0:j.dataset)===null||L===void 0)&&L[Sa]&&delete j.dataset[Sa],z=null,window.dispatchEvent(new CustomEvent("sidecolschange",{detail:{side:"on"}}))}ye&&ye.disconnect(),He&&ve&&He.removeEventListener("toggle",ve,!0),y&&cancelAnimationFrame(y),X!==null&&cancelAnimationFrame(X)});const Ce=L=>R(L.id);function Ze(L){or[L?"unshift":"push"](()=>{pe=L,t(8,pe)})}const Lt=()=>{t(6,k=!0),U()},et=()=>{t(6,k=!1),U()};return a.$$set=L=>{"containerSelector"in L&&t(12,r=L.containerSelector),"headingsSelector"in L&&t(13,n=L.headingsSelector),"tocMaxWidthCap"in L&&t(14,i=L.tocMaxWidthCap)},$e(),[l,u,m,h,g,$,k,S,pe,de,R,U,r,n,i,Ce,Ze,Lt,et]}class ac extends rr{constructor(e){super(),ar(this,e,Ku,Yu,tr,{containerSelector:12,headingsSelector:13,tocMaxWidthCap:14},null,[-1,-1])}}const nc=`
![**Figure 1: We study the laws for compute-optimal sampling of RL training for LLMs along three axis:** #parallel rollouts($n$), #problems per batch($B_\\text{problem}$), and #sequential iterations($M$), where total rollout compute $C = n \\times B_\\text{problem} \\times M$. We find that (1) optimal parallel rollouts per problem ($n$) grows with  compute budget ($C$). (2) Easy and hard problems: similar scaling trends, but different mechanisms. (3) under fixed hardware constraints ($B = B_\\text{problem} \\times n$), prioritize **large $B_\\text{problem}$** (small $n$) at low compute budgets, but shift to **large $n$** (small $B_\\text{problem}$) at high compute budgets to maximize performance (3) #problems per batch ($B_\\text{problem}$) has marginal impact on performance when kept in a moderate range.](/assets/figures/scaling-law-plots-v2.gif "Figure 1: We study the compute-optimal RL for LLM along three axis: #parallel rollouts($n$), #problems per batch($B_\\text{problem}$), and #sequential iterations($M$), where total rollout compute $C = n \\times B_\\text{problem} \\times M$. We find that (1) optimal parallel rollouts per problem ($n$) grows with  compute budget ($C$). (2) Easy and hard problems: similar scaling trends, but different mechanisms. (3) under fixed hardware constraints ($B$ = $B_{problem}$ × $n$), prioritize **large $B_{problem}$** (small $n$) at low compute budgets, but shift to **large $n$** (small $B_{problem}$) at high compute budgets to maximize performance (3) #problems per batch ($B_problem$) has marginal impact on performance when kept in a moderate range.")


A persistent blocker to scaling up reinforcement learning (RL) for LLMs is the absence of a ::blue[***concrete workflow:***]:: a recipe that tells practitioners *what* to scale in the recipe, *how* to scale it, and *what outcomes of scaling one should expect*. In many areas of modern-day AI, such workflows emerge from empirical scaling laws[^arxiv-org-1712-00409] [^arxiv-org-2001-08361] [^arxiv-org-2203-15556]: small-scale experiments reveal how performance should grow with compute, data, or model size. These laws inform compute allocation, models to use, and hyperparameter settings.

For RL, scaling laws remain far less understood compared to pre-training or supervised learning due to the interplay between data collection (::blue[***exploration***]::) and optimization (::blue[***learning from data***]::). Recent works have begun to sketch what these laws might look like in classical deep RL settings[^arxiv-org-2104-03113] [^arxiv-org-2301-13442] [^value-scaling-github-io-value-scaling-github-io]. But in the LLM setting, this line of work is still in its infancy. The most relevant prior results[^arxiv-org-2510-13786] show that, under **specific conditions** (a particular problem mixture), reward curves in RL follow a clean sigmoidal shape when run for longer. Another prior work[^arxiv-org-2509-25300] shows that RL training exhibits similar scaling behavior as pre-training in the model size, but ignores other hyperparameters. Simply fitting the shape of a learning curve or showing gains with larger models however does not answer one major question scaling laws intend to address: ***resource allocation** to set up an RL run under the conditions that a downstream user faces*. Given a base model, a problem set, and a total budget on compute, how should one spend this compute? If we had 10x more compute, how should that be spent? Which hyperparameters affect this resource allocation question the most and why? How does resource allocation change when the base model changes?

We have been working toward answering these questions. This article aims to frame the core scaling issues and provide practical guidance for allocating compute in on-policy RL for LLMs, with a particular focus on compute spent on **on-policy sampling (rollouts)**. The resulting picture is nuanced: scaling behavior is governed not just by total compute, but by its interaction with the base model and the prompt distribution. Nevertheless, we find that **predictable allocation rules for key hyperparameters emerge as a function of increasing sampling compute**. Concretely, for on-policy RL algorithms that optimize policies using multiple parallel rollouts per sequential gradient step, we observe the following:

- ::blue[**Optimal parallel rollouts per problem ($n$) grows with sampling compute budget ($C$)**.]:: As the total sampling budget $C$ increases, the optimal $n$ grows following a ::blue[***predictable sigmoid***]::. This indicates to maximize performance, practitioners should configure $n$ based on their the **compute budget**: allocating larger $n$ when given a higher compute budget; smaller $n$ when the compute budget is small.
- ::blue[**Easy and hard problems: similar scaling trends, but different mechanisms.**]:: While both easy and hard problem sets benefit from scaling $n$, the underlying mechanisms are different. On easy problems, larger number of rollouts ($n$) primarily acts to sharpen the policy on already solvable problems, indicated by the improvements in the worst@k metric. In contrast, on hard problem sets, scaling $n$ is essential for expanding coverage (discovering rare successful trajectories), directly improving the best@k metric.
- ::blue[**The number of unique problems per batch ($B_\\text{problem}$) impacts easy and hard problem differently**.]:: We find that varying the number of unique problems per batch ($B_{\\text{problem}}$) yields negligible changes in validation reward, provided it is neither too small or too large, given a fixed number of parallel rollouts ($n$). Thus, under fixed hardware constraints on total batch size ($B = B_{\\text{problem}} \\times n$), this insensitivity dictates a dynamic allocation strategy: prioritize **large $B_{\\text{problem}}$** (small $n$) at low compute budgets, but shift to **large $n$** (small $B_{\\text{problem}}$) at high compute budgets to maximize performance. However, the trade-off on hard problems where reward is hard to obtain is more nuanced and may be hard to predict apriori.
- ::blue[**The scaling trend of parallel rollouts ($n$) generalizes across setups, while its saturation point is context-dependent.**]:: We find the benefits of scaling $n$ at higher compute hold across different base models and datasets, the specific value at which $n$ saturates is governed by three key interactions: **a) Base model.** Intrinsic model capacities dictate the sensitivity to interference and transfer across problems, shifting the effective range of $n$ before performance plateaus. **b) Problem set size.** Smaller datasets lower the saturation point due to **early overfitting** on easy problems, where validation reward degrades despite training reward gains, rendering very large $n$ values infeasible. **c)** **Problem distribution.** Harder problems saturate at lower $n$ values as they require a critical mass of sequential updates to make progress, effectively constraining the budget available for width. Furthermore, on skewed distributions, the scaling $n$ trend holds, while the optimal $n$ is heavily influenced by the specific metric one wishes to optimize (due to interference between easy and hard prompts).

---

## Where RL Scaling Laws Come From (When They Exist), Conceptually

To begin, it helps to recall why scaling laws can be derived in supervised learning or pre-training, and what makes learning dynamics predictable in these settings. In supervised learning, the objective is typically cross entropy, which is smooth and optimized over a fixed data distribution. This results in relatively well-behaved optimization dynamics, where small parameter updates lead to small and predictable changes in the loss. Consequently, under well-chosen hyperparameters, which can often be identified through small-scale experiments, the training dynamics of supervised learning become predictable, allowing the loss to be modeled as a function of compute or data. The **statistical structure of the data**, such as the covariance spectrum, remains constant through training. A simple mental model would be that the decay of this spectrum[^arxiv-org-2102-06701] governs the power law scaling behavior observed in practice. We emphasize that this perspective is an approximation rather than a formal proof, but it provides useful intuition for why scaling laws emerge in supervised learning. In RL, the challenge of deriving any scaling law is two fold: 

1. ::blue[**the objective given by the  expected reward (unlike cross-entropy) behaves non-smoothly across training iterations which make small perturbations to the parameters,**]::
2. ::blue[**the data distribution itself depends on the policy being optimized**.]::

When training LLMs with a binary 0/1 reward, we observe that the first challenge of non-smooth rewards is relatively mild, and that it is indeed possible to predict the expected reward. However, we did also see in our early experiments that attempting to fit other performance metrics (e.g., pass@k or worst@k) that practitioners might care about poses predictability challenges due to objective shift. For this reason, rather than fitting performance directly, we fit **compute-optimal hyperparameters** as a function of resources. 

The second challenge is more fundamental. In online, on-policy RL, the base policy and every policy update determines the distribution of future experience, which is non-stationary. This in turn alters the effective data covariance seen by the policy. As training progresses, both the policy parameters and the data distribution evolve together. This violates the stationary data assumption with a fixed covariance spectrum that underlies many of the standard intuitions for scaling laws in supervised learning, and therefore the usual recipes for deriving scaling laws (e.g., in pre-training) are not directly applicable in RL.

***We therefore will first seek an RL recipe whose learning dynamics scale predictably with additional compute.*** In online RL, performance scaling is governed by two tightly coupled mechanisms: ::blue[**exploration**]::, which determines what data is collected, and ::blue[**optimization**]::, which determines what and how effectively the model learns from that data. These mechanisms are inherently in tension. Exploration favors sampling unlikely but potentially informative behaviors, while optimization pushes the policy toward responses that already achieve high reward. In LLM settings, exploratory responses are often extremely low probability under the current policy, and training on them can destabilize optimization[^www-notion-so-271211a558b7808d8b12d403fd15edda-p]. A common symptom of this instability is pathological behavior in the entropy of the model’s next-token distribution, which may grow uncontrollably. As a result, naive RL recipes lead to instability when run on different prompt sets. To mitigate this, we design what we refer to as a **“healthy” RL recipe**, in which data collection (exploration) and optimization are coupled smoothly that behavior remains stable and scaling trends can be predicted. Concretely, this entails avoiding off-policy samples, and using entropy or KL regularization only when supported by the prompt set. As we show in later sections, such recipes exhibit stable entropy dynamics and enable performance to scale in a regular manner, thereby admitting meaningful scaling-law analysis.

Given this tight coupling between data collection and optimization, small changes in exploration can substantially alter the data the model trains on next, leading to qualitatively different learning dynamics. As a result, ::blue[***RL training behavior differs substantially between easy and hard problems***]::. We further find that repeatedly updating on the same data leads to overfitting and causes the policy distribution to shift too rapidly, breaking predictability. This effect is consistent with our prior work[^value-scaling-github-io-value-scaling-github-io], which shows that ::blue[***clean scaling laws in RL emerge only when off-policy reuse is limited (i.e., a low updates-to-data ratio) and optimization remains stable***]::. Motivated by these findings, we focus on on-policy RL in the remainder of this post, and analyze scaling mechanisms separately for easy and hard problem regimes.

---

## Our Scaling Question: Compute-Optimal Sampling for LLM RL

Before we prescribe our healthy RL recipes or state our results, we first formally outline the key scaling setups that we operate in. Ultimately, scaling laws are useful because they help us decide how to allocate limited resources such as compute or data in order to achieve the best possible performance. Typically, these laws are obtained by running controlled small-scale experiments and extrapolating the observed trends. Therefore, it is helpful to begin with a basic question: **what resources actually matter in LLM RL?** In our setting, where RL is used to train a given base model on a fixed problem set, what are these resources?

In standard RL, two resources are crucial: **compute**, often measured in training FLOPs, and **data**, measured in the number of environment transitions collected online. In LLM RL, an environment naturally corresponds to a single prompt or problem, and as mentioned above, we assume access to a fixed set of such problems. When running RL post-training of a given base model on this fixed problem set, data is created entirely by spending compute on a given problem (prompt) set because every training rollout is obtained by rolling out the model (and problems are often negligibly-sized in comparison; though not always, e.g., in multi-turn settings, but we do only operate in a single-turn setting). This makes the distinction between compute and data less clear. Thus, for our study, we consider ::blue[***compute to be the only fundamental resource***]::. 

Given the primary resource of compute, it is natural to divide it into **training compute** and **sampling compute**. In LLM RL, sampling compute usually dominates the overall cost because every step of exploration requires generating multiple samples in an autoregressive manner. In addition, we typically train on all the data that is collected. Unless response lengths are scaled drastically, both training and inference compute scale (roughly) linearly with the number of tokens. This gives us a useful simplification for studying scaling. ***We can treat the sampling compute budget as the main quantity to allocate,*** since training compute grows in direct proportion to it, and focus on finding the most effective way to spend sampling compute. Before we go into our problem statement, we present some notation to simplify our discussion.

### Notation and Definitions

We define the primary symbols and their relationships as follows:

- $C$: sampling compute, measured as the **number of rollouts**. We use rollouts instead of tokens because the number of tokens generated per rollout is hard to predict ahead of time. Empirically, accounting for tokens yields the same scaling behavior in log-log space (see Appendix D).
- $M$: the total number of **gradient update iterations** in training (often called “*steps”* in common open LLM-RL frameworks).
- $B$: the **rollout batch size** per iteration, i.e., the total number of rollouts collected in one iteration.

The total rollout compute scales as:

$$
C \\propto B \\times M
$$

$B$ can be further broken down into two components:

- **$B_\\text{problem}$**: the number of **unique problems** in the rollout batch of each gradient step.
- **$n$:** the number of rollouts sampled **per problem** (also referred to as the *group size* in GRPO[^arxiv-org-2402-03300]).

To sum up, rollout compute $C$ can be decomposed into three resources, that we can allocate:

$$
C \\propto  B_\\text{problem} \\times n \\times M
$$

### Problem Statement

At a high level, our central scaling question is the following:

:::callout_begin type="tip" title=" ":::
**Given a base model and a problem set, how should we spend a fixed amount of sampling compute to maximize post-training performance?**
:::callout_end:::


This simple question abstracts all of the complexity of modern LLM RL. We make a simplifying assumption and assume that response length, on an average, is captured in the constants, we are now left to allocate sampling compute into $B_\\text{problem}, n, \\text{~and~} M$. In principle, we could carry out our analysis accounting for the compute spent in terms of the total tokens sampled instead of the total rollouts. However, in our experiments we observed that although response length might vary across settings, these variations manifest primarily as a constant offset in log-log space, leaving the fundamental scaling trends intact (see Appendix D for a comparison between rollouts and tokens). Hence, our conclusions would be similar whether or not we accounted for the sequence length, and we chose to ignore it for simplicity. Our scaling study is based on one model and a problem set, so we do not count them as resources. Hence, our formal resource allocation question is given by:

:::callout_begin type="tip" title=" ":::
**Given a base model, a problem set, and a sampling budget $C \\leq C_\\text{max}$, find the configurations of $n, M, B_{\\mathrm{problem}}$ that attain the best possible performance under a target performance metric.**
:::callout_end:::


Ideally, as more sampling compute is provided, the optimal values of $n, M, B_{\\mathrm{problem}}$ should be such that more compute translates to better performance. This means that the underlying recipe for which we prescribe values of $n, M, B_{\\mathrm{problem}}$ should be such that it ***scales in an healthy manner*** as more sampling compute is allocated. RL runs with LLMs often destabilize or collapse with many optimization steps, and this means that we must first prescribe a scalable/healthy RL recipe before studying the above resource allocation question.  We anchor our main experiments on Qwen2.5-7B-Instruct[^huggingface-co-qwen2-5-7b-instruct] and leverage Qwen3-4B-Instruct[^huggingface-co-qwen3-4b-instruct-2507] and Llama3.1-8B-Instruct[^huggingface-co-llama-3-1-8b-instruct] for extending our observations later.

---

## What Constitutes a Healthy RL Recipe for a Given Base Model?

Now, we discuss several characteristics of an RL recipe that lead to healthy optimization behavior. From our experiments, we identify a few key factors that consistently govern whether optimization and exploration remain stable and scalable: (1) the difficulty distribution of the dataset, (2) the behavior of token entropy, and (3) the learning rate. These are not the only factors, in fact, we also observe that “staleness” (or how off-policy the generated rollouts are) also affects scaling and performance, but leave a discussion of it from the current blog post to focus on fully on-policy approaches. 

### Factor 1: Dataset Difficulty Distribution

The first factor that informs the health of an RL run is the composition of the problem set. Easy problems, where the base model can already sample multiple correct traces, tend to produce rapid entropy collapse[^arxiv-org-2505-22617] of the model’s next token distribution. In contrast, making progress on very hard problems[^blog-ml-cmu-edu], where the base model can hardly sample ***any*** correct trace, requires careful optimization that actively couples with exploration. In fact, we show below that running standard RL recipes from training on easy problems often results in rather unstable behavior when the problem set is too hard. Recent works show training on such problems requires algorithmic modifications to make very hard problems “appear” easy first (see our blog post[^blog-ml-cmu-edu] and RL grokking[^rdi-berkeley-edu-rl-grokking-recipe]). This means that the difficulty of the problem set relative to the base model often very directly determines  the knobs behind a healthy RL recipe. 

**A practical way to quantify this difficulty is to evaluate the base model’s performance on the problem set prior to training.** In this blog, we use the Guru-Math[^arxiv-org-2506-14965] dataset for its sizable, carefully curated math problem collection with verified answers, which allows us to perform controlled sampling. We first measure the problem difficulty by *avg@16* (average accuracy over 16 trials obtained for a given problem) with the base model we use for RL training and then construct training problem sets by difficulty: 

- ::blue[***Easy***]:: problem set: **avg@16 in [0.3, 0.6]** (6k samples), with a 300-sample in-domain validation set.
- ::red[***Hard***]:: problem set: **avg@16 in** **[0.0, 0.0625]** (5k samples), with a 300-sample in-domain validation set.

![**Figure 2: Distributions of problem difficulty for the Easy and Hard problem sets.** Difficulty is quantified using avg@16, the average pass rate over 16 generations per problem.](/assets/figures/sec2_data_dist.png "Figure 2: Distributions of problem difficulty for the Easy and Hard problem sets. Difficulty is quantified using avg@16, the average pass rate over 16 generations per problem.")

Beyond these primary Easy and Hard sets for our experiments, we also curate a **Heterogeneous** set (mixing easy and hard set in different proportions) and an **Extremely Hard** (pass@128 = 0) for extending our observations. We default to utilizing the recipe for the Hard set on these problem sets as well. We discuss results on this set later in this post (see the section titled “The Bigger Picture”).

### Factor 2: Entropy Control

The interaction between the problem distribution and the base model is very clearly reflected in token-level entropy and, also somewhat, in the KL divergence to the base model. While neither directly measures task performance, both serve as sensitive indicators of optimization health. When entropy or KL becomes too large or too small, learning can stall or become unstable. Intuitively, entropy controls how broadly the policy explores at the token level, while the KL divergence anchors the policy to the base model and limits excessive drift. The behavior of these quantities depends on problem difficulty. It is often a common practice to add an entropy regularizer for training. On easy problems, running RL without a sufficiently large entropy regularizer often leads to premature entropy collapse. However, on hard problems, running RL with an entropy regularizer alone often leads to an explosion in entropy and response length. A KL constraint by itself typically over-constrains exploration and is unnecessary in most regimes, indeed RL runs can work just as well without a KL constraint. However, on hard problems, where entropy can explode early in training, a KL anchor is effective at delaying or totally avoiding instability. For this reason, ::blue[***whenever we use an entropy loss, we pair it with a KL loss to provide a stabilizing anchor.***]::

Prior work[^arxiv-org-2510-13786] often employs a **zero variance filtering** (”zero-var filter” in Figure 3 below) mechanism when using rollout-based policy gradient methods such as GRPO, removing training prompts where all rollouts are either all incorrect or all correct. This filtering typically serves two purposes. First, it increases the effective batch size by keeping prompts that produce a non-zero policy gradient. Second, when entropy and KL regularizers are used, it prevents these regularizers from being applied on rollouts that do not contribute to an active policy gradient. The second mechanism is particularly important on hard problems, where RL optimization naturally pushes the policy toward higher entropy in order to discover rare positive trajectories that are unlikely to be produced by the base model but succeed. This increase in entropy is driven by the policy gradient[^arxiv-org-2506-09026] itself and is often necessary for effective exploration. 

Even with zero-variance filtering applied, problems in which rare positives are sampled can still experience an entropy explosion, since the resulting entropy or KL regularizers remain active. More concretely, our experiments (Figure 3) show that applying zero-variance filtering to the KL and entropy terms mitigates some of the most severe instabilities on hard problems. However, we find that it does not fully eliminate instability in all cases. **Removing KL and entropy regularization entirely yields the most stable training dynamics**. Thus, we adopt **KL+entropy regularization on the Easy set**, where entropy otherwise tends to collapse, and **no KL or entropy regularization on the Hard set**, to avoid instability.

Note that we adopt the configuration above: we apply KL+entropy on easy tasks and remove both on hard tasks, to prioritize training stability in our scaling study. Importantly, our scaling findings do not depend on this specific choice of regularization as long as training stability is maintained. For example, although the main scaling study employs KL and entropy regularization on the Easy set, we observe that the same scaling findings in the later section remain consistent under alternative setups on the Easy set, including both a “no KL / no entropy” configuration and a “KL + entropy with zero-variance filtering” configuration.

::red[**Experiment setup.**]:: We use Qwen2.5-7B-Instruct as the base model with a max output length of 8,192 tokens and employ the GRPO[^arxiv-org-2402-03300-2] algorithm. We fix $B_\\text{problem}=256$ and $n=16$. On both the Easy and Hard sets, we perform ablations over (1) the presence of KL and entropy regularization and (2) the application of the zero-variance filter, including variants where the filter is applied only to the KL and entropy loss terms.

![**Figure 3: Ablations of KL+entropy and zero-var filter across the Easy and Hard problem set.** On the Easy set, all configurations improve steadily, with standard “KL+entropy” achieving the highest reward ***(left)***. On the Hard set, while applying zero-variance filtering to the KL and entropy terms helps mitigate instability, disabling these regularizers entirely results in significantly more stable training ***(right)***.](/assets/figures/sec2_kl_ent_ablation.png "Figure 3: Ablations of KL+entropy and zero-var filter across the Easy and Hard problem set. On the Easy set, all configurations improve steadily, with standard “KL+entropy” achieving the highest reward *(left)*. On the Hard set, while applying zero-variance filtering to the KL and entropy terms helps mitigate instability, disabling these regularizers entirely results in significantly more stable training *(right)*.")


### Factor 3: Learning-Rate Scaling

Building on the perspective of stable entropy and KL dynamics, the **learning rate (LR)**, denoted as $\\eta$, governs the magnitude of policy updates per unit of advantage. It is well-established that different model scales exhibit varying sensitivities to the learning rate (Kaplan et al. 2020[^arxiv-org-2001-08361-2]; Hoffman et al. 2022[^arxiv-org-2203-15556-2]), and additionally the best learning rate depends on the batch size in supervised learning (Krizhevsky 2014[^arxiv-org-1404-5997]; Goyal et al. 2017[^arxiv-org-1706-02677]; McCandlish et al. 2018[^arxiv-org-2505-23971]). Since we vary the batch size $B$ in our experiments, establishing a robust baseline LR and a systematic scaling strategy is essential. To formalize this choice, we first identify a **base learning rate anchor**. We then study how different scaling rules perform as the batch size increases. Based on our experiments *(Figure 4)*, we adopt $\\eta_{\\text{base}} = 10^{-6}$ as the anchor for a batch size of $B=1,024$ and utilize the **square-root scaling** rule with respect to $B$.

::red[**Experiment setup.**]:: We conduct these experiments on the Easy set using the AdamW[^arxiv-org-1711-05101] optimizer. The learning rate is linearly warmed up for 10 steps and then held constant for the remainder of training. We fix a baseline configuration with $B_\\text{problem}=128,n=8,B=128\\times 8=1,024$ and run a grid search for a good base LR anchor. We then increase $n$ to $64$ and $B$ to $128\\times64=8,192$ and compare three scaling strategies:

- **Constant LR:** $\\eta$ remains fixed regardless of changes in $B$.
- **Linear scaling:** $\\eta$ scales linearly with $B$.
- **Square-root scaling:** $\\eta$ scales proportionally to $\\sqrt{B}$.

As shown in Figure 4 below, we observe that ::blue[***square-root scaling enables faster convergence while avoiding the instability seen in linear scaling.***]:: Although we ran this experiment on the easy problem set, we expect the same learning rate scaling strategy to apply across problem sets of varying difficulty. Conceptually, the way the learning rate should scale with batch size is governed by gradient variance and noise. While problem difficulty may change the optimal *absolute* learning rate, it should not fundamentally change the underlying scaling relationship as batch size increases.

![**Figure 4: Base LR selection and scaling strategy validation.** We sweep of the base learning rate at $B=1024$, and identify $\\eta=10^{-6}$ as the baselineLR ***(left)***. We then compare LR scaling methods at a larger batch size ($B=8192$). **Square-root scaling** enables faster convergence without the instability observed in linear scaling, validating it as the robust choice for large-scale training ***(right)***.](/assets/figures/sec2_lr_scaling.png "Figure 4: Base LR selection and scaling strategy validation. We sweep of the base learning rate at $B=1024$, and identify $\\eta=10^{-6}$ as the baselineLR *(left)*.")

We then compare LR scaling methods at a larger batch size ($B=8192$). **Square-root scaling** enables faster convergence without the instability observed in linear scaling, validating it as the robust choice for large-scale training ***(right)***.

Based on the ablations above, we use the following RL recipe for the coming scaling experiments.

| **Distribution / Config** | **KL loss** | **Entropy loss** | **Zero-var filter** | **LR scaling** |
| --- | --- | --- | --- | --- |
| ***Easy*** | yes | yes | no | square root |
| ***Hard*** | no | no | no | square root |

:::callout_begin type="info" title="Key Takeaways":::

1. RL training exhibits distinct training behaviors depending on problem difficulty. We therefore explicitly **curate and control for both Easy and Hard datasets** to ensure the recipe is robust to different saturation points and exploration requirements. On heterogeneous datasets that we discuss later, we simply use the recipe corresponding to the Hard dataset to avoid instability.
2. The necessity of regularization changes based on the difficulty level. **Easy tasks** benefit from KL divergence and entropy constraints to prevent premature collapse, whereas **Hard tasks** achieve peak performance when these loss functions are removed to enable stable training. Training on mixed datasets is most stable when no KL divergence or entropy are used.
3. Learning rate should not be fixed as the total batch size $B$ changes, as in supervised learning. Of the schemes we compared, the **square-root learning rate scaling** strategy is the best.

:::callout_end:::

---

## Results: Compute-Optimal Allocation of Sampling Compute in LLM RL

We now turn to our central question: ***given a fixed sampling compute budget, how should we allocate it across the RL sampling knobs to maximize performance?*** Recall that the rollout compute $C$ scales $\\propto B_{\\text{problem}} \\times {n \\times M}$. Our goal is ***not*** to tune a single best configuration for training, but to identify **allocation workflows** for distributing a fixed sampling budget across problems per batch $B_{\\mathrm{problem}}$ and rollouts $n$ sampled for each problem in the batch. Across all experiments in this section, we sweep $(n, B_\\text{problem}, M)$ across a range of compute budgets $C$. For a fixed compute budget $C = C_0$, we evaluate multiple allocations and define the ***compute-optimal frontier*** as the highest IID validation set reward achievable using total compute $C_0$. We get different plots on the frontier as we increase and sweep over values of $C_0$.

::red[**Data analysis workflow.**]:: To make our scaling law prescriptions, we subsample the data from runs to only a smaller set of ***record-breaking*** points on a learning curve of reward (or any other performance metric) as a function of increasing compute. A record-breaking point is defined as the first point in a run that attains a higher validation reward relative to all previous points. For computing this higher reward, we first bucketize the reward into discrete bins and then pick the first points where the bucket increments. We then fit a monotonic function to the record-breaking points to obtain prescriptions for compute-optimal values of $n$, $B_\\text{problem}$, and $M$. Because this pre-processing is order-preserving, this procedure does not introduce spurious non-monotonicity and yields the same frontier in practice as fitting over all points.

Unless otherwise stated, we use Qwen2.5-7B-Instruct as the base model with the max output length 8,192 and the healthy *RL* recipe from above. We use on-policy updates with an Adam optimizer, scaling the learning rate proportionally to $\\sqrt{B}$, where the rollout batch size $B = B_\\mathrm{problem} \\times n$ (base LR = 1e-6 at $B=1024$); KL and entropy regularization are enabled on the Easy set and disabled on the Hard set (as discussed above); we fix the sampling temperature to 0.6 and $\\text{top} p$ to 1.0 for training and evaluation; we use GRPO to estimate advantages and truncated importance sampling (TIS[^fengyao-notion-site-flash-rl]) to mitigate training-inference logit mismatch. 

::red[**Experimental setup.**]:: We sweep over valid configurations $(B_{\\text{problem}}, n)$ from the Cartesian product $\\{32~(2^5), \\dots, 1024~(2^{10})\\} \\times \\{8~(2^3), \\dots, 2048 ~(2^{11})\\}$, subject to the hardware constraint $B_{\\text{problem}} \\times n \\leq B_{\\max}$. We set $B_{\\max} = 65,536$ for the Easy set and $16,384$ for the Hard set. The value of $B_\\text{max}$ is smaller for the hard set to allow for more sequential iterations, within our allowed computational budget. The total compute cost for these experiments was approximately 120,000 NVIDIA H200 GPU hours.

We concretely study compute-optimal allocation rules in three settings that allocate a subset of resources: 

1. $n$ vs $M$ (parallel rollouts vs sequential iterations)
2. $n$ vs $B_\\text{problem}$ (parallel rollouts vs the number of problems in a batch)
3. allocation across all resources.

### Question 1:  Trading Off Parallel Sampling $n$ with Sequential Iterations $M$

$$
C \\propto \\underbrace{B_{\\text{problem}}}_{\\text{fixed}}
\\times \\color{blue}\\underbrace{{n \\times M}}_{\\color{blue}{\\text{user allocated}}}

$$

We now examine compute allocation with the number of problems $B_\\text{problem}$ held constant, focusing on **the trade-off between parallel samples $n$ and sequential iterations $M$** under a fixed compute budget.

::red[**Fitting workflow.**]:: We plot reward vs compute $C$ curves for each fixed $n$ and fit a **monotonic sigmoid** to summarize how the validation set reward (avg@4) scales with compute for that $n$. As mentioned above, we then define the **compute-optimal frontier** as the upper envelope of these fitted curves (see Figure 5). Then, to indicate which $n$ lies on the frontier at each compute level, we color the frontier in Figure 5 by $n^*(C)$, which is the value of $n$ whose fitted compute–reward curve achieves the compute-optimal frontier **up to** $C$. Finally, in Figure 6, we fit a log-log plot to show  $n^*(C)$ as a function of  $C$ to summarize the empirical scaling behavior. We make four important observations in this setting.

::blue[**1) The value of $𝑛$ that lies on the compute-optimal frontier shifts systematically higher as the sampling compute** $C$ **increases (Figure 5).**]:: It is natural to expect larger values of $n$ to be generally favorable at higher compute budgets (echoing BroRL[^arxiv-org-2510-01180]), since increasing $n$ reduces noise in advantage estimates and lowers policy-gradient variance but eats up more sampling compute. Consistent with this, the frontier-attaining $n^*(C)$ shifts to larger values as $C$ grows, and we observe the same trend in both the Easy and Hard problem sets. Smaller values of $n$ exhibit rapid initial gains but plateau at a relatively lower compute regime, whereas larger $n$ sustain improvement over a broader compute range (*Figure 5*). This behavior also suggests that parallel and sequential compute are not exactly interchangeable. Choosing $n$ so that we are able to perform a sufficient number of sequential updates $M$ is necessary to achieve strong performance. 

![image.png](/assets/figures/sec3_q1_fixBprob_frontier.png "Figure 5: Validation reward frontier a function of compute $(B_\\text{problem}=32)$, where the frontier is computed by maximizing over values of $n$. The compute-optimal frontier shifts to larger $n$ with more $C$, showing that more parallelism becomes optimal at higher budgets. For easy problems *(left)*, small $n$ improves fast but plateaus; larger $n$ sustains gains and dominates at high compute. For the hard ones*(right)*, the same trend holds, but rewards are lower and saturate earlier, with the frontier reaching a smaller value than $n$ on the easy problems.")


::blue[**2) Compute-optimal values of $n$ are well-approximated by a sigmoid function of** $C$  **(Figure 6).**]::  We next seek to fit a functional relationship for the compute optimal value $n^*(C)$ as a function of the available compute $C$. A natural first step is to hypothesize an appropriate functional form. As shown in Figure 5, increasing $C$ admits larger compute optimal values of $n$, and over a substantial range this relationship appears approximately linear on a log-log scale. The key question is whether this growth continues indefinitely or eventually saturates. Empirically, we observe a clear saturation in Figure 6. Even when evaluating rollout values up to $n=2,048$, values significantly larger than the saturation point, they fail to extend the frontier, with $n=512$ continuing to dominate.

We argue that this behavior is expected for a fixed base model and a fixed problem set. To build intuition, it is helpful to view increasing $n$ as analogous to spending more compute per gradient step. In empirical risk minimization, increasing capacity alone does not reduce validation error beyond a certain point unless additional training data is available or the train-test gap is reduced. This principle also underlies pre-training scaling rules from Chinchilla[^arxiv-org-2203-15556-2] that prescribe scaling both pre-training data and model capacity together. In a closely related RL setting, prior work on rejection fine-tuning[^arxiv-org-2406-14532] shows that the optimal value of $n$ on the training set is often capped by an upper bound. Increasing $n$ alone cannot overcome limitations imposed by a fixed problem set for training or base model. As a result, the compute optimal value of $n$ must eventually saturate even for RL, which is precisely what we observe empirically. We empirically validate this hypothesis regarding model-data interaction in the later analysis section, where we demonstrate how the saturation point shifts given *a different base model, problem set size, and distribution*.

![**Figure 6: Compute-optimal scaling of the parallel compute $n$** ($B_{\\text{problem}}=32$). The optimal value of rollouts $𝑛$ **shifts systematically higher** as the total sampling compute increases. Points show a running-average estimate of the frontier-attaining  $n^*(C)$ at each compute budget (colored by reward), and the red curves fit a sigmoid parameterizing $\\log n$ as a function of $\\log C$. For both the easy set ***(left)*** and hard set ***(right)***, $n^*(C)$ rises from small to very large values as compute increases. On the hard set, the final  value converges significantly below the maximal value of $n$ ($2^{10}$), and this value is lower than the easy set. ](/assets/figures/sec3_q1_fixBprob_sigmoid.png "Figure 6: Compute-optimal scaling of the parallel compute $n$ ($B_{\\text{problem}}=32$). The optimal value of rollouts $𝑛$ shifts systematically higher as the total sampling compute increases. Points show a running-average estimate of the frontier-attaining $n^*(C)$ at each compute budget (colored by reward), and the red curves fit a sigmoid parameterizing $\\log n$ as a function of $\\log C$. For both the easy set *(left)* and hard set *(right)*, $n^*(C)$ rises from small to very large values as compute increases. On the hard set, the final value converges significantly below the maximal value of $n$ ($2^{10}$), and this value is lower than the easy set.")


::blue[**3) Next**, **we find that the compute-optimal allocation *trend* remains consistent across difficulty levels, although we find harder sets prefer smaller values of** $n$ **(Figure 6)**.]:: We find that the qualitative compute optimal allocation trend remains consistent across problem difficulty. On both easy and hard problem sets, the compute optimal value of $n$ increases with total compute $C$ before eventually plateauing. However, the plateau occurs at markedly ***smaller*** values of $n$ on harder problems. In particular, very large values of $n$, such as $n=512$, yield lower final performance on the hard set and do not lie on the compute optimal frontier. ***This suggests that task difficulty imposes an upper bound on how large $n$ can be used effectively***. While it may seem intuitive that harder problems should benefit from larger $n$ due to increased sampling right away, we observe the opposite behavior in practice. On sufficiently hard problem sets, increasing $n$ allocates substantial compute to problems where the model receives little or no learning signal. In contrast, smaller values of $n$ focus optimization on the subset of prompts where nonzero signal is already present and meaningful improvement is possible. **Therefore, if compute is bounded**, it is better to use a smaller value of $n$ to increase the frequency of parameter updates (small $n$, large $M$, more epochs on the same subset of problems) that exploits reachable gains, rather than large parallel compute on problems that are persistently unsolved (large $n$, small $M$, fewer training epochs).

::blue[**4) Implications on optimization dynamics on the easy and hard sets and the role of various performance metrics (Figure 7).**]:: We saw in point 3 above that a smaller value of $n$ was more preferable for optimizing validation *average reward* (avg@4 per problem), and we attributed this behavior to the underlying behavior of RL training (i.e., solving more problems vs producing more correct rollouts on the same problem). In this point, we aim to better understand this optimization dynamics and evaluate how $n^*(C)$ changes if we were to change **the target performance metric** we study.

In particular, we consider two performance metrics: ***best@k** (or pass@k)* and ***worst@k**.* Recall the definitions:

- ***best@k***: the proportion of problems where *at least one* generated response out of $k$ is correct. This measures the model's **coverage** over the validation problem set.
- ***worst@k***: the proportion of problems where all $k$ generated responses are correct, also referred to as *perfect solvability.* This measures the robustness of the training procedure (i.e., the degree to which it can “**sharpen**” around the right solution).

Modulo compute-optimality, a larger value of $n$ coupled with as many sequential update steps as needed, should in principle, result in higher values for both best@k and worst@k on a training dataset. However, this is not quite the case when compute is bounded. We empirically identify the optimal values of $n^*(C)$ for obtaining the highest best@k and worst@k scores on the validation set, across different $B_\\mathrm{problem}$ values for the largest value of $C$, and show this number in Figure 7 below. We choose $k=4$, much smaller than any value of $n$ we study ($n \\gg k$), so that none of the trends in Figure 7 are “edge” cases or artifacts of empirical/fitting/workflow/statistical error. Perhaps surprisingly, we now see an interesting divergence in trends of compute-optimal $n$ that impacts the Easy and Hard sets differently. 

1. On the easy set, **a larger $n$ is compute-optimal for worst@4 (sharpening) performance, whereas relatively smaller values of $n$ are compute-optimal for the best@4 performance.** This means that a larger $n$ primarily improves by sharpening more on easy problems, while a smaller $n$ suffices to sample one correct rollout (expected since the set is easy).
2. Conversely, for hard problems, a larger $n$ is more critical for pushing the best@4 (coverage) boundary, while a relatively smaller $n$ is compute-optimal for improving worst@4 (sharpening). However, there is a limit beyond which a larger $n$ does not improve coverage on new problems in a compute-optimal manner, as indicated by Figure 7 that optimal values here remain generally lower than on the easy set). On the *Extremely Hard* set consisting of all pass@128=0 problems (Appendix A, Figure 21 ), we see a clearer tradeoff of coverage and sharpening: while larger $n$ improves best@k, excessive $n$ degrades worst@k and lowers the average reward. Thus, if targeting average reward, the optimal $n$ on hard problems is the value that balances coverage and sharpening well. 

The net effect of these distinct optimization dynamics is a similar trend of compute-optimal $n$ on the validation average reward (Figures 5 & 6), but these results imply that the target performance metric itself dictates the landscape of compute-optimal $n$. 

![**Figure 7: Different mechanisms of how $n$ values optimize best@4 vs. worst@4 on easy and hard problems.** For a given value of $B_\\text{problem}$ on the x-axis, the $n$ values shown on the y-axis yield the highest validation reward under best@4 and worst@4 metrics. On the Easy set ***(left)***, the best value of $n$ for best@4 ::blue[(blue)]:: is smaller than the best value of $n$ for worst@4 (red), indicating that improving robustness ::red[(worst@4)]:: requires substantially more parallel rollouts compared to improving coverage. In contrast, this trend reverses on the Hard set: a larger $n$ is needed to improve best@4 in a compute-optimal manner, while the value of worst@4 saturates at smaller $n$ ***(right)***.](/assets/figures/sec3_q1_fixBprob_bestworstk.png "Figure 7: Different mechanisms of how $n$ values optimize best@4 vs. worst@4 on easy and hard problems. For a given value of $B_\\text{problem}$ on the x-axis, the $n$ values shown on the y-axis yield the highest validation reward under best@4 and worst@4 metrics. On the Easy set *(left)*, the best value of $n$ for best@4 ::blue[**(blue)**]:: is smaller than the best value of $n$ for worst@4 ::red[**(red)**]::, indicating that improving robustness (worst@4) requires substantially more parallel rollouts compared to improving coverage.")

In contrast, this trend reverses on the Hard set: a larger $n$ is needed to improve best@4 in a compute-optimal manner, while the value of worst@4 saturates at smaller $n$ ***(right)***.

:::callout_begin type="info" title="Key Result Takeaways":::

1. The compute-optimal $n$ frontier **shifts systematically higher** as the total sampling compute increases, which is well fit by **a sigmoid curve**.
2. The trend remains consistent **across training dataset difficulties.**
3. The source of gain from large $n$ **shifts based on the training data difficulty**: scaling $n$ improves **sharpening** (worst@4) on the Easy set, but expands **coverage** (best@4) on the Hard set. 

:::callout_end:::

:::callout_begin type="info" title="Workflow Takeaways":::

- Depending upon the composition of the problem set, and how effectively can the base model learn on this set, we might see different underlying mechanisms for performance improvement. It is advisable to evaluate the mode of performance improvement for your base model on your prompt set, and accordingly use it to set $n$ as a function of the available $C$.

:::callout_end:::



### Question 2: Bounded Parallel Batch Compute: Trading off $B_\\text{problem}$ with $n$

$$
C \\propto \\underbrace{B}_{\\text{fixed}} \\times M = {\\color{blue}\\underbrace{B_{\\text{problem}} \\times n}_{\\text{user allocated for a fixed }B}} \\times M
$$

Next, we study a different scaling setup, where wish to allocate a fixed total batch size $B$ into the number of prompts used and the number of rollouts per prompt used. This question is important in practical settings where hardware parallelism (e.g., number of GPUs or data-parallel workers) is fixed, and a practitioner needs to make this compute allocation. In such cases, $B$ is often chosen as the largest rollout batch size that saturates sampling throughput (”system batch size”). We experimented with $B_\\text{problem}={8,16}$ for the Easy set under fixed $B$ to locate the upper and lower bounds for values of $B_\\text{problem}$ and $n$ that are effective.

We specify the number of sequential iterations $M$ ***a priori*** and seek allocations of $B_\\text{problem}$ and $n$ under a fixed total batch budget $B_\\text{problem} \\times n \\leq B$ that maximize performance. We observe the following:

::blue[**1) On the easy problems, allocate more parallel compute $n$ when sequential steps $M$ is large.**]:: In this regime, we examine the compute-optimal value of $n$ under a fixed total batch size (illustrated with $B=8,192$ only below), as $M$ varies. As shown in Figure 8, the optimal choice $n^*(M)$ exhibits a sigmoidal dependence on $M$. This behavior suggests that when more sequential update steps are available, it is generally preferable to allocate additional compute toward increasing $n$, rather than increasing $B_\\text{problem}$. In contrast, when $M$ is small, allocating batch size toward a larger $B_\\text{problem}$ is more effective, as it enables many more epochs of training on the same problems (Figure 9) within a given number of sequential updates. 

On the Hard set, however, the scaling behavior is less consistent. The compute-optimal value $n^*(M)$ exhibits a non-monotonic dependence on $M$ (see Appendix A, Figure 20), which implies a similarly irregular trend for the optimal $B_\\text{problem}$. This is one of the main differences we see in scaling strategies across prompt sets of different difficulties. This happens because the Hard set behaves differently from the Easy set. 

Across all settings, learning signal in RL can be increased through two complementary mechanisms: (i) **sampling**, by increasing $n$ to raise the probability of observing correct rollouts on a given problem, and (ii) **coverage and generalization**, by increasing $B_\\text{problem}$ so that policy updates are informed by a broader set of problems with at least some learning signal. On the Easy set, where the base model already produces correct rollouts reliably, the dominant bottleneck is sampling quality, making larger $n$ consistently preferable.
On a harder problem set, we find that small values of $n$ remain ineffective at extracting a gradient signal when $M$ is small, even when it comes at the cost of training on a subset of problems in the Hard set. Next, when we increase $M$, contrary to the easy problem setting, we find that increasing $B_\\mathrm{problem}$ is now preferred as it avoids overfitting to the small training set of problems on which we got some signal initially. And then when we increase $M$ further we can now safely update on more problems without reducing $n$ for a higher $B_\\text{problem}$, and the compute-optimal allocation once again demands a higher value of $n$.      

![ **Figure 8.  Compute-optimal allocation shifts from $B_{\\text{problem}}$ to $n$ under a fixed total batch size constraint ($B=8,192$) on easy problems**. We fix the total rollout budget per step ($B = B_{\\text{problem}} \\times n$) and sweep the number of sequential iterations ($M$). A sigmoid relationship can explain the frontier of the optimal value of $n$ per problem. This curve indicates that $n^*(M)$ increases with $M$, a proxy of total compute $C$ given a fixed $B$ **(*left).*** The corresponding compute-optimal number of prompts $B_{\\text{problem}}^*(M)$ decreases with the available sampling compute according to an (inverse) sigmoid ***(right)***. These indicate the strategic shift toward higher per-problem sampling at larger compute budgets.](/assets/figures/sec3_q2_fixB_sigmoid.png "Figure 8: Compute-optimal allocation shifts from $B_{\\text{problem}}$ to $n$ under a fixed total batch size constraint ($B=8,192$) on easy problems.")

We fix the total rollout budget per step ($B = B_{\\text{problem}} \\times n$) and sweep the number of sequential iterations ($M$). A sigmoid relationship can explain the frontier of the optimal value of $n$ per problem. This curve indicates that $n^*(M)$ increases with $M$, a proxy of total compute $C$ given a fixed $B$ **(*left).*** The corresponding compute-optimal number of prompts $B_{\\text{problem}}^*(M)$ decreases with the available sampling compute according to an (inverse) sigmoid ***(right)***. These indicate the strategic shift toward higher per-problem sampling at larger compute budgets.

Next, **we ask what role does $B_\\text{problem}$ play?** To answer this question, we study the effect of modifying $B_\\text{problem}$ for a fixed $n$ and the effect of modifying $n$ for a given $B_\\text{problem}$ and assess if performance is more sensitive to $B_\\text{problem}$ or $n$. Our finding reveals that $B_\\text{problem}$ has minimal effect on validation performance.

::blue[**2) $B_\\text{problem}$ has a marginal effect on validation performance when fixing $n$.**]::  As shown in Figure 9 (left column), when fixing $n$, varying $B_\\text{problem}$ on the Easy set provides little variance on validation reward. In contrast, increasing $n$ (fixing $B_\\text{problem}$) shows a strong correlation with improved validation scores, up to the saturation point discussed in Question 1. We also find a similar trend on the Hard problem set (Figure 9; right column). For the easy set, this explains the sigmoidal trend in Figure 8: since $n$ is the primary driver of performance and $B_\\text{problem}$ yields little difference, increasing $n$ is preferred for large $C$ and $B_\\text{problem}$ decreases in return ($B_\\text{problem}=B/n$). However, though note that the variation in performance from $n$ and that from $B_\\text{problem}$ is overall smaller for the Hard set, which means that the optimal $n$ is more noisy; occasionally tilting the balance towards increasing $B_\\text{problem}$ to attain higher performance.  

Overall though, we find that setting a large $n$ (up to the saturation point), with a moderate $B_\\text{problem}$, is the most robust strategy. For example, in our experiments, we observed no significant threshold effects for $B_\\text{problem}$ between 32 and 1024 on the Easy set. However, on the Hard set or a skewed problem distribution, we speculate they may require a higher minimum $B_\\text{problem}$ for effective training. This behavior is intuitive. On a uniformly constructed Easy set (Figure 2), a relatively small but representative subset of problems already provides a good estimate of the underlying expectation. In contrast, for hard problems to the base model, training on a larger set of problems is necessary, since a small subset of problems that receive early learning signal can otherwise dominate through the course of training due to the “rich-gets-richer” dynamic of RL training. At the same time, the value of $n$ remains important. The resulting trade-off between problem coverage and per-problem $n$ leads to less predictable behavior on the Hard set (and explains the non-monotonic trends in setting $n$ and $B_\\text{problem}$ as shown in Appendix A Figure 20 and discussed above).

![**Figure 9:**  **Sensitivity of validation reward to $B_{\\text{problem}}$ versus varying $n$**. **Top Row**: Varying $B_{\\text{problem}}$ with fixed $n=16$. **Bottom Row**: Varying $n$ with fixed $B_{\\text{problem}}=32$. **Left (Easy)**: Validation reward is driven almost entirely by $n$ (9.2% variation; aligned with Question1 findings), while varying $B_{\\text{problem}}$ yields marginal impact (1.9% variation). **Right (Hard)**: The trend is more nuanced. While $n$ remains important, the sensitivity to $B_{\\text{problem}}$ (2.2% variation) becomes significant relative to the sensitivity to $n$ (3.8% variation) given the inherently low reward regime of hard tasks. The fluctuating trend in the top-right plot suggests that $B_{\\text{problem}}$ selection introduces optimization differences on hard tasks, explaining the less predictable allocation trends when fixing $B$ on hard problems. That said, the trend of performance with varying values of $n$ for a given fixed $B_\\text{problem}$ (bottom row; Hard problems) is still monotonically increasing indicating predictability of the best value of $n$.](/assets/figures/sec3_q2_fixB_varyBprob.png "Figure 9: Sensitivity of validation reward to $B_{\\text{problem}}$ versus varying $n$. Top Row: Varying $B_{\\text{problem}}$ with fixed $n=16$. Bottom Row: Varying $n$ with fixed $B_{\\text{problem}}=32$. Left (Easy): Validation reward is driven almost entirely by $n$ (9.2% variation; aligned with Question1 findings), while varying $B_{\\text{problem}}$ yields marginal impact (1.9% variation). Right (Hard): The trend is more nuanced. While $n$ remains important, the sensitivity to $B_{\\text{problem}}$ (2.2% variation) becomes significant relative to the sensitivity to $n$ (3.8% variation) given the inherently low reward regime of hard tasks. The fluctuating trend in the top-right plot suggests that $B_{\\text{problem}}$ selection introduces optimization differences on hard tasks, explaining the less predictable allocation trends when fixing $B$ on hard problems. That said, the trend of performance with varying values of $n$ for a given fixed $B_\\text{problem}$ (bottom row; Hard problems) is still monotonically increasing indicating predictability of the best value of $n$.")


---

:::callout_begin type="info" title="Key Result Takeaways":::

1. With a fixed total batch size $B$, increasing compute favors allocating more rollouts ($n$) per problem and fewer problems per batch ($B_{\\text{problem}}$). On the Easy set, this trend is clean following a sigmoid relationship, since large $B_{\\text{problem}}$ leads to rapid overfitting (as a result of multi-epoch training).
2. On the Hard set, this trend is non-monotonic: increasing $B_\\text{problem}$ may be desirable at some intermediate values of $M$.  While scaling $n$ remains the more critical resource to allocate, $B_{\\text{problem}}$ must maintain a minimum threshold to avoid incomplete optimization.

:::callout_end:::

:::callout_begin type="info" title="Workflow Takeaways":::

- It is preferable to train on fewer problems with a sampling large budget $n$ if we are allowed training for multiple epochs on the same problem set. On the other hand, if multi-epoch training is not possible, then it might be preferable to include on more problems in a batch.
- The value of minimal allowed $B_\\text{problem}$ is larger for the Hard set compared to the Easy set, where $n$ and $B_\\text{problem}$ both lead to more comparable differences in performance.

:::callout_end:::

### Question 3: Putting It All Together

$$
C \\propto \\color{blue}\\underbrace{{B_{\\text{problem}} \\cdot n \\cdot M}}_{\\color{blue}{\\text{varying user allocation}}}

$$

Finally, we relax all constraints and optimize $(B_{\\text{problem}},n,M)$ jointly under a fixed compute budget. Consistent with our previous findings, **the compute-optimal strategy is primarily defined by scaling $n$**. As shown in Figure 10 and 11, the optimal $n^*(C)$ follows a sigmoidal trend as compute increases, regardless of problem difficulty. In this regime, $B_{\\text{problem}}$ acts as a stability constraint rather than a performance driver. We discussed in Question 2 that setting $B_{\\text{problem}}$ within a moderate range (e.g., 32 to 1024) only yields a small variation in performance. While we did not study massive values of $B$ where both $B_\\text{problem}$ and $n$ are large, and their interaction at large batch sizes is certainly important for future work to study, we do exhaustively sample values of $B_\\text{problem}$ and $n$ within the range we had access to. **Our resulting practical recipe is simple: scale $n$ with compute according to the sigmoid, while keeping $B_{\\text{problem}}$ large enough to stabilize training.**

![**Figure 10. Compute-optimal parallel rollouts $n^*(C)$ as a function of total compute $C$, when** $B_\\text{problem}$, $n$, **and $M$ are all allowed to vary.** We sweep hyperparameters ($B_{\\text{problem}}, n, M$) to find the global optimal configuration at each compute budget. The compute-optimal $n$ increases monotonically with compute, fit by a sigmoid function on both easy ***(left)*** and hard ***(right)*** problems. ](/assets/figures/sec3_q3_sigmoid.png "Figure 10: Compute-optimal parallel rollouts $n^*(C)$ as a function of total compute $C$, when $B_\\text{problem}$, $n$, and $M$ are all allowed to vary. We sweep hyperparameters ($B_{\\text{problem}}, n, M$) to find the global optimal configuration at each compute budget. The compute-optimal $n$ increases monotonically with compute, fit by a sigmoid function on both easy *(left)* and hard *(right)* problems.")


![**Figure 11. Compute-optimal frontiers sweeping ($B_{\\text{problem}}, n, M$) on easy and hard problems**. We annotate ($B_\\text{problem}, n)$ on the frontier as they are configurations before training and $M$ automatically scaled during training. Consistent with our earlier findings, the optimal $n$ shifts systematically higher as compute increases. While $B_{\\text{problem}}$ changes on frontiers, its impact on performance is marginal (as discussed in Question 2 Figure 9) and thus, unlike $n$, the specific $B_{\\text{problem}}$ on the global frontier is more unpredicable.](/assets/figures/sec3_q3_frontier.png "Figure 11: Compute-optimal frontiers sweeping ($B_{\\text{problem}}, n, M$) on easy and hard problems.")

We annotate ($B_\\text{problem}, n)$ on the frontier as they are configurations before training and $M$ automatically scaled during training. Consistent with our earlier findings, the optimal $n$ shifts systematically higher as compute increases. While $B_{\\text{problem}}$ changes on frontiers, its impact on performance is marginal (as discussed in Question 2 Figure 9) and thus, unlike $n$, the specific $B_{\\text{problem}}$ on the global frontier is more unpredicable.

:::callout_begin type="info" title="Key Takeaways":::

1. When jointly optimizing across all hyperparameters ($n, B_{\\text{problem}}, M$), the compute-optimal value of $n$ still increases with $C$, similar to the findings from Questions 1 & 2.
2. Note the best total rollout size $B$ must generally increase as $C$ increases, though the compute-optimal value of $B_\\text{problem}$ can be roughly chosen to be a constant at all compute budgets.
3. Our prescribed workflow suggests tuning $n$ first for a new model or new run, followed by allocating $B_\\text{problem}$ to a reasonable value and setting $M$ accordingly to the remaining compute. This provides the practical recommendation for users.

:::callout_end:::

---

## The Bigger Picture: Role of the Base Model and the Prompt Set

The recurring takeaway from the analyses above is that **the compute-optimal number of rollouts, $n$, increases with available sampling compute $C$** and eventually saturates as training becomes bottlenecked by other factors. While this conclusion is straightforward, a more interesting observation is that the same qualitative trend appears on both Easy and Hard sets. This naturally raises several questions: do we expect this behavior to exist on datasets of other difficulty levels? Does it extend beyond the single base model considered so far? More broadly, under what interactions between a base model and a prompt distribution should we expect this trend to generalize? In the remainder of this section, we address these questions using a combination of conceptual arguments and empirical evidence. We begin by studying an “idealized” setting of training on a single problem, examine when predictions from the one-prompt case break down, and finally analyze how interactions of the base model and prompt set deviations from this ideal behavior.

### Base Case: Only One Training Problem

To build a conceptual model, let us study the simplest setting where we are provided with *one single problem* in the training set. We model this setting as a simple multi-armed bandit problem, where each arm represents one possible response to the problem. We assume training of a tabular softmax policy (i.e., softmax on independently represented logits denoting the response). Please see this for setup[^arxiv-org-2402-17235].

Now let’s say that the base model attains an average pass@1 rate of $p$ on this prompt and say $n$ i.i.d.  response samples drawn from the policy are used for training at one gradient step. First note that $n$ independent samples change $\\text{pass}@n$ exponentially: $\\text{pass@}n = 1-(1-p)^n$. Does $n$ change the policy gradient update on the problem in one update? Averaging over $n$ samples does **not** change the expected policy gradient direction: the expected update is identical to that obtained from a single sample. What it does change is the **variance** of the gradient estimate, which decreases by a factor $n$. Prior work[^arxiv-org-2402-17235] shows that, when using a single sample per update, tabular (stochastic) softmax policy gradient enjoys an $O(1/t)$ rate on the policy suboptimality (i.e., bound on optimal performance - attained performance) after $t$ update steps. When $n$ independent samples are used by averaging over the policy gradient update, repeating the same analysis yields $\\mathbb{E} \\Big[ \\text{suboptimality at step} ~t \\Big]  =  O \\left(\\frac{A}{n\\cdot  t} + \\frac{B}{t} \\right)$, where $B \\ll A$ is a constant that does not depend on the variance of the policy gradient estimate. The constant $A$ in $\\frac{A}{n \\cdot t}$ depends on variance in the policy gradient estimate and corresponds to the leading term (for reasonably small n).

With this guarantee, the convergence rate is still linear in $t$, but the effect of stochasticity reduces drastically. For the term $\\frac{A}{n \\cdot t}$, $n$ and $t$ can be interchanged: one can reduce the error in this term by using a larger $n$ for a smaller $t$. The other term depends only on $t$, indicating that out of all compute allocation configurations in Question 1, ::red[***for instance, one should prefer the configuration that makes more sequential updates*** $M$ ***as opposed to choosing a larger $n$.***]:: However, this is not the case in practice.

### Interference: Extending to Multiple Training Problems with Base Models

The theoretical argument above appears to contradict our empirical findings. While the theory suggests that sequential iterations $t$ (or $M$) take precedence over parallel rollouts $n$, our results consistently show that $n$ is more critical. Why does this discrepancy arise? It cannot be explained by training on multiple problems alone, since the tabular analysis predicts similar convergence rates in that setting as well, provided learning rates are adjusted appropriately. We therefore attribute this gap to **interference across problems**[^arxiv-org-1904-11455]. When multiple problems are trained jointly, updates interfere, causing different problems to be learned at different rates and slowing overall progress relative to the single-problem setting. As training proceeds, the model’s ability to solve previously somewhat solvable problems degrades. In this regime, allocating compute toward larger values of $n$ is preferable to increasing $M$, since higher number of rollouts promote more uniform updates across problems within each iteration. This shifts the compute-optimal balance toward parallel sampling rather than sequential optimization, mitigating interference and improving learning efficiency. The severity of interference also depends on the base model: some models admit representations where policy-gradient updates behave nearly tabular, while others exhibit strongly non-tabular interactions.

**Evaluating interference.** To understand the extent of interference, we visualize the evolution of the pass@1 distribution on the training set as a function of training steps. We observe that even on the Easy set (top row of Figure 12), where the initial pass@1 lies in the range $[0.3, 0.6]$, a non-trivial fraction of problems end training with no successful rollouts under both low ($n = 16$; Figure 12(a)) and high ($n = 128$; Figure 12(b)) rollout counts, when total compute is matched.

Under the same total compute budget (i.e., identical $n \\times M$), larger values of $n$ nevertheless lead to more uniform improvement across problems. In particular, the trained model’s pass@1 distribution in Figure 12(b) is closer to uniform, whereas the distribution for smaller $n$ in Figure 12(a) is more skewed, with mass concentrated on a subset of problems. This indicates that even on the Easy set, interference is present, and smaller $n$ results in less uniform updates across problems of varying difficulty, which mitigates some amount of interference: note that the proportion of problems with pass@1 = 0 is higher for a small $n$ in Figure 12 (a) at intermediate epochs compared to a large $n$ in Figure 12 (b).

<div class="md-figgrid-2x2">
  <figure>
    <img src="/assets/figures/sec4_trainreward_easy_smalln.gif" alt="Figure 12(a): Easy set, n=8 to epoch 16, matching the compute of n=128 at epoch 1." />
    <figcaption>(a) Easy set: n=8, epoch 16 (matched compute with n=128 @ epoch 1).</figcaption>
  </figure>
  <figure>
    <img src="/assets/figures/sec4_trainreward_easy_largen.gif" alt="Figure 12(b): Easy set, n=128 to epoch 1." />
    <figcaption>(b) Easy set: n=128, epoch 1.</figcaption>
  </figure>
  <figure>
    <img src="/assets/figures/sec4_trainreward_hard_smalln.gif" alt="Figure 12(c): Hard set, n=8 to epoch 32, match the compute of n=128 at epoch 2." />
    <figcaption>(c) Hard set: n=8, epoch 32 (matched compute with n=128 @ epoch 2).</figcaption>
  </figure>
  <figure>
    <img src="/assets/figures/sec4_trainreward_hard_largen.gif" alt="Figure 12(d): Hard set, n=128 to epoch 2." />
    <figcaption>(d) Hard set: n=128, epoch 2.</figcaption>
  </figure>
</div>

<div class="md-figcaption" data-fig-num="12">
  <strong>Figure 12: Training pass@1 distributions on Easy and Hard problem sets.</strong>
  (1) Interference is present: even on the Easy set (top row), where the initial pass rate lies in the range 0.3–0.6, a non-zero fraction of problems end training with pass@1 equal to 0, indicating that some problems become unsolved while the model optimizes others.
  (2) Under matched compute, larger values of <em>n</em> on the Easy set lead to more uniform improvements across problems compared to smaller <em>n</em>.
  (3) On the Hard set, larger <em>n</em> more effectively reduces the fraction of zero-pass problems, while smaller <em>n</em> prioritizes sharpening performance on already-solvable problems (mass near pass@1 = 1). This aligns with our findings in Question 1 that larger <em>n</em> on hard problems primarily improves problem coverage.
</div>

A similar pattern emerges on the Hard set in the bottom row of Figure 12. When the base model initially fails on many problems, smaller $n$ concentrates updates on a limited subset of problems, rapidly pushing their pass@1 toward 1 while leaving others unsolved. This behavior is reflected in Figure 12(c), where the mass at pass@1 = 0 increases at intermediate training stages. In contrast, larger $n$ produces a more even distribution of probability mass across pass@1 values (Figure 12(d)), reducing the fraction of zero-pass problems and improving coverage. That said, both of these distributions are farther from the uniform distribution in absolute terms. This aligns with our earlier findings that, on hard problems, larger $n$ prioritizes expanding problem coverage rather than sharpening performance on already-solvable tasks.

**Compute-optimal $n$ scaling generalizes for different base models.** As shown in Figure 13, larger $n$ values consistently outperform the baseline ($n=8$) at high compute budgets for both Qwen3-4B-Instruct and Llama 3.1-8B-Instruct on their own easy (0.3-0.6 init pass rate) and hard (0 init pass rate) problems. However, the values of $n$ are specifically model dependent, and largely depend on the interaction between the base model and the problem set. We also observed that the validation reward for both models ceases to increase or degrades at $n=128$ on both Qwen3 and Llama3.1 on easy problems. This saturation in validation performance occurs while the **training reward continues to rise**. **We attribute this divergence to the train-test gap (overfitting)**, that we discuss in the next section.

![**Figure 13: Generalization of compute-optimal $n$ scaling trends to other base models.** We experiment with Qwen3-4B-Instruct and Llama 3.1-8B-Instruct on their own easy (0.3-0.6 pass rate) and hard problems (0 pass rate) with varying $n$ values. (1) We see that increasing $n$ improves performance at high compute across different models and difficulties. Specifically, the optimal $n$ outperforms baselines in all cases: Qwen3-Easy peaks at $n=64$ ***(left)***, Qwen3-Hard continues improving at $n=32$ ***(middle)***, and Llama-Easy peaks at $n=16$ ***(right)***. (2) The optimal $n$ saturates at lower values here (e.g., $16\\text{-}64$) compared to the main experiments ($512$ on easy and $128$ on hard). This divergence suggests the **train-test gap (overfitting)** also affects the specific saturation point for each model-dataset combination. We dicusss the train-test gap in the next section.](/assets/figures/sec4_base_model.png "Figure 13: Generalization of compute-optimal $n$ scaling trends to other base models. We experiment with Qwen3-4B-Instruct and Llama 3.1-8B-Instruct on their own easy (0.3-0.6 pass rate) and hard problems (0 pass rate) with varying $n$ values. (1) We see that increasing $n$ improves performance at high compute across different models and difficulties. Specifically, the optimal $n$ outperforms baselines in all cases: Qwen3-Easy peaks at $n=64$ *(left)*, Qwen3-Hard continues improving at $n=32$ *(middle)*, and Llama-Easy peaks at $n=16$ *(right)*. (2) The optimal $n$ saturates at lower values here (e.g., $16\\text{-}64$) compared to the main experiments ($512$ on easy and $128$ on hard).")

This divergence suggests the **train-test gap (overfitting)** also affects the specific saturation point for each model-dataset combination. We dicusss the train-test gap in the next section.

**A mental model of interference.** From the above experiments, it is clear that perhaps a natural choice to model inference is through the distribution of $\\text{pass}@1$ across prompts. In fact, this distribution is a sufficient statistic in the tabular regime and also underlies inference-time scaling laws[^arxiv-org-2502-17578] that relate $\\text{pass}@n$ at a population level to the $\\text{pass}@1$ distribution. However, in RL the model also learns from the $n$ rollouts it produces, and the pass@1 under the base model no longer fully characterizes training dynamics. This is because updates across multiple problems introduce interference, which inference-only scaling does not face. A useful mental model is that interference is minimized and updates are closer to the tabular setting when learning happens in a fashion that is roughly distributed uniformly across prompts. From this perspective, changes in the $\\text{pass}@1$ distribution over training can act as a diagnostic for interference. When the distribution improves approximately uniformly at all values of pass@1, then interference is relatively controlled; when improvements are highly uneven, stronger interference effects are present and we might observe a rich-gets-richer phenomenon. For instance, we observed interference on the Hard set, where there is fast improvement on a narrow subset of problems, and no improvement on the others (i.e., a large chunk of problems simply remain at a pass@1 value < 0.1). This notion of interference also manifests as distinct underlying mechanisms of reward improvement (coverage vs sharpening) in Question 1. Despite these differences, both problem sets ultimately exhibit the same scaling law for allocating compute. 

### Train-Test Gap

Our scaling results are reported on validation metrics, even though optimization dynamics are primarily driven by the training set composition. As a result, the emergence of scaling laws on the validation set depends on sustained transfer of performance from the training to the test set, which is not guaranteed. For instance, when the prompt set is too small, training may overfit prematurely within a fixed number of gradient steps. In such cases, larger values of $n$ may no longer appear compute-optimal at higher compute budgets, simply because additional training beyond some number of training steps fails to improve test-set performance (see Figure 14 as an example, where $n=128$ is never compute-optimal). 

When overfitting dominates, scaling laws may only hold for certain ranges of hyperparameters that avoid the overfitting regime, but naively plotting scaling trends using our workflow above will result in incorrect conclusions. To illustrate this, we run training with different prompt set sizes, including sets substantially smaller than the default size of 6,000 problems used above. We observe that the compute-optimal values of $n$ cap out at much smaller levels when the prompt set is smaller. This behavior is expected, as validation performance begins to degrade with additional training compute in the small-prompt regime due to overfitting, meaning that there is no way for larger $n$ values to achieve the frontier. As discussed above, this also justifies the sigmoid shape of the hypothesized relationship between $n^*(C)$ and $C$ in Figure 6. 

Technically, we can also plot compute-optimal scaling laws for training performance instead of validation in the hope that compute-optimal hyperparameter configurations for best training rewards also results in best validation performance. We find evidence to the contrary as in many cases. Training runs with smaller values of $n$ (keeping $B_\\mathrm{problem}$ fixed) result in better training rewards for the same amount of total training compute spent (see Figure 14). While this result appears contradictory at first, ***it is perhaps expected as training reward (in our logging scheme) logs rewards on samples that were used for training: hence, logging statistics on this set results in a natural bias.*** More mechanistically, on the training set: 1) RL runs with smaller values of $n$ are able to epoch faster on the training problems for the same amount of sampling compute as runs with larger values of $n$; and 2) when we run RL with small values of $n$  then we are able to improve training performance quickly on easy problems without making any progress on the hard ones, which means that the total training performance is dominated by only one set of the data (easy problems), which rightly does not reflect in good validation performance. 

![Figure 14](/assets/figures/sec4_varyD.png "Figure 14: Impact of data size ($D$) on compute-optimal frontiers for Qwen2.5-7B-Instruct (easy set). With a larger dataset ($D=6\\\\text{k}$), we continues to improve with more parallel rollouts ($n=512$; left). With a smaller dataset ($D=500$), performance peaks at $n=256$, and a larger $n$ leads to degradation ($n=256$).")


### Dataset Skew: Extension to Other Data Compositions

Finally, we train on several Heterogeneous mixtures of Easy and Hard problems (Figure 15), as well as on an “extra hard” set consisting of problems on which the base model attains an empirical $\\text{pass}@128$ of $0$. These mixtures induce different degrees of dataset skew, which we expect to affect the rate at which $\\text{pass}@1$ improves during training (a smaller $n$ is likely to now improve $\\text{pass}@1$ more on easier problems in the subset resulting in more interference, while a larger $n$ should somewhat alleviate this issue). Despite this variation, Figure 15 reveals a **consistent crossover trend:** beyond a dataset-dependent compute threshold, larger values of $n$ outperform smaller ones across most validation sets. On particularly hard validation sets, larger $n$ often dominates almost entirely, or the range of compute over which smaller $n$ is optimal shrinks substantially. This behavior aligns with our findings from Question 1 and suggests that the rate of $\\text{pass}@1$ improvement controls both the width of the compute range over which a given $n$ is optimal and the minimum compute-optimal value of $n$. **Crucially, our central finding remains unchanged:** larger compute budgets $C$ consistently support larger compute-optimal values of $n$, even across highly skewed dataset mixtures.[^www-notion-so-1dfa954ff7c38094923ec7772bf447a1-p]

![Figure 15](/assets/figures/sec4_skewed_data_dist.png "Figure 15: Results across difficulty levels for small ($n=8$) and large ($n=64$) budgets under different training data distributions (each with 5K total samples) using Qwen2.5-7B-Instruct. Data definitions: Hard (pass@128=0), Easy (pass@128 $\\\\in [0.3, 0.6]$), and Very Easy (pass@128 $\\\\in [0.6, 0.9]$). Training settings: Row 1: Hard Only (100% Hard); Row 2: Heterogeneous-Dual Mix (50% Hard, 50% Easy); Row 3: Heterogeneous-Tri Mix (50% Hard, 25% Easy, 25% Very Easy; the J-shaped distribution recommended in Polaris). On each data distribution, we observe a consistent trend that larger $n$ performs better at higher compute in in-domain evaluations, except for the very easy eval (Column 3). This task is likely so easy that added sequential or parallel compute does not make much difference in learning. Putting it all together, we see that training on all hard problems causes significant catastrophic forgetting on (very) easy problems, where the model could have decent pass rates, likely due to large distribution shift. When mixing easy problems in training, the catastrophic forgetting is largely mitigated on both easy and very easy problems, in exchange for a slight drop (~2%) on hard problems. A notable phenomenon is that mixing very easy problems (Row 3) doesn’t even help the in-domain very easy evaluation set, and degrades both easy and hard performance (compare with Row 2). These indicate: (1) if the focus is only on improving hard problem performance, it helps to train on all hard data; (2) otherwise, mixing easy data largely helps maintain the model’s capability, but very easy data are not useful.")


:::callout_begin type="info" title="Key Takeaways":::

1. **Interference:** While sequential computation is more preferred in a tabular setting, interference across problems tilts the balance in favor of parallel computation; such that both $n$ and $M$ should be scaled as the available compute increases.
2. **Train-test gap and overfitting:** The size of the training problem set manifests as a train–test gap: when the training set is small, validation performance saturates early. This leads to lower saturation values for $n$ and $M$, and correspondingly higher optimal values of $B_\\text{problem}$.
3. **Scaling rules transfer across data compositions:** Although different base models exhibit different levels of interference on different problem sets, we observe similar scaling rules for how compute should be partitioned into parallel rollouts although for different underlying mechanisms. That said data compositions do affect the range of compute-optimal values of $n$.

:::callout_end:::

---

## Discussion, Summary, and Future Work

A central takeaway from this work is that ::blue[**healthy RL recipes are inherently dependent on the prompt distribution and the behavior of RL training depends on the interaction between the base model and the prompt set**]::, and that this dependence manifests directly in how optimal hyperparameters scale with compute. The same algorithm can exhibit qualitatively different scaling behavior on easy versus hard problem sets. On easier problems, increasing parallel rollout compute primarily improves sharpening and robustness, whereas on harder problems the dominant effect is expanded coverage. While trends in compute-optimal hyperparameters are often consistent when measured using average reward, they can diverge substantially under alternative metrics such as best@k and worst@k. This sensitivity to both data difficulty and evaluation metric highlights a key departure from supervised learning, where scaling behavior is typically more uniform once the model size is fixed. In RL, scaling laws are therefore inherently more nuanced, reflecting the coupled effects of optimization dynamics, exploration, task structure, and evaluation criteria. This study provides, perhaps the first, concrete framework for identifying and reasoning about these trends with base models and prompt sets, and empirically illustrates them across several regimes.

Our analysis also surfaces an important open challenge for future work: ::blue[**interference across problems**]::. In an idealized single-problem setting, one might expect clean exponential improvements with increasing sampling compute. In practice, however, RL is performed over mixtures of problems, where progress on some tasks can interfere with learning on others. This population-level interference alters both the coefficients and effective hyperparameter values in observed scaling laws.

A promising direction is to identify sufficient statistics early in training that capture the degree of interference across problems, enabling more accurate predictions of how additional compute will translate into subsequent learning progress. Tracking changes in the pass@1 distribution over the course of training could be a natural starting point for studying interference. Developing such models would be a critical step toward predictive scaling laws for RL on heterogeneous data mixtures. Mathematically, this points toward approximate closed-form rules for compute-optimal hyperparameters that generalize across base models and prompt distributions by estimating a small number of statistics that summarize the pass@1 landscape and incorporating them into scaling-law fits. This remains an interesting direction for future work.

---

## Acknowledgements

We thank Oleg Rybkin, Apurva Gandhi, Charlie Snell, Matthew Yang, Rishabh Agarwal, Sang Michael Xie, Ananya Kumar, Junlong Li, and Zora Wang for their thoughtful feedback on the blog. We also thank Chengyu Dong, Mikhail Yurochkin, Rupesh Srivastava, Joel Hestness, and Gavia Gray for early discussions on RL scaling in LLM. We gratefully acknowledge MBZUAI-IFM for providing computational resources. We also gratefully acknowledge the Orchard cluster at the FLAME center of CMU for providing some computational resources.

---

## Appendices

### A. Additional compute-optimal results

In the main results, we show one fixed value for $B_\\text{problem}=32$ for brevity. Figures 16 and 17 demonstrate that the scaling trend described in the main text, where larger compute budgets favor increased parallel rollouts ($n$), holds across different fixed values of $B_\\text{problem}$. While it appears that larger $B_\\text{problem}$ settings saturate at lower $n$ values (e.g., $n=16$ at $B_\\text{problem}=1,024$), this might be attributable to the total batch size constraint ($B_{\\max} \\geq B_\\text{problem} \\cdot n$) in the sweep experiments. The precise interaction between $B_\\text{problem}$ and the saturation point of $n$ remains an open question for future investigation.

![**Figure 16.** **Compute-optimal frontiers across varying problem batch sizes ($B_\\text{problem}$) on the Easy set. Each subplot fixed $B_\\text{problem}$ and sweeps $n$.**](/assets/figures/appx_fixBprob_easy.png "Figure 16: Compute-optimal frontiers across varying problem batch sizes ($B_\\text{problem}$) on the Easy set. Each subplot fixed $B_\\text{problem}$ and sweeps $n$.")


![**Figure 17.** **Compute-optimal frontiers across varying problem batch sizes ($B_\\text{problem}$) on the Hard set.** Each subplot fixed $B_\\text{problem}$ and sweeps $n$.](/assets/figures/appx_fixBprob_hard.png "Figure 17: Compute-optimal frontiers across varying problem batch sizes ($B_\\text{problem}$) on the Hard set. Each subplot fixed $B_\\text{problem}$ and sweeps $n$.")


Figure 18 and 19 provide additional compute-optimal frontiers under different fixed values of $B_\\text{problem}$ on the Easy and Hard splits. Consistent with Section 3.2, higher sampling budgets increasingly favor larger $n$, indicating that allocating more parallel rollouts per problem is a robust strategy across dataset difficulty and batch-size settings.

![**Figure 18.** **Compute-optimal frontiers on the Easy set under fixed total batch size $B \\in \\{4096,\\ 8192,\\ 16384\\}$.** Each subplot fixes the total batch size $B$ and sweeps the number of parallel rollouts per problem plotting validation reward versus compute (measured in millions of rollouts).](/assets/figures/appx_fixB_easy.png "Figure 18: Compute-optimal frontiers on the Easy set under fixed total batch size $B \\in \\{4096,\\ 8192,\\ 16384\\}$. Each subplot fixes the total batch size $B$ and sweeps the number of parallel rollouts per problem plotting validation reward versus compute (measured in millions of rollouts).")


![**Figure 19.** **Compute-optimal frontiers on the Hard set under fixed total batch size $B \\in \\{4096,\\ 8192,\\ 16384\\}$.** Compared to the Easy set, the trends are **noisier** in the Hard regime. Nevertheless, the qualitative trend remains consistent: as compute increases, the compute-optimal allocation increasingly favors larger parallel rollouts per problem, i.e., larger $n$.](/assets/figures/appx_fixB_hard.png "Figure 19: Compute-optimal frontiers on the Hard set under fixed total batch size $B \\in \\{4096,\\ 8192,\\ 16384\\}$. Compared to the Easy set, the trends are noisier in the Hard regime. Nevertheless, the qualitative trend remains consistent: as compute increases, the compute-optimal allocation increasingly favors larger parallel rollouts per problem, i.e., larger $n$.")


Finally, we report results on the in-domain *Extremely Hard* subset (pass@128 =0) using both **best@4** and **worst@4** metrics (Figure 20). We observe a clear **coverage–sharpening trade-off**: larger $n$ is more beneficial for improving **best@4** (coverage), while **worst@4** (sharpening) is compute-optimally maximized at a **moderate**  $n$ (e.g., $n=64$). Notably, overly large  $n$  (e.g., $n=256$) can underperform on worst@4 despite achieving better coverage, suggesting that the compute-optimal choice of $n$ on extremely hard problems typically lies in an intermediate regime that balances exploration and consistency.

![**Figure 20.** **Compute-optimal frontiers on the in-domain Extremely Hard subset (pass@128 =0), evaluated with best@4 (left) and worst@4 (right).** Larger $n$ improves **best@4** at higher compute, whereas **worst@4** is maximized by a **moderate**  $n=64$ , highlighting a strong coverage–sharpening trade-off in the extremely hard regime.](/assets/figures/appx_passall0.png "Figure 20: Compute-optimal frontiers on the in-domain Extremely Hard subset (pass@128 =0), evaluated with best@4 (left) and worst@4 (right). Larger $n$ improves best@4 at higher compute, whereas worst@4 is maximized by a moderate $n=64$ , highlighting a strong coverage–sharpening trade-off in the extremely hard regime.")


### B. Generalization to OOD tasks

In the main text, we prioritize in-domain validation results to minimize the influence of train-test distribution shifts, thereby allowing for a cleaner analysis of compute allocation scaling. In reality, practical post-training workflows require models to generalize to unseen distributions like downstream tasks. We examine whether the benefits of increasing parallel rollouts ($n$) extend to out-of-domain (OOD) downstream tasks. As illustrated in Figure 21, we observe that larger values of $n$ lead to higher performance on AIME24.

![Figure 21: AIME 24 scores trained with varying parallel rollouts ($n$) under a fixed problem batch size ($B_\\text{problem}=32$).](/assets/figures/appx_aime24.png "Figure 21: AIME 24 scores trained with varying parallel rollouts ($n$) under a fixed problem batch size ($B_\\text{problem}=32$).")


### C. Effects of baseline estimation variance

We discuss in the main content how and why larger $n$ could outperform small $n$ at high compute regime from exploration and optimization perspective. Another theoretical advantage of larger $n$ in the GRPO algorithm is that it provides a more robust estimator for the baseline (group average reward), thereby reducing the variance of the advantage estimates. To isolate the performance gain attributed specifically to precise baseline estimation versus simply training on more data, we conducted an ablation study with a fixed problem batch size of ($B_\\text{problem}=128$). We compared three settings:

1. **Large $n=256$**
2. **Small** $n=64$
3. **Decoupled: small $n=64$ for policy update and large $n=256$ for baseline estimation.** We generate 256 rollouts to compute high-precision advantage estimates, but randomly subsample only 64 rollouts to compute the policy gradient update.

We observe a performance **(1) > (3) > (2)**. 

- (3) > (2) confirms that a lower-variance baseline estimator contributes to the gains.
- The standard (1) $n=256$ run still outperforms the (3) setting, suggesting that while baseline precision matters, the primary benefit of scaling $n$ comes from the broader exploration.

![Figure 22. **Effects of baseline estimation variance.** Validation reward vs. compute (million rollouts) under a fixed problem batch size $B_{\\text{problem}}=128$, comparing three GRPO settings: (i) large group size $n_{\\text{train}}/n_{\\text{est}}=256/256$, (ii) small group size $64/64$, and (iii) decoupled baseline estimation $64/256$ (estimate baseline from 256 rollouts but sample 64 from them for the policy-gradient update). We observe consistent ordering **(1) > (3) > (2)**, showing that lower-variance baseline estimation improves performance ((3) > (2)), while the full $n=256$ run remains best, indicating the dominant gains from scaling $n$ come from broader exploration beyond baseline precision.](/assets/figures/appx_baselineest.png "Figure 22: Effects of baseline estimation variance. Validation reward vs. compute (million rollouts) under a fixed problem batch size $B_{\\text{problem}}=128$, comparing three GRPO settings: (i) large group size $n_{\\text{train}}/n_{\\text{est}}=256/256$, (ii) small group size $64/64$, and (iii) decoupled baseline estimation $64/256$ (estimate baseline from 256 rollouts but sample 64 from them for the policy-gradient update).")

We observe consistent ordering **(1) > (3) > (2)**, showing that lower-variance baseline estimation improves performance ((3) > (2)), while the full $n=256$ run remains best, indicating the dominant gains from scaling $n$ come from broader exploration beyond baseline precision.

### D. Compute metrics #rollouts vs. #tokens

To verify that our compute–optimal $n^*$ scaling is not an artifact of how we measure compute, we repeat the same fit using another unit: **total generated tokens**. As shown in Figure 23, both parameterizations lead to an almost identical sigmoid trend. This suggests that, for our training setup, using rollouts or tokens as the compute proxy makes little practical difference. The two views are largely related by a near-constant conversion factor governed by the average response length.

One noticeable difference is that the fitted slope parameter $k$ is not exactly the same across the two plots. This is expected: $k$ controls how sharply $n^*$ transitions as compute increases, and its numerical value depends on the units of $C$. In experiments, we observe a positive correlation between the model’s response length and validation rewards. For instance, models at the high-compute frontier tend to have longer response lengths. Since token-based compute accounts for response length, the $k$ value is smaller, indicating a shallower slope in $n$ scaling relative to compute. Therefore, the change in $k$ mainly reflects how response length modulates the mapping between rollouts and tokens, rather than a fundamental discrepancy in the underlying scaling behavior. Nonetheless, the overall scaling trend remains consistent.

![**Figure 23: $n^*$ scaling is consistent under token-based vs. rollout-based compute.** We fit sigmoid curves for $\\log_2(n^*)$ as a function of compute $C$, using either total generated tokens (**left**) or total rollouts (**right**). Both choices produce the same qualitative scaling curve—rapid growth followed by saturatfion—indicating that the compute-optimal $n^*$ trend is robust to the compute definition. ](/assets/figures/appx_token_compute.png "Figure 23: $n^*$ scaling is consistent under token-based vs. rollout-based compute. We fit sigmoid curves for $\\log_2(n^*)$ as a function of compute $C$, using either total generated tokens (left) or total rollouts (right). Both choices produce the same qualitative scaling curve—rapid growth followed by saturation—indicating that the compute-optimal $n^*$ trend is robust to the compute definition.")


## Citation
Please cite this work by:

\`\`\`bibtex
@misc{Cheng2026isocompute,
author={Cheng, Zhoujun* and Xie, Yutao* and Qu, Yuxiao* and Setlur, Amrith* and Hao, Shibo and Pimpalkhute, Varad and Liang, Tongtong and Yao, Feng and Liu, Hector and Xing, Eric and Smith, Virginia and Salakhutdinov, Ruslan and Hu, Zhiting and Killian, Taylor and Kumar, Aviral},
title={IsoCompute Playbook: Optimally Scaling Sampling Compute for RL Training of LLMs},
howpublished={url{https://compute-optimal-rl-llm-scaling.github.io/}},
year={2026},
}
\`\`\`
[^arxiv-org-1712-00409]: Hestness et al. (2017). [Deep Learning Scaling is Predictable, Empirically](https://arxiv.org/abs/1712.00409).

[^arxiv-org-2001-08361]: Kaplan et al. (2020). [Scaling Laws for Neural Language Models](https://arxiv.org/abs/2001.08361).

[^arxiv-org-2203-15556]: Hoffmann et al. (2022). [Training Compute-Optimal Large Language Models](https://arxiv.org/abs/2203.15556).

[^arxiv-org-2104-03113]: Jones et al. (2021). [Scaling Scaling Laws with Board Games](https://arxiv.org/abs/2104.03113).

[^value-scaling-github-io-value-scaling-github-io]: Value Scaling et al. (n.d.). [Scaling Laws for Value-Based RL](https://value-scaling.github.io/).

[^arxiv-org-2301-13442]: Hilton et al. (2023). [Scaling Laws for Single-Agent Reinforcement Learning](https://arxiv.org/abs/2301.13442).

[^arxiv-org-2510-13786]: Khatri et al. (2025). [The Art of Scaling Reinforcement Learning Compute for LLMs](https://arxiv.org/abs/2510.13786).

[^arxiv-org-2509-25300]: Tan et al. (2025). [Scaling Behaviors of LLM Reinforcement Learning Post-Training: An Empirical Study in Mathematical Reasoning](https://arxiv.org/abs/2509.25300).

[^arxiv-org-2102-06701]: Bahri et al. (2021). [Explaining Neural Scaling Laws](https://arxiv.org/abs/2102.06701).

[^www-notion-so-271211a558b7808d8b12d403fd15edda-p]: Liu et al. (n.d.). [When Speed Kills Stability: Demystifying RL Collapse from the Training-Inference Mismatch](https://www.notion.so/271211a558b7808d8b12d403fd15edda?pvs=21).

[^arxiv-org-2402-03300]: Shao et al. (2024). [DeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models](https://arxiv.org/abs/2402.03300).

[^huggingface-co-qwen2-5-7b-instruct]: Qwen Team et al. (2024). [Qwen2.5-7B-Instruct](https://huggingface.co/Qwen/Qwen2.5-7B-Instruct).

[^huggingface-co-qwen3-4b-instruct-2507]: Qwen Team et al. (2025). [Qwen3-4B-Instruct-2507](https://huggingface.co/Qwen/Qwen3-4B-Instruct-2507).

[^huggingface-co-llama-3-1-8b-instruct]: Meta et al. (2024). [Llama-3.1-8B-Instruct](https://huggingface.co/meta-llama/Llama-3.1-8B-Instruct).

[^arxiv-org-2505-22617]: Cui et al. (2025). [The Entropy Mechanism of Reinforcement Learning for Reasoning with LLMs](https://arxiv.org/abs/2505.22617).

[^blog-ml-cmu-edu]: Qu et al. (2025). [How to Explore to Scale RL Training of LLMs on Hard Problems?](https://blog.ml.cmu.edu/2025/11/26/how-to-explore-to-scale-rl-training-of-llms-on-hard-problems/).

[^rdi-berkeley-edu-rl-grokking-recipe]: Sun et al. (2025). [RL Grokking Recipe: How Can We Enable LLMs to Solve Previously Unsolvable Tasks with RL?](https://rdi.berkeley.edu/blog/rl-grokking-recipe).

[^arxiv-org-2506-14965]: Cheng et al. (2025). [Revisiting Reinforcement Learning for LLM Reasoning from A Cross-Domain Perspective](https://arxiv.org/abs/2506.14965).

[^arxiv-org-2506-09026]: Setlur et al. (2025). [e3: Learning to Explore Enables Extrapolation of Test-Time Compute for LLMs](https://arxiv.org/abs/2506.09026).

[^arxiv-org-2402-03300-2]: Shao et al. (2024). [DeepSeekMath: Pushing the Limits of Mathematical Reasoning in Open Language Models](https://arxiv.org/abs/2402.03300).

[^arxiv-org-2001-08361-2]: Kaplan et al. (2020). [Scaling Laws for Neural Language Models](https://arxiv.org/abs/2001.08361).

[^arxiv-org-2203-15556-2]: Hoffmann et al. (2022). [Training Compute-Optimal Large Language Models](https://arxiv.org/abs/2203.15556).

[^arxiv-org-1404-5997]: Krizhevsky et al. (2014). [One Weird Trick for Parallelizing Convolutional Neural Networks](https://arxiv.org/abs/1404.5997).

[^arxiv-org-1706-02677]: Goyal et al. (2017). [Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour](https://arxiv.org/abs/1706.02677).

[^arxiv-org-2505-23971]: Merrill et al. (2025). [Critical Batch Size Revisited: A Simple Empirical Approach to Large-Batch Language Model Training](https://arxiv.org/abs/2505.23971).

[^arxiv-org-1711-05101]: Loshchilov & Hutter (2017). [Decoupled Weight Decay Regularization](https://arxiv.org/abs/1711.05101).

[^fengyao-notion-site-flash-rl]: Yao et al. (2025) [Truncated Importance Sampling](https://fengyao.notion.site/flash-rl).

[^arxiv-org-2510-01180]: Hu et al. (2025). [BroRL: Scaling Reinforcement Learning via Broadened Exploration](https://arxiv.org/abs/2510.01180).

[^arxiv-org-2406-14532]: Setlur et al. (2024). [RL on Incorrect Synthetic Data Scales the Efficiency of LLM Math Reasoning by Eight-Fold](https://arxiv.org/abs/2406.14532).

[^arxiv-org-2402-17235]: Mei et al. (2024). [Stochastic Gradient Succeeds for Bandits](https://arxiv.org/abs/2402.17235).

[^arxiv-org-1904-11455]: Schaul et al. (2019). [Ray Interference: A Source of Plateaus in Deep Reinforcement Learning](https://arxiv.org/abs/1904.11455).

[^arxiv-org-2502-17578]: Schaeffer et al. (2025). [Inference-Time Scaling Laws for Large Language Models](https://arxiv.org/abs/2502.17578).

[^www-notion-so-1dfa954ff7c38094923ec7772bf447a1-p]: An et al. (2025) [POLARIS](https://www.notion.so/1dfa954ff7c38094923ec7772bf447a1?pvs=21).
`;export{rc as M,tc as S,ac as a,nc as t};
